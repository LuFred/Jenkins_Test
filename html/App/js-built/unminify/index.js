webpackJsonp([0],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\nvar _jquery = __webpack_require__(2);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(function () {\n  var mindex = '';\n\n  $('.fullPage').fullpage({\n    scrollingSpeed: 500,\n    //index.html#second 直接就是那个页面\n    anchors: ['first', 'second', 'third', 'forth', 'fifth', 'sixth'],\n    //showActiveTooltips: true,\n    scrollBar: true,\n    fitToSection: false,\n    menu: '#menu',\n    css3: true,\n    autoScrolling: true,\n    afterRender: function afterRender() {\n      $(\"iframe\").attr(\"src\", applicationPath + \"/Content/plugs/krpano/index.html\");\n    },\n    // fixedElements:$(\".index_panoramaBox\"),\n    // continuousVertical:true,\n    afterLoad: function afterLoad(index) {\n      mindex = index;\n      if (index === \"first\") {\n        $(\".index_panorama_icons\").css({\n          bottom: \"0\"\n        });\n      }\n      if (index === \"second\") {\n        $(\".index_panorama_icons\").css({\n          bottom: \"-3.04rem\"\n        });\n      }\n    }\n  });\n  $('.index_arrow').on('click', function () {\n    $.fn.fullpage.moveSectionDown();\n  });\n  $(\".iconBtn\").on(\"click\", function () {\n    if (mindex === 'first') {\n      $.fn.fullpage.moveSectionDown();\n      $(\".index_panorama_icons\").css({\n        bottom: \"-3.04rem\"\n      });\n    } else {\n      console.log($($(this).attr('data-content')));\n      var xxx = $(this).attr('data-content');\n\n      $('.' + xxx).css({\n        display: \"block\"\n      }).siblings().css({\n        display: \"none\"\n      });\n      console.log($('.' + xxx));\n    }\n  });\n\n  $(\"#index_nav_logReg\").click(function () {\n    $(\"#register_hidden\").css(\"display\", \"block\");\n  });\n\n  $(\"#close_button\").click(function () {\n    $(\"#register_hidden\").css(\"display\", \"none\");\n    //\t\t\tconsole.log($(this));\n    //\t\t\t$(this).attr(\"data\");\n    //\t\t\tconsole.log(typeof($(this).attr(\"data\")));\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy92aWV3cy9pbmRleC5qcz84YzkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQUVBLEVBQUUsWUFBVztBQUNaLE1BQUksU0FBUyxFQUFiOztBQUVPLElBQUUsV0FBRixFQUFlLFFBQWYsQ0FBd0I7QUFDcEIsb0JBQWdCLEdBREk7QUFFcEI7QUFDQSxhQUFTLENBQUMsT0FBRCxFQUFVLFFBQVYsRUFBb0IsT0FBcEIsRUFBNkIsT0FBN0IsRUFBc0MsT0FBdEMsRUFBK0MsT0FBL0MsQ0FIVztBQUlwQjtBQUNBLGVBQVcsSUFMUztBQU1wQixrQkFBYyxLQU5NO0FBT3BCLFVBQU0sT0FQYztBQVFwQixVQUFNLElBUmM7QUFTcEIsbUJBQWUsSUFUSztBQVVwQixpQkFBWSx1QkFBWTtBQUNwQixRQUFFLFFBQUYsRUFBWSxJQUFaLENBQWlCLEtBQWpCLEVBQXVCLGtCQUFnQixrQ0FBdkM7QUFDSCxLQVptQjtBQWFwQjtBQUNBO0FBQ0EsZUFBVyxtQkFBUyxLQUFULEVBQWdCO0FBQ3ZCLGVBQVMsS0FBVDtBQUNBLFVBQUcsVUFBVSxPQUFiLEVBQXNCO0FBQ2xCLFVBQUUsdUJBQUYsRUFBMkIsR0FBM0IsQ0FBK0I7QUFDM0Isa0JBQVE7QUFEbUIsU0FBL0I7QUFHSDtBQUNELFVBQUcsVUFBVSxRQUFiLEVBQXVCO0FBQ25CLFVBQUUsdUJBQUYsRUFBMkIsR0FBM0IsQ0FBK0I7QUFDM0Isa0JBQVE7QUFEbUIsU0FBL0I7QUFHSDtBQUNKO0FBM0JtQixHQUF4QjtBQTZCUCxJQUFFLGNBQUYsRUFBa0IsRUFBbEIsQ0FBcUIsT0FBckIsRUFBOEIsWUFBVztBQUN4QyxNQUFFLEVBQUYsQ0FBSyxRQUFMLENBQWMsZUFBZDtBQUNBLEdBRkQ7QUFHQSxJQUFFLFVBQUYsRUFBYyxFQUFkLENBQWlCLE9BQWpCLEVBQTBCLFlBQVc7QUFDcEMsUUFBRyxXQUFXLE9BQWQsRUFBdUI7QUFDdEIsUUFBRSxFQUFGLENBQUssUUFBTCxDQUFjLGVBQWQ7QUFDQSxRQUFFLHVCQUFGLEVBQTJCLEdBQTNCLENBQStCO0FBQzlCLGdCQUFRO0FBRHNCLE9BQS9CO0FBR0EsS0FMRCxNQUtPO0FBQ04sY0FBUSxHQUFSLENBQVksRUFBRSxFQUFFLElBQUYsRUFBUSxJQUFSLENBQWEsY0FBYixDQUFGLENBQVo7QUFDQSxVQUFJLE1BQU0sRUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLGNBQWIsQ0FBVjs7QUFFQSxRQUFFLE1BQU0sR0FBUixFQUFhLEdBQWIsQ0FBaUI7QUFDaEIsaUJBQVM7QUFETyxPQUFqQixFQUVHLFFBRkgsR0FFYyxHQUZkLENBRWtCO0FBQ2pCLGlCQUFTO0FBRFEsT0FGbEI7QUFLQSxjQUFRLEdBQVIsQ0FBWSxFQUFFLE1BQU0sR0FBUixDQUFaO0FBQ0E7QUFDRyxHQWpCTDs7QUFtQkksSUFBRSxtQkFBRixFQUF1QixLQUF2QixDQUE2QixZQUFVO0FBQ3pDLE1BQUUsa0JBQUYsRUFBc0IsR0FBdEIsQ0FBMEIsU0FBMUIsRUFBcUMsT0FBckM7QUFDQSxHQUZFOztBQUlILElBQUUsZUFBRixFQUFtQixLQUFuQixDQUF5QixZQUFXO0FBQ25DLE1BQUUsa0JBQUYsRUFBc0IsR0FBdEIsQ0FBMEIsU0FBMUIsRUFBcUMsTUFBckM7QUFDSDtBQUNBO0FBQ0E7QUFDRyxHQUxEO0FBT0QsQ0FqRUQsRSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpxdWVyeUZ1bGxwYWdlIGZyb20gJy4uL2xpYi9qcXVlcnkuZnVsbFBhZ2UnO1xyXG5cclxuJChmdW5jdGlvbigpIHtcclxuXHR2YXIgbWluZGV4ID0gJyc7XHJcblxyXG4gICAgICAgICQoJy5mdWxsUGFnZScpLmZ1bGxwYWdlKHtcclxuICAgICAgICAgICAgc2Nyb2xsaW5nU3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgLy9pbmRleC5odG1sI3NlY29uZCDnm7TmjqXlsLHmmK/pgqPkuKrpobXpnaJcclxuICAgICAgICAgICAgYW5jaG9yczogWydmaXJzdCcsICdzZWNvbmQnLCAndGhpcmQnLCAnZm9ydGgnLCAnZmlmdGgnLCAnc2l4dGgnXSxcclxuICAgICAgICAgICAgLy9zaG93QWN0aXZlVG9vbHRpcHM6IHRydWUsXHJcbiAgICAgICAgICAgIHNjcm9sbEJhcjogdHJ1ZSxcclxuICAgICAgICAgICAgZml0VG9TZWN0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVudTogJyNtZW51JyxcclxuICAgICAgICAgICAgY3NzMzogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b1Njcm9sbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChcImlmcmFtZVwiKS5hdHRyKFwic3JjXCIsYXBwbGljYXRpb25QYXRoK1wiL0NvbnRlbnQvcGx1Z3Mva3JwYW5vL2luZGV4Lmh0bWxcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGZpeGVkRWxlbWVudHM6JChcIi5pbmRleF9wYW5vcmFtYUJveFwiKSxcclxuICAgICAgICAgICAgLy8gY29udGludW91c1ZlcnRpY2FsOnRydWUsXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIG1pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYoaW5kZXggPT09IFwiZmlyc3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuaW5kZXhfcGFub3JhbWFfaWNvbnNcIikuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBcIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaW5kZXggPT09IFwic2Vjb25kXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmluZGV4X3Bhbm9yYW1hX2ljb25zXCIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogXCItMy4wNHJlbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblx0JCgnLmluZGV4X2Fycm93Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTZWN0aW9uRG93bigpO1xyXG5cdH0pXHJcblx0JChcIi5pY29uQnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRpZihtaW5kZXggPT09ICdmaXJzdCcpIHtcclxuXHRcdFx0JC5mbi5mdWxscGFnZS5tb3ZlU2VjdGlvbkRvd24oKTtcclxuXHRcdFx0JChcIi5pbmRleF9wYW5vcmFtYV9pY29uc1wiKS5jc3Moe1xyXG5cdFx0XHRcdGJvdHRvbTogXCItMy4wNHJlbVwiXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJCgkKHRoaXMpLmF0dHIoJ2RhdGEtY29udGVudCcpKSk7XHJcblx0XHRcdHZhciB4eHggPSAkKHRoaXMpLmF0dHIoJ2RhdGEtY29udGVudCcpO1xyXG5cclxuXHRcdFx0JCgnLicgKyB4eHgpLmNzcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogXCJibG9ja1wiXHJcblx0XHRcdH0pLnNpYmxpbmdzKCkuY3NzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiBcIm5vbmVcIlxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29uc29sZS5sb2coJCgnLicgKyB4eHgpKTtcclxuXHRcdH1cclxuICAgICB9KVxyXG5cdFxyXG4gICAgICQoXCIjaW5kZXhfbmF2X2xvZ1JlZ1wiKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHQkKFwiI3JlZ2lzdGVyX2hpZGRlblwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcblx0XHR9KVxyXG5cclxuXHRcdCQoXCIjY2xvc2VfYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkKFwiI3JlZ2lzdGVyX2hpZGRlblwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuLy9cdFx0XHRjb25zb2xlLmxvZygkKHRoaXMpKTtcclxuLy9cdFx0XHQkKHRoaXMpLmF0dHIoXCJkYXRhXCIpO1xyXG4vL1x0XHRcdGNvbnNvbGUubG9nKHR5cGVvZigkKHRoaXMpLmF0dHIoXCJkYXRhXCIpKSk7XHJcblx0XHR9KVxyXG5cclxufSlcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2pzL3ZpZXdzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */,
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';/*!\n * fullPage 2.7.9\n * https://github.com/alvarotrigo/fullPage.js\n * @license MIT licensed\n *\n * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo\n */(function(global,factory){'use strict';if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function($){return factory($,global,global.document,global.Math);}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}else if(typeof exports!=='undefined'){module.exports=factory(require('jquery'),global,global.document,global.Math);}else{factory(jQuery,global,global.document,global.Math);}})(typeof window!=='undefined'?window:undefined,function($,window,document,Math,undefined){'use strict';// keeping central set of classnames and selectors\nvar WRAPPER='fullpage-wrapper';var WRAPPER_SEL='.'+WRAPPER;// slimscroll\nvar SCROLLABLE='fp-scrollable';var SCROLLABLE_SEL='.'+SCROLLABLE;var SLIMSCROLL_BAR_SEL='.slimScrollBar';var SLIMSCROLL_RAIL_SEL='.slimScrollRail';// util\nvar RESPONSIVE='fp-responsive';var NO_TRANSITION='fp-notransition';var DESTROYED='fp-destroyed';var ENABLED='fp-enabled';var VIEWING_PREFIX='fp-viewing';var ACTIVE='active';var ACTIVE_SEL='.'+ACTIVE;var COMPLETELY='fp-completely';var COMPLETELY_SEL='.'+COMPLETELY;// section\nvar SECTION_DEFAULT_SEL='.section';var SECTION='fp-section';var SECTION_SEL='.'+SECTION;var SECTION_ACTIVE_SEL=SECTION_SEL+ACTIVE_SEL;var SECTION_FIRST_SEL=SECTION_SEL+':first';var SECTION_LAST_SEL=SECTION_SEL+':last';var TABLE_CELL='fp-tableCell';var TABLE_CELL_SEL='.'+TABLE_CELL;var AUTO_HEIGHT='fp-auto-height';var AUTO_HEIGHT_SEL='.fp-auto-height';var NORMAL_SCROLL='fp-normal-scroll';var NORMAL_SCROLL_SEL='.fp-normal-scroll';// section nav\nvar SECTION_NAV='fp-nav';var SECTION_NAV_SEL='#'+SECTION_NAV;var SECTION_NAV_TOOLTIP='fp-tooltip';var SECTION_NAV_TOOLTIP_SEL='.'+SECTION_NAV_TOOLTIP;var SHOW_ACTIVE_TOOLTIP='fp-show-active';// slide\nvar SLIDE_DEFAULT_SEL='.slide';var SLIDE='fp-slide';var SLIDE_SEL='.'+SLIDE;var SLIDE_ACTIVE_SEL=SLIDE_SEL+ACTIVE_SEL;var SLIDES_WRAPPER='fp-slides';var SLIDES_WRAPPER_SEL='.'+SLIDES_WRAPPER;var SLIDES_CONTAINER='fp-slidesContainer';var SLIDES_CONTAINER_SEL='.'+SLIDES_CONTAINER;var TABLE='fp-table';// slide nav\nvar SLIDES_NAV='fp-slidesNav';var SLIDES_NAV_SEL='.'+SLIDES_NAV;var SLIDES_NAV_LINK_SEL=SLIDES_NAV_SEL+' a';var SLIDES_ARROW='fp-controlArrow';var SLIDES_ARROW_SEL='.'+SLIDES_ARROW;var SLIDES_PREV='fp-prev';var SLIDES_PREV_SEL='.'+SLIDES_PREV;var SLIDES_ARROW_PREV=SLIDES_ARROW+' '+SLIDES_PREV;var SLIDES_ARROW_PREV_SEL=SLIDES_ARROW_SEL+SLIDES_PREV_SEL;var SLIDES_NEXT='fp-next';var SLIDES_NEXT_SEL='.'+SLIDES_NEXT;var SLIDES_ARROW_NEXT=SLIDES_ARROW+' '+SLIDES_NEXT;var SLIDES_ARROW_NEXT_SEL=SLIDES_ARROW_SEL+SLIDES_NEXT_SEL;var $window=$(window);var $document=$(document);var defaultScrollHandler;$.fn.fullpage=function(options){//only once my friend!\nif($('html').hasClass(ENABLED)){displayWarnings();return;};// common jQuery objects\nvar $htmlBody=$('html, body');var $body=$('body');var FP=$.fn.fullpage;// Create some defaults, extending them with any options that were provided\noptions=$.extend({//navigation\nmenu:false,anchors:[],lockAnchors:false,navigation:false,navigationPosition:'right',navigationTooltips:[],showActiveTooltip:false,slidesNavigation:false,slidesNavPosition:'bottom',scrollBar:false,hybrid:false,//scrolling\ncss3:true,scrollingSpeed:700,autoScrolling:true,fitToSection:true,fitToSectionDelay:1000,easing:'easeInOutCubic',easingcss3:'ease',loopBottom:false,loopTop:false,loopHorizontal:true,continuousVertical:false,normalScrollElements:null,scrollOverflow:false,scrollOverflowHandler:defaultScrollHandler,touchSensitivity:5,normalScrollElementTouchThreshold:5,//Accessibility\nkeyboardScrolling:true,animateAnchor:true,recordHistory:true,//design\ncontrolArrows:true,controlArrowColor:'#fff',verticalCentered:true,resize:false,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,//backwards compabitility with responsiveWiddth\nresponsiveWidth:0,responsiveHeight:0,//Custom selectors\nsectionSelector:SECTION_DEFAULT_SEL,slideSelector:SLIDE_DEFAULT_SEL,//events\nafterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},options);displayWarnings();//easeInOutCubic animation included in the plugin\n$.extend($.easing,{easeInOutCubic:function easeInOutCubic(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;}});/**\n        * Sets the autoScroll option.\n        * It changes the scroll bar visibility and the history of the site as a result.\n        */FP.setAutoScrolling=function(value,type){setVariableState('autoScrolling',value,type);var element=$(SECTION_ACTIVE_SEL);if(options.autoScrolling&&!options.scrollBar){$htmlBody.css({'overflow':'hidden','height':'100%'});FP.setRecordHistory(originals.recordHistory,'internal');//for IE touch devices\ncontainer.css({'-ms-touch-action':'none','touch-action':'none'});if(element.length){//moving the container up\nsilentScroll(element.position().top);}}else{$htmlBody.css({'overflow':'visible','height':'initial'});FP.setRecordHistory(false,'internal');//for IE touch devices\ncontainer.css({'-ms-touch-action':'','touch-action':''});silentScroll(0);//scrolling the page to the section with no animation\nif(element.length){$htmlBody.scrollTop(element.position().top);}}};/**\n        * Defines wheter to record the history for each hash change in the URL.\n        */FP.setRecordHistory=function(value,type){setVariableState('recordHistory',value,type);};/**\n        * Defines the scrolling speed\n        */FP.setScrollingSpeed=function(value,type){setVariableState('scrollingSpeed',value,type);};/**\n        * Sets fitToSection\n        */FP.setFitToSection=function(value,type){setVariableState('fitToSection',value,type);};/**\n        * Sets lockAnchors\n        */FP.setLockAnchors=function(value){options.lockAnchors=value;};/**\n        * Adds or remove the possiblity of scrolling through sections by using the mouse wheel or the trackpad.\n        */FP.setMouseWheelScrolling=function(value){if(value){addMouseWheelHandler();addMiddleWheelHandler();}else{removeMouseWheelHandler();removeMiddleWheelHandler();}};/**\n        * Adds or remove the possiblity of scrolling through sections by using the mouse wheel/trackpad or touch gestures.\n        * Optionally a second parameter can be used to specify the direction for which the action will be applied.\n        *\n        * @param directions string containing the direction or directions separated by comma.\n        */FP.setAllowScrolling=function(value,directions){if(typeof directions!=='undefined'){directions=directions.replace(/ /g,'').split(',');$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,'m');});}else if(value){FP.setMouseWheelScrolling(true);addTouchHandler();}else{FP.setMouseWheelScrolling(false);removeTouchHandler();}};/**\n        * Adds or remove the possiblity of scrolling through sections by using the keyboard arrow keys\n        */FP.setKeyboardScrolling=function(value,directions){if(typeof directions!=='undefined'){directions=directions.replace(/ /g,'').split(',');$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,'k');});}else{options.keyboardScrolling=value;}};/**\n        * Moves the page up one section.\n        */FP.moveSectionUp=function(){var prev=$(SECTION_ACTIVE_SEL).prev(SECTION_SEL);//looping to the bottom if there's no more sections above\nif(!prev.length&&(options.loopTop||options.continuousVertical)){prev=$(SECTION_SEL).last();}if(prev.length){scrollPage(prev,null,true);}};/**\n        * Moves the page down one section.\n        */FP.moveSectionDown=function(){var next=$(SECTION_ACTIVE_SEL).next(SECTION_SEL);//looping to the top if there's no more sections below\nif(!next.length&&(options.loopBottom||options.continuousVertical)){next=$(SECTION_SEL).first();}if(next.length){scrollPage(next,null,false);}};/**\n        * Moves the page to the given section and slide with no animation.\n        * Anchors or index positions can be used as params.\n        */FP.silentMoveTo=function(sectionAnchor,slideAnchor){FP.setScrollingSpeed(0,'internal');FP.moveTo(sectionAnchor,slideAnchor);FP.setScrollingSpeed(originals.scrollingSpeed,'internal');};/**\n        * Moves the page to the given section and slide.\n        * Anchors or index positions can be used as params.\n        */FP.moveTo=function(sectionAnchor,slideAnchor){var destiny=getSectionByAnchor(sectionAnchor);if(typeof slideAnchor!=='undefined'){scrollPageAndSlide(sectionAnchor,slideAnchor);}else if(destiny.length>0){scrollPage(destiny);}};/**\n        * Slides right the slider of the active section.\n        * Optional `section` param.\n        */FP.moveSlideRight=function(section){moveSlide('next',section);};/**\n        * Slides left the slider of the active section.\n        * Optional `section` param.\n        */FP.moveSlideLeft=function(section){moveSlide('prev',section);};/**\n         * When resizing is finished, we adjust the slides sizes and positions\n         */FP.reBuild=function(resizing){if(container.hasClass(DESTROYED)){return;}//nothing to do if the plugin was destroyed\nisResizing=true;var windowsWidth=$window.outerWidth();windowsHeight=$window.height();//updating global var\n//text resizing\nif(options.resize){resizeMe(windowsHeight,windowsWidth);}$(SECTION_SEL).each(function(){var slidesWrap=$(this).find(SLIDES_WRAPPER_SEL);var slides=$(this).find(SLIDE_SEL);//adjusting the height of the table-cell for IE and Firefox\nif(options.verticalCentered){$(this).find(TABLE_CELL_SEL).css('height',getTableHeight($(this))+'px');}$(this).css('height',windowsHeight+'px');//resizing the scrolling divs\nif(options.scrollOverflow){if(slides.length){slides.each(function(){createSlimScrolling($(this));});}else{createSlimScrolling($(this));}}//adjusting the position fo the FULL WIDTH slides...\nif(slides.length>1){landscapeScroll(slidesWrap,slidesWrap.find(SLIDE_ACTIVE_SEL));}});var activeSection=$(SECTION_ACTIVE_SEL);var sectionIndex=activeSection.index(SECTION_SEL);//isn't it the first section?\nif(sectionIndex){//adjusting the position for the current section\nFP.silentMoveTo(sectionIndex+1);}isResizing=false;$.isFunction(options.afterResize)&&resizing&&options.afterResize.call(container);$.isFunction(options.afterReBuild)&&!resizing&&options.afterReBuild.call(container);};/**\n        * Turns fullPage.js to normal scrolling mode when the viewport `width` or `height`\n        * are smaller than the set limit values.\n        */FP.setResponsive=function(active){var isResponsive=$body.hasClass(RESPONSIVE);if(active){if(!isResponsive){FP.setAutoScrolling(false,'internal');FP.setFitToSection(false,'internal');$(SECTION_NAV_SEL).hide();$body.addClass(RESPONSIVE);}}else if(isResponsive){FP.setAutoScrolling(originals.autoScrolling,'internal');FP.setFitToSection(originals.autoScrolling,'internal');$(SECTION_NAV_SEL).show();$body.removeClass(RESPONSIVE);}};//flag to avoid very fast sliding for landscape sliders\nvar slideMoving=false;var isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/);var isTouch='ontouchstart'in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints;var container=$(this);var windowsHeight=$window.height();var isResizing=false;var isWindowFocused=true;var lastScrolledDestiny;var lastScrolledSlide;var canScroll=true;var scrollings=[];var nav;var controlPressed;var isScrollAllowed={};isScrollAllowed.m={'up':true,'down':true,'left':true,'right':true};isScrollAllowed.k=$.extend(true,{},isScrollAllowed.m);var originals=$.extend(true,{},options);//deep copy\n//timeouts\nvar resizeId;var afterSectionLoadsId;var afterSlideLoadsId;var scrollId;var scrollId2;var keydownId;if($(this).length){init();bindEvents();}function init(){//if css3 is not supported, it will use jQuery animations\nif(options.css3){options.css3=support3d();}options.scrollBar=options.scrollBar||options.hybrid;setOptionsFromDOM();prepareDom();FP.setAllowScrolling(true);FP.setAutoScrolling(options.autoScrolling,'internal');//the starting point is a slide?\nvar activeSlide=$(SECTION_ACTIVE_SEL).find(SLIDE_ACTIVE_SEL);//the active section isn't the first one? Is not the first slide of the first section? Then we load that section/slide by default.\nif(activeSlide.length&&($(SECTION_ACTIVE_SEL).index(SECTION_SEL)!==0||$(SECTION_ACTIVE_SEL).index(SECTION_SEL)===0&&activeSlide.index()!==0)){silentLandscapeScroll(activeSlide);}responsive();//setting the class for the body element\nsetBodyClass();$window.on('load',function(){scrollToAnchor();});}function bindEvents(){$window//when scrolling...\n.on('scroll',scrollHandler)//detecting any change on the URL to scroll to the given anchor link\n//(a way to detect back history button as we play with the hashes on the URL)\n.on('hashchange',hashChangeHandler)//when opening a new tab (ctrl + t), `control` won't be pressed when comming back.\n.blur(blurHandler)//when resizing the site, we adjust the heights of the sections, slimScroll...\n.resize(resizeHandler);$document//Sliding with arrow keys, both, vertical and horizontal\n.keydown(keydownHandler)//to prevent scrolling while zooming\n.keyup(keyUpHandler)//Scrolls to the section when clicking the navigation bullet\n.on('click touchstart',SECTION_NAV_SEL+' a',sectionBulletHandler)//Scrolls the slider to the given slide destination for the given section\n.on('click touchstart',SLIDES_NAV_LINK_SEL,slideBulletHandler).on('click',SECTION_NAV_TOOLTIP_SEL,tooltipTextHandler);//Scrolling horizontally when clicking on the slider controls.\n$(SECTION_SEL).on('click touchstart',SLIDES_ARROW_SEL,slideArrowHandler);/**\n            * Applying normalScroll elements.\n            * Ignoring the scrolls over the specified selectors.\n            */if(options.normalScrollElements){$document.on('mouseenter',options.normalScrollElements,function(){FP.setMouseWheelScrolling(false);});$document.on('mouseleave',options.normalScrollElements,function(){FP.setMouseWheelScrolling(true);});}}/**\n        * Setting options from DOM elements if they are not provided.\n        */function setOptionsFromDOM(){//no anchors option? Checking for them in the DOM attributes\nif(!options.anchors.length){options.anchors=$(options.sectionSelector+'[data-anchor]').map(function(){return $(this).data('anchor').toString();}).get();}//no tooltipos option? Checking for them in the DOM attributes\nif(!options.navigationTooltips.length){options.navigationTooltips=$(options.sectionSelector+'[data-tooltip]').map(function(){return $(this).data('tooltip').toString();}).get();}}/**\n        * Works over the DOM structure to set it up for the current fullpage optionss.\n        */function prepareDom(){container.css({'height':'100%','position':'relative'});//adding a class to recognize the container internally in the code\ncontainer.addClass(WRAPPER);$('html').addClass(ENABLED);//due to https://github.com/alvarotrigo/fullPage.js/issues/1502\nwindowsHeight=$window.height();container.removeClass(DESTROYED);//in case it was destroyed before initilizing it again\naddInternalSelectors();//styling the sections / slides / menu\n$(SECTION_SEL).each(function(index){var section=$(this);var slides=section.find(SLIDE_SEL);var numSlides=slides.length;styleSection(section,index);styleMenu(section,index);// if there's any slide\nif(numSlides>0){styleSlides(section,slides,numSlides);}else{if(options.verticalCentered){addTableClass(section);}}});//fixed elements need to be moved out of the plugin container due to problems with CSS3.\nif(options.fixedElements&&options.css3){$(options.fixedElements).appendTo($body);}//vertical centered of the navigation + active bullet\nif(options.navigation){addVerticalNavigation();}if(options.scrollOverflow){if(document.readyState==='complete'){createSlimScrollingHandler();}//after DOM and images are loaded\n$window.on('load',createSlimScrollingHandler);}else{afterRenderActions();}}/**\n        * Styles the horizontal slides for a section.\n        */function styleSlides(section,slides,numSlides){var sliderWidth=numSlides*100;var slideWidth=100/numSlides;slides.wrapAll('<div class=\"'+SLIDES_CONTAINER+'\" />');slides.parent().wrap('<div class=\"'+SLIDES_WRAPPER+'\" />');section.find(SLIDES_CONTAINER_SEL).css('width',sliderWidth+'%');if(numSlides>1){if(options.controlArrows){createSlideArrows(section);}if(options.slidesNavigation){addSlidesNavigation(section,numSlides);}}slides.each(function(index){$(this).css('width',slideWidth+'%');if(options.verticalCentered){addTableClass($(this));}});var startingSlide=section.find(SLIDE_ACTIVE_SEL);//if the slide won't be an starting point, the default will be the first one\n//the active section isn't the first one? Is not the first slide of the first section? Then we load that section/slide by default.\nif(startingSlide.length&&($(SECTION_ACTIVE_SEL).index(SECTION_SEL)!==0||$(SECTION_ACTIVE_SEL).index(SECTION_SEL)===0&&startingSlide.index()!==0)){silentLandscapeScroll(startingSlide);}else{slides.eq(0).addClass(ACTIVE);}}/**\n        * Styling vertical sections\n        */function styleSection(section,index){//if no active section is defined, the 1st one will be the default one\nif(!index&&$(SECTION_ACTIVE_SEL).length===0){section.addClass(ACTIVE);}section.css('height',windowsHeight+'px');if(options.paddingTop){section.css('padding-top',options.paddingTop);}if(options.paddingBottom){section.css('padding-bottom',options.paddingBottom);}if(typeof options.sectionsColor[index]!=='undefined'){section.css('background-color',options.sectionsColor[index]);}if(typeof options.anchors[index]!=='undefined'){section.attr('data-anchor',options.anchors[index]);}}/**\n        * Sets the data-anchor attributes to the menu elements and activates the current one.\n        */function styleMenu(section,index){if(typeof options.anchors[index]!=='undefined'){//activating the menu / nav element on load\nif(section.hasClass(ACTIVE)){activateMenuAndNav(options.anchors[index],index);}}//moving the menu outside the main container if it is inside (avoid problems with fixed positions when using CSS3 tranforms)\nif(options.menu&&options.css3&&$(options.menu).closest(WRAPPER_SEL).length){$(options.menu).appendTo($body);}}/**\n        * Adds internal classes to be able to provide customizable selectors\n        * keeping the link with the style sheet.\n        */function addInternalSelectors(){//adding internal class names to void problem with common ones\n$(options.sectionSelector).each(function(){$(this).addClass(SECTION);});$(options.slideSelector).each(function(){$(this).addClass(SLIDE);});}/**\n        * Creates the control arrows for the given section\n        */function createSlideArrows(section){section.find(SLIDES_WRAPPER_SEL).after('<div class=\"'+SLIDES_ARROW_PREV+'\"></div><div class=\"'+SLIDES_ARROW_NEXT+'\"></div>');if(options.controlArrowColor!='#fff'){section.find(SLIDES_ARROW_NEXT_SEL).css('border-color','transparent transparent transparent '+options.controlArrowColor);section.find(SLIDES_ARROW_PREV_SEL).css('border-color','transparent '+options.controlArrowColor+' transparent transparent');}if(!options.loopHorizontal){section.find(SLIDES_ARROW_PREV_SEL).hide();}}/**\n        * Creates a vertical navigation bar.\n        */function addVerticalNavigation(){$body.append('<div id=\"'+SECTION_NAV+'\"><ul></ul></div>');var nav=$(SECTION_NAV_SEL);nav.addClass(function(){return options.showActiveTooltip?SHOW_ACTIVE_TOOLTIP+' '+options.navigationPosition:options.navigationPosition;});for(var i=0;i<$(SECTION_SEL).length;i++){var link='';if(options.anchors.length){link=options.anchors[i];}var li='<li><a href=\"#'+link+'\"><span></span></a>';// Only add tooltip if needed (defined by user)\nvar tooltip=options.navigationTooltips[i];if(typeof tooltip!=='undefined'&&tooltip!==''){li+='<div class=\"'+SECTION_NAV_TOOLTIP+' '+options.navigationPosition+'\">'+tooltip+'</div>';}li+='</li>';nav.find('ul').append(li);}//centering it vertically\n$(SECTION_NAV_SEL).css('margin-top','-'+$(SECTION_NAV_SEL).height()/2+'px');//activating the current active section\n$(SECTION_NAV_SEL).find('li').eq($(SECTION_ACTIVE_SEL).index(SECTION_SEL)).find('a').addClass(ACTIVE);}/**\n        * Creates the slim scroll scrollbar for the sections and slides inside them.\n        */function createSlimScrollingHandler(){$(SECTION_SEL).each(function(){var slides=$(this).find(SLIDE_SEL);if(slides.length){slides.each(function(){createSlimScrolling($(this));});}else{createSlimScrolling($(this));}});afterRenderActions();}/**\n        * Actions and callbacks to fire afterRender\n        */function afterRenderActions(){var section=$(SECTION_ACTIVE_SEL);section.addClass(COMPLETELY);if(options.scrollOverflowHandler.afterRender){options.scrollOverflowHandler.afterRender(section);}lazyLoad(section);playMedia(section);$.isFunction(options.afterLoad)&&options.afterLoad.call(section,section.data('anchor'),section.index(SECTION_SEL)+1);$.isFunction(options.afterRender)&&options.afterRender.call(container);}var isScrolling=false;var lastScroll=0;//when scrolling...\nfunction scrollHandler(){var currentSection;if(!options.autoScrolling||options.scrollBar){var currentScroll=$window.scrollTop();var scrollDirection=getScrollDirection(currentScroll);var visibleSectionIndex=0;var screen_mid=currentScroll+$window.height()/2.0;//taking the section which is showing more content in the viewport\nvar sections=document.querySelectorAll(SECTION_SEL);for(var i=0;i<sections.length;++i){var section=sections[i];// Pick the the last section which passes the middle line of the screen.\nif(section.offsetTop<=screen_mid){visibleSectionIndex=i;}}if(isCompletelyInViewPort(scrollDirection)){if(!$(SECTION_ACTIVE_SEL).hasClass(COMPLETELY)){$(SECTION_ACTIVE_SEL).addClass(COMPLETELY).siblings().removeClass(COMPLETELY);}}//geting the last one, the current one on the screen\ncurrentSection=$(sections).eq(visibleSectionIndex);//setting the visible section as active when manually scrolling\n//executing only once the first time we reach the section\nif(!currentSection.hasClass(ACTIVE)){isScrolling=true;var leavingSection=$(SECTION_ACTIVE_SEL);var leavingSectionIndex=leavingSection.index(SECTION_SEL)+1;var yMovement=getYmovement(currentSection);var anchorLink=currentSection.data('anchor');var sectionIndex=currentSection.index(SECTION_SEL)+1;var activeSlide=currentSection.find(SLIDE_ACTIVE_SEL);if(activeSlide.length){var slideAnchorLink=activeSlide.data('anchor');var slideIndex=activeSlide.index();}if(canScroll){currentSection.addClass(ACTIVE).siblings().removeClass(ACTIVE);$.isFunction(options.onLeave)&&options.onLeave.call(leavingSection,leavingSectionIndex,sectionIndex,yMovement);$.isFunction(options.afterLoad)&&options.afterLoad.call(currentSection,anchorLink,sectionIndex);lazyLoad(currentSection);activateMenuAndNav(anchorLink,sectionIndex-1);if(options.anchors.length){//needed to enter in hashChange event when using the menu with anchor links\nlastScrolledDestiny=anchorLink;setState(slideIndex,slideAnchorLink,anchorLink,sectionIndex);}}//small timeout in order to avoid entering in hashChange event when scrolling is not finished yet\nclearTimeout(scrollId);scrollId=setTimeout(function(){isScrolling=false;},100);}if(options.fitToSection){//for the auto adjust of the viewport to fit a whole section\nclearTimeout(scrollId2);scrollId2=setTimeout(function(){//checking fitToSection again in case it was set to false before the timeout delay\nif(canScroll&&options.fitToSection){//allows to scroll to an active section and\n//if the section is already active, we prevent firing callbacks\nif($(SECTION_ACTIVE_SEL).is(currentSection)){isResizing=true;}scrollPage($(SECTION_ACTIVE_SEL));isResizing=false;}},options.fitToSectionDelay);}}}/**\n        * Determines whether the active section has seen in its whole or not.\n        */function isCompletelyInViewPort(movement){var top=$(SECTION_ACTIVE_SEL).position().top;var bottom=top+$window.height();if(movement=='up'){return bottom>=$window.scrollTop()+$window.height();}return top<=$window.scrollTop();}/**\n        * Gets the directon of the the scrolling fired by the scroll event.\n        */function getScrollDirection(currentScroll){var direction=currentScroll>lastScroll?'down':'up';lastScroll=currentScroll;return direction;}/**\n        * Determines the way of scrolling up or down:\n        * by 'automatically' scrolling a section or by using the default and normal scrolling.\n        */function scrolling(type,scrollable){if(!isScrollAllowed.m[type]){return;}var check,scrollSection;if(type=='down'){check='bottom';scrollSection=FP.moveSectionDown;}else{check='top';scrollSection=FP.moveSectionUp;}if(scrollable.length>0){//is the scrollbar at the start/end of the scroll?\nif(options.scrollOverflowHandler.isScrolled(check,scrollable)){scrollSection();}else{return true;}}else{// moved up/down\nscrollSection();}}var touchStartY=0;var touchStartX=0;var touchEndY=0;var touchEndX=0;/* Detecting touch events\n\n        * As we are changing the top property of the page on scrolling, we can not use the traditional way to detect it.\n        * This way, the touchstart and the touch moves shows an small difference between them which is the\n        * used one to determine the direction.\n        */function touchMoveHandler(event){var e=event.originalEvent;// additional: if one of the normalScrollElements isn't within options.normalScrollElementTouchThreshold hops up the DOM chain\nif(!checkParentForNormalScrollElement(event.target)&&isReallyTouch(e)){if(options.autoScrolling){//preventing the easing on iOS devices\nevent.preventDefault();}var activeSection=$(SECTION_ACTIVE_SEL);var scrollable=options.scrollOverflowHandler.scrollable(activeSection);if(canScroll&&!slideMoving){//if theres any #\nvar touchEvents=getEventsPage(e);touchEndY=touchEvents.y;touchEndX=touchEvents.x;//if movement in the X axys is greater than in the Y and the currect section has slides...\nif(activeSection.find(SLIDES_WRAPPER_SEL).length&&Math.abs(touchStartX-touchEndX)>Math.abs(touchStartY-touchEndY)){//is the movement greater than the minimum resistance to scroll?\nif(Math.abs(touchStartX-touchEndX)>$window.outerWidth()/100*options.touchSensitivity){if(touchStartX>touchEndX){if(isScrollAllowed.m.right){FP.moveSlideRight();//next\n}}else{if(isScrollAllowed.m.left){FP.moveSlideLeft();//prev\n}}}}//vertical scrolling (only when autoScrolling is enabled)\nelse if(options.autoScrolling){//is the movement greater than the minimum resistance to scroll?\nif(Math.abs(touchStartY-touchEndY)>$window.height()/100*options.touchSensitivity){if(touchStartY>touchEndY){scrolling('down',scrollable);}else if(touchEndY>touchStartY){scrolling('up',scrollable);}}}}}}/**\n         * recursive function to loop up the parent nodes to check if one of them exists in options.normalScrollElements\n         * Currently works well for iOS - Android might need some testing\n         * @param  {Element} el  target element / jquery selector (in subsequent nodes)\n         * @param  {int}     hop current hop compared to options.normalScrollElementTouchThreshold\n         * @return {boolean} true if there is a match to options.normalScrollElements\n         */function checkParentForNormalScrollElement(el,hop){hop=hop||0;var parent=$(el).parent();if(hop<options.normalScrollElementTouchThreshold&&parent.is(options.normalScrollElements)){return true;}else if(hop==options.normalScrollElementTouchThreshold){return false;}else{return checkParentForNormalScrollElement(parent,++hop);}}/**\n        * As IE >= 10 fires both touch and mouse events when using a mouse in a touchscreen\n        * this way we make sure that is really a touch event what IE is detecting.\n        */function isReallyTouch(e){//if is not IE   ||  IE is detecting `touch` or `pen`\nreturn typeof e.pointerType==='undefined'||e.pointerType!='mouse';}/**\n        * Handler for the touch start event.\n        */function touchStartHandler(event){var e=event.originalEvent;//stopping the auto scroll to adjust to a section\nif(options.fitToSection){$htmlBody.stop();}if(isReallyTouch(e)){var touchEvents=getEventsPage(e);touchStartY=touchEvents.y;touchStartX=touchEvents.x;}}/**\n        * Gets the average of the last `number` elements of the given array.\n        */function getAverage(elements,number){var sum=0;//taking `number` elements from the end to make the average, if there are not enought, 1\nvar lastElements=elements.slice(Math.max(elements.length-number,1));for(var i=0;i<lastElements.length;i++){sum=sum+lastElements[i];}return Math.ceil(sum/number);}/**\n         * Detecting mousewheel scrolling\n         *\n         * http://blogs.sitepointstatic.com/examples/tech/mouse-wheel/index.html\n         * http://www.sitepoint.com/html5-javascript-mouse-wheel/\n         */var prevTime=new Date().getTime();function MouseWheelHandler(e){var curTime=new Date().getTime();var isNormalScroll=$(COMPLETELY_SEL).hasClass(NORMAL_SCROLL);//autoscrolling and not zooming?\nif(options.autoScrolling&&!controlPressed&&!isNormalScroll){// cross-browser wheel delta\ne=e||window.event;var value=e.wheelDelta||-e.deltaY||-e.detail;var delta=Math.max(-1,Math.min(1,value));var horizontalDetection=typeof e.wheelDeltaX!=='undefined'||typeof e.deltaX!=='undefined';var isScrollingVertically=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!horizontalDetection;//Limiting the array to 150 (lets not waste memory!)\nif(scrollings.length>149){scrollings.shift();}//keeping record of the previous scrollings\nscrollings.push(Math.abs(value));//preventing to scroll the site on mouse wheel when scrollbar is present\nif(options.scrollBar){e.preventDefault?e.preventDefault():e.returnValue=false;}var activeSection=$(SECTION_ACTIVE_SEL);var scrollable=options.scrollOverflowHandler.scrollable(activeSection);//time difference between the last scroll and the current one\nvar timeDiff=curTime-prevTime;prevTime=curTime;//haven't they scrolled in a while?\n//(enough to be consider a different scrolling action to scroll another section)\nif(timeDiff>200){//emptying the array, we dont care about old scrollings for our averages\nscrollings=[];}if(canScroll){var averageEnd=getAverage(scrollings,10);var averageMiddle=getAverage(scrollings,70);var isAccelerating=averageEnd>=averageMiddle;//to avoid double swipes...\nif(isAccelerating&&isScrollingVertically){//scrolling down?\nif(delta<0){scrolling('down',scrollable);//scrolling up?\n}else{scrolling('up',scrollable);}}}return false;}if(options.fitToSection){//stopping the auto scroll to adjust to a section\n$htmlBody.stop();}}/**\n        * Slides a slider to the given direction.\n        * Optional `section` param.\n        */function moveSlide(direction,section){var activeSection=typeof section==='undefined'?$(SECTION_ACTIVE_SEL):section;var slides=activeSection.find(SLIDES_WRAPPER_SEL);var numSlides=slides.find(SLIDE_SEL).length;// more than one slide needed and nothing should be sliding\nif(!slides.length||slideMoving||numSlides<2){return;}var currentSlide=slides.find(SLIDE_ACTIVE_SEL);var destiny=null;if(direction==='prev'){destiny=currentSlide.prev(SLIDE_SEL);}else{destiny=currentSlide.next(SLIDE_SEL);}//isn't there a next slide in the secuence?\nif(!destiny.length){//respect loopHorizontal settin\nif(!options.loopHorizontal)return;if(direction==='prev'){destiny=currentSlide.siblings(':last');}else{destiny=currentSlide.siblings(':first');}}slideMoving=true;landscapeScroll(slides,destiny);}/**\n        * Maintains the active slides in the viewport\n        * (Because he `scroll` animation might get lost with some actions, such as when using continuousVertical)\n        */function keepSlidesPosition(){$(SLIDE_ACTIVE_SEL).each(function(){silentLandscapeScroll($(this),'internal');});}var previousDestTop=0;/**\n        * Returns the destination Y position based on the scrolling direction and\n        * the height of the section.\n        */function getDestinationPosition(element){var elemPosition=element.position();//top of the desination will be at the top of the viewport\nvar position=elemPosition.top;var isScrollingDown=elemPosition.top>previousDestTop;var sectionBottom=position-windowsHeight+element.outerHeight();//is the destination element bigger than the viewport?\nif(element.outerHeight()>windowsHeight){//scrolling up?\nif(!isScrollingDown){position=sectionBottom;}}//sections equal or smaller than the viewport height && scrolling down? ||  is resizing and its in the last section\nelse if(isScrollingDown||isResizing&&element.is(':last-child')){//The bottom of the destination will be at the bottom of the viewport\nposition=sectionBottom;}/*\n            Keeping record of the last scrolled position to determine the scrolling direction.\n            No conventional methods can be used as the scroll bar might not be present\n            AND the section might not be active if it is auto-height and didnt reach the middle\n            of the viewport.\n            */previousDestTop=position;return position;}/**\n        * Scrolls the site to the given element and scrolls to the slide if a callback is given.\n        */function scrollPage(element,callback,isMovementUp){if(typeof element==='undefined'){return;}//there's no element to scroll, leaving the function\nvar dtop=getDestinationPosition(element);//local variables\nvar v={element:element,callback:callback,isMovementUp:isMovementUp,dtop:dtop,yMovement:getYmovement(element),anchorLink:element.data('anchor'),sectionIndex:element.index(SECTION_SEL),activeSlide:element.find(SLIDE_ACTIVE_SEL),activeSection:$(SECTION_ACTIVE_SEL),leavingSection:$(SECTION_ACTIVE_SEL).index(SECTION_SEL)+1,//caching the value of isResizing at the momment the function is called\n//because it will be checked later inside a setTimeout and the value might change\nlocalIsResizing:isResizing};//quiting when destination scroll is the same as the current one\nif(v.activeSection.is(element)&&!isResizing||options.scrollBar&&$window.scrollTop()===v.dtop&&!element.hasClass(AUTO_HEIGHT)){return;}if(v.activeSlide.length){var slideAnchorLink=v.activeSlide.data('anchor');var slideIndex=v.activeSlide.index();}// If continuousVertical && we need to wrap around\nif(options.autoScrolling&&options.continuousVertical&&typeof v.isMovementUp!==\"undefined\"&&(!v.isMovementUp&&v.yMovement=='up'||// Intending to scroll down but about to go up or\nv.isMovementUp&&v.yMovement=='down')){// intending to scroll up but about to go down\nv=createInfiniteSections(v);}//callback (onLeave) if the site is not just resizing and readjusting the slides\nif($.isFunction(options.onLeave)&&!v.localIsResizing){if(options.onLeave.call(v.activeSection,v.leavingSection,v.sectionIndex+1,v.yMovement)===false){return;}}stopMedia(v.activeSection);element.addClass(ACTIVE).siblings().removeClass(ACTIVE);lazyLoad(element);//preventing from activating the MouseWheelHandler event\n//more than once if the page is scrolling\ncanScroll=false;setState(slideIndex,slideAnchorLink,v.anchorLink,v.sectionIndex);performMovement(v);//flag to avoid callingn `scrollPage()` twice in case of using anchor links\nlastScrolledDestiny=v.anchorLink;//avoid firing it twice (as it does also on scroll)\nactivateMenuAndNav(v.anchorLink,v.sectionIndex);}/**\n        * Performs the movement (by CSS3 or by jQuery)\n        */function performMovement(v){// using CSS3 translate functionality\nif(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d='translate3d(0px, -'+v.dtop+'px, 0px)';transformContainer(translate3d,true);//even when the scrollingSpeed is 0 there's a little delay, which might cause the\n//scrollingSpeed to change in case of using silentMoveTo();\nif(options.scrollingSpeed){afterSectionLoadsId=setTimeout(function(){afterSectionLoads(v);},options.scrollingSpeed);}else{afterSectionLoads(v);}}// using jQuery animate\nelse{var scrollSettings=getScrollSettings(v);$(scrollSettings.element).animate(scrollSettings.options,options.scrollingSpeed,options.easing).promise().done(function(){//only one single callback in case of animating  `html, body`\nif(options.scrollBar){/* Hack!\n                        The timeout prevents setting the most dominant section in the viewport as \"active\" when the user\n                        scrolled to a smaller section by using the mousewheel (auto scrolling) rather than draging the scroll bar.\n\n                        When using scrollBar:true It seems like the scroll events still getting propagated even after the scrolling animation has finished.\n                        */setTimeout(function(){afterSectionLoads(v);},30);}else{afterSectionLoads(v);}});}}/**\n        * Gets the scrolling settings depending on the plugin autoScrolling option\n        */function getScrollSettings(v){var scroll={};if(options.autoScrolling&&!options.scrollBar){scroll.options={'top':-v.dtop};scroll.element=WRAPPER_SEL;}else{scroll.options={'scrollTop':v.dtop};scroll.element='html, body';}return scroll;}/**\n        * Adds sections before or after the current one to create the infinite effect.\n        */function createInfiniteSections(v){// Scrolling down\nif(!v.isMovementUp){// Move all previous sections to after the active section\n$(SECTION_ACTIVE_SEL).after(v.activeSection.prevAll(SECTION_SEL).get().reverse());}else{// Scrolling up\n// Move all next sections to before the active section\n$(SECTION_ACTIVE_SEL).before(v.activeSection.nextAll(SECTION_SEL));}// Maintain the displayed position (now that we changed the element order)\nsilentScroll($(SECTION_ACTIVE_SEL).position().top);// Maintain the active slides visible in the viewport\nkeepSlidesPosition();// save for later the elements that still need to be reordered\nv.wrapAroundElements=v.activeSection;// Recalculate animation variables\nv.dtop=v.element.position().top;v.yMovement=getYmovement(v.element);return v;}/**\n        * Fix section order after continuousVertical changes have been animated\n        */function continuousVerticalFixSectionOrder(v){// If continuousVertical is in effect (and autoScrolling would also be in effect then),\n// finish moving the elements around so the direct navigation will function more simply\nif(!v.wrapAroundElements||!v.wrapAroundElements.length){return;}if(v.isMovementUp){$(SECTION_FIRST_SEL).before(v.wrapAroundElements);}else{$(SECTION_LAST_SEL).after(v.wrapAroundElements);}silentScroll($(SECTION_ACTIVE_SEL).position().top);// Maintain the active slides visible in the viewport\nkeepSlidesPosition();}/**\n        * Actions to do once the section is loaded.\n        */function afterSectionLoads(v){continuousVerticalFixSectionOrder(v);v.element.find('.fp-scrollable').mouseover();//callback (afterLoad) if the site is not just resizing and readjusting the slides\n$.isFunction(options.afterLoad)&&!v.localIsResizing&&options.afterLoad.call(v.element,v.anchorLink,v.sectionIndex+1);playMedia(v.element);v.element.addClass(COMPLETELY).siblings().removeClass(COMPLETELY);canScroll=true;$.isFunction(v.callback)&&v.callback.call(this);}/**\n        * Lazy loads image, video and audio elements.\n        */function lazyLoad(destiny){var destiny=getSlideOrSection(destiny);destiny.find('img[data-src], source[data-src], audio[data-src]').each(function(){$(this).attr('src',$(this).data('src'));$(this).removeAttr('data-src');if($(this).is('source')){$(this).closest('video').get(0).load();}});}/**\n        * Plays video and audio elements.\n        */function playMedia(destiny){var destiny=getSlideOrSection(destiny);//playing HTML5 media elements\ndestiny.find('video, audio').each(function(){var element=$(this).get(0);if(element.hasAttribute('autoplay')&&typeof element.play==='function'){element.play();}});}/**\n        * Stops video and audio elements.\n        */function stopMedia(destiny){var destiny=getSlideOrSection(destiny);//stopping HTML5 media elements\ndestiny.find('video, audio').each(function(){var element=$(this).get(0);if(!element.hasAttribute('data-ignore')&&typeof element.pause==='function'){element.pause();}});}/**\n        * Gets the active slide (or section) for the given section\n        */function getSlideOrSection(destiny){var slide=destiny.find(SLIDE_ACTIVE_SEL);if(slide.length){destiny=$(slide);}return destiny;}/**\n        * Scrolls to the anchor in the URL when loading the site\n        */function scrollToAnchor(){//getting the anchor link in the URL and deleting the `#`\nvar value=window.location.hash.replace('#','').split('/');var section=value[0];var slide=value[1];if(section){//if theres any #\nif(options.animateAnchor){scrollPageAndSlide(section,slide);}else{FP.silentMoveTo(section,slide);}}}/**\n        * Detecting any change on the URL to scroll to the given anchor link\n        * (a way to detect back history button as we play with the hashes on the URL)\n        */function hashChangeHandler(){if(!isScrolling&&!options.lockAnchors){var value=window.location.hash.replace('#','').split('/');var section=value[0];var slide=value[1];//when moving to a slide in the first section for the first time (first time to add an anchor to the URL)\nvar isFirstSlideMove=typeof lastScrolledDestiny==='undefined';var isFirstScrollMove=typeof lastScrolledDestiny==='undefined'&&typeof slide==='undefined'&&!slideMoving;if(section.length){/*in order to call scrollpage() only once for each destination at a time\n                    It is called twice for each scroll otherwise, as in case of using anchorlinks `hashChange`\n                    event is fired on every scroll too.*/if(section&&section!==lastScrolledDestiny&&!isFirstSlideMove||isFirstScrollMove||!slideMoving&&lastScrolledSlide!=slide){scrollPageAndSlide(section,slide);}}}}//Sliding with arrow keys, both, vertical and horizontal\nfunction keydownHandler(e){clearTimeout(keydownId);var activeElement=$(':focus');if(!activeElement.is('textarea')&&!activeElement.is('input')&&!activeElement.is('select')&&activeElement.attr('contentEditable')!==\"true\"&&activeElement.attr('contentEditable')!==''&&options.keyboardScrolling&&options.autoScrolling){var keyCode=e.which;//preventing the scroll with arrow keys & spacebar & Page Up & Down keys\nvar keyControls=[40,38,32,33,34];if($.inArray(keyCode,keyControls)>-1){e.preventDefault();}controlPressed=e.ctrlKey;keydownId=setTimeout(function(){onkeydown(e);},150);}}function tooltipTextHandler(){$(this).prev().trigger('click');}//to prevent scrolling while zooming\nfunction keyUpHandler(e){if(isWindowFocused){//the keyup gets fired on new tab ctrl + t in Firefox\ncontrolPressed=e.ctrlKey;}}//binding the mousemove when the mouse's middle button is released\nfunction mouseDownHandler(e){//middle button\nif(e.which==2){oldPageY=e.pageY;container.on('mousemove',mouseMoveHandler);}}//unbinding the mousemove when the mouse's middle button is released\nfunction mouseUpHandler(e){//middle button\nif(e.which==2){container.off('mousemove');}}//Scrolling horizontally when clicking on the slider controls.\nfunction slideArrowHandler(){var section=$(this).closest(SECTION_SEL);if($(this).hasClass(SLIDES_PREV)){if(isScrollAllowed.m.left){FP.moveSlideLeft(section);}}else{if(isScrollAllowed.m.right){FP.moveSlideRight(section);}}}//when opening a new tab (ctrl + t), `control` won't be pressed when comming back.\nfunction blurHandler(){isWindowFocused=false;controlPressed=false;}//Scrolls to the section when clicking the navigation bullet\nfunction sectionBulletHandler(e){e.preventDefault();var index=$(this).parent().index();scrollPage($(SECTION_SEL).eq(index));}//Scrolls the slider to the given slide destination for the given section\nfunction slideBulletHandler(e){e.preventDefault();var slides=$(this).closest(SECTION_SEL).find(SLIDES_WRAPPER_SEL);var destiny=slides.find(SLIDE_SEL).eq($(this).closest('li').index());landscapeScroll(slides,destiny);}/**\n        * Keydown event\n        */function onkeydown(e){var shiftPressed=e.shiftKey;switch(e.which){//up\ncase 38:case 33:if(isScrollAllowed.k.up){FP.moveSectionUp();}break;//down\ncase 32://spacebar\nif(shiftPressed&&isScrollAllowed.k.up){FP.moveSectionUp();break;}case 40:case 34:if(isScrollAllowed.k.down){FP.moveSectionDown();}break;//Home\ncase 36:if(isScrollAllowed.k.up){FP.moveTo(1);}break;//End\ncase 35:if(isScrollAllowed.k.down){FP.moveTo($(SECTION_SEL).length);}break;//left\ncase 37:if(isScrollAllowed.k.left){FP.moveSlideLeft();}break;//right\ncase 39:if(isScrollAllowed.k.right){FP.moveSlideRight();}break;default:return;// exit this handler for other keys\n}}/**\n        * Detecting the direction of the mouse movement.\n        * Used only for the middle button of the mouse.\n        */var oldPageY=0;function mouseMoveHandler(e){if(canScroll){// moving up\nif(e.pageY<oldPageY&&isScrollAllowed.m.up){FP.moveSectionUp();}// moving down\nelse if(e.pageY>oldPageY&&isScrollAllowed.m.down){FP.moveSectionDown();}}oldPageY=e.pageY;}/**\n        * Scrolls horizontal sliders.\n        */function landscapeScroll(slides,destiny){var destinyPos=destiny.position();var slideIndex=destiny.index();var section=slides.closest(SECTION_SEL);var sectionIndex=section.index(SECTION_SEL);var anchorLink=section.data('anchor');var slidesNav=section.find(SLIDES_NAV_SEL);var slideAnchor=getAnchor(destiny);var prevSlide=section.find(SLIDE_ACTIVE_SEL);//caching the value of isResizing at the momment the function is called\n//because it will be checked later inside a setTimeout and the value might change\nvar localIsResizing=isResizing;if(options.onSlideLeave){var prevSlideIndex=prevSlide.index();var xMovement=getXmovement(prevSlideIndex,slideIndex);//if the site is not just resizing and readjusting the slides\nif(!localIsResizing&&xMovement!=='none'){if($.isFunction(options.onSlideLeave)){if(options.onSlideLeave.call(prevSlide,anchorLink,sectionIndex+1,prevSlideIndex,xMovement,slideIndex)===false){slideMoving=false;return;}}}}stopMedia(prevSlide);destiny.addClass(ACTIVE).siblings().removeClass(ACTIVE);if(!localIsResizing){lazyLoad(destiny);}if(!options.loopHorizontal&&options.controlArrows){//hidding it for the fist slide, showing for the rest\nsection.find(SLIDES_ARROW_PREV_SEL).toggle(slideIndex!==0);//hidding it for the last slide, showing for the rest\nsection.find(SLIDES_ARROW_NEXT_SEL).toggle(!destiny.is(':last-child'));}//only changing the URL if the slides are in the current section (not for resize re-adjusting)\nif(section.hasClass(ACTIVE)){setState(slideIndex,slideAnchor,anchorLink,sectionIndex);}var afterSlideLoads=function afterSlideLoads(){//if the site is not just resizing and readjusting the slides\nif(!localIsResizing){$.isFunction(options.afterSlideLoad)&&options.afterSlideLoad.call(destiny,anchorLink,sectionIndex+1,slideAnchor,slideIndex);}playMedia(destiny);//letting them slide again\nslideMoving=false;};if(options.css3){var translate3d='translate3d(-'+Math.round(destinyPos.left)+'px, 0px, 0px)';addAnimation(slides.find(SLIDES_CONTAINER_SEL),options.scrollingSpeed>0).css(getTransforms(translate3d));afterSlideLoadsId=setTimeout(function(){afterSlideLoads();},options.scrollingSpeed,options.easing);}else{slides.animate({scrollLeft:Math.round(destinyPos.left)},options.scrollingSpeed,options.easing,function(){afterSlideLoads();});}slidesNav.find(ACTIVE_SEL).removeClass(ACTIVE);slidesNav.find('li').eq(slideIndex).find('a').addClass(ACTIVE);}var previousHeight=windowsHeight;//when resizing the site, we adjust the heights of the sections, slimScroll...\nfunction resizeHandler(){//checking if it needs to get responsive\nresponsive();// rebuild immediately on touch devices\nif(isTouchDevice){var activeElement=$(document.activeElement);//if the keyboard is NOT visible\nif(!activeElement.is('textarea')&&!activeElement.is('input')&&!activeElement.is('select')){var currentHeight=$window.height();//making sure the change in the viewport size is enough to force a rebuild. (20 % of the window to avoid problems when hidding scroll bars)\nif(Math.abs(currentHeight-previousHeight)>20*Math.max(previousHeight,currentHeight)/100){FP.reBuild(true);previousHeight=currentHeight;}}}else{//in order to call the functions only when the resize is finished\n//http://stackoverflow.com/questions/4298612/jquery-how-to-call-resize-event-only-once-its-finished-resizing\nclearTimeout(resizeId);resizeId=setTimeout(function(){FP.reBuild(true);},350);}}/**\n        * Checks if the site needs to get responsive and disables autoScrolling if so.\n        * A class `fp-responsive` is added to the plugin's container in case the user wants to use it for his own responsive CSS.\n        */function responsive(){var widthLimit=options.responsive||options.responsiveWidth;//backwards compatiblity\nvar heightLimit=options.responsiveHeight;//only calculating what we need. Remember its called on the resize event.\nvar isBreakingPointWidth=widthLimit&&$window.outerWidth()<widthLimit;var isBreakingPointHeight=heightLimit&&$window.height()<heightLimit;if(widthLimit&&heightLimit){FP.setResponsive(isBreakingPointWidth||isBreakingPointHeight);}else if(widthLimit){FP.setResponsive(isBreakingPointWidth);}else if(heightLimit){FP.setResponsive(isBreakingPointHeight);}}/**\n        * Adds transition animations for the given element\n        */function addAnimation(element){var transition='all '+options.scrollingSpeed+'ms '+options.easingcss3;element.removeClass(NO_TRANSITION);return element.css({'-webkit-transition':transition,'transition':transition});}/**\n        * Remove transition animations for the given element\n        */function removeAnimation(element){return element.addClass(NO_TRANSITION);}/**\n         * Resizing of the font size depending on the window size as well as some of the images on the site.\n         */function resizeMe(displayHeight,displayWidth){//Standard dimensions, for which the body font size is correct\nvar preferredHeight=825;var preferredWidth=900;if(displayHeight<preferredHeight||displayWidth<preferredWidth){var heightPercentage=displayHeight*100/preferredHeight;var widthPercentage=displayWidth*100/preferredWidth;var percentage=Math.min(heightPercentage,widthPercentage);var newFontSize=percentage.toFixed(2);$body.css('font-size',newFontSize+'%');}else{$body.css('font-size','100%');}}/**\n         * Activating the website navigation dots according to the given slide name.\n         */function activateNavDots(name,sectionIndex){if(options.navigation){$(SECTION_NAV_SEL).find(ACTIVE_SEL).removeClass(ACTIVE);if(name){$(SECTION_NAV_SEL).find('a[href=\"#'+name+'\"]').addClass(ACTIVE);}else{$(SECTION_NAV_SEL).find('li').eq(sectionIndex).find('a').addClass(ACTIVE);}}}/**\n         * Activating the website main menu elements according to the given slide name.\n         */function activateMenuElement(name){if(options.menu){$(options.menu).find(ACTIVE_SEL).removeClass(ACTIVE);$(options.menu).find('[data-menuanchor=\"'+name+'\"]').addClass(ACTIVE);}}/**\n        * Sets to active the current menu and vertical nav items.\n        */function activateMenuAndNav(anchor,index){activateMenuElement(anchor);activateNavDots(anchor,index);}/**\n        * Retuns `up` or `down` depending on the scrolling movement to reach its destination\n        * from the current section.\n        */function getYmovement(destiny){var fromIndex=$(SECTION_ACTIVE_SEL).index(SECTION_SEL);var toIndex=destiny.index(SECTION_SEL);if(fromIndex==toIndex){return'none';}if(fromIndex>toIndex){return'up';}return'down';}/**\n        * Retuns `right` or `left` depending on the scrolling movement to reach its destination\n        * from the current slide.\n        */function getXmovement(fromIndex,toIndex){if(fromIndex==toIndex){return'none';}if(fromIndex>toIndex){return'left';}return'right';}function createSlimScrolling(element){//needed to make `scrollHeight` work under Opera 12\nelement.css('overflow','hidden');var scrollOverflowHandler=options.scrollOverflowHandler;var wrap=scrollOverflowHandler.wrapContent();//in case element is a slide\nvar section=element.closest(SECTION_SEL);var scrollable=scrollOverflowHandler.scrollable(element);var contentHeight;//if there was scroll, the contentHeight will be the one in the scrollable section\nif(scrollable.length){contentHeight=scrollOverflowHandler.scrollHeight(element);}else{contentHeight=element.get(0).scrollHeight;if(options.verticalCentered){contentHeight=element.find(TABLE_CELL_SEL).get(0).scrollHeight;}}var scrollHeight=windowsHeight-parseInt(section.css('padding-bottom'))-parseInt(section.css('padding-top'));//needs scroll?\nif(contentHeight>scrollHeight){//was there already an scroll ? Updating it\nif(scrollable.length){scrollOverflowHandler.update(element,scrollHeight);}//creating the scrolling\nelse{if(options.verticalCentered){element.find(TABLE_CELL_SEL).wrapInner(wrap);}else{element.wrapInner(wrap);}scrollOverflowHandler.create(element,scrollHeight);}}//removing the scrolling when it is not necessary anymore\nelse{scrollOverflowHandler.remove(element);}//undo\nelement.css('overflow','');}function addTableClass(element){element.addClass(TABLE).wrapInner('<div class=\"'+TABLE_CELL+'\" style=\"height:'+getTableHeight(element)+'px;\" />');}function getTableHeight(element){var sectionHeight=windowsHeight;if(options.paddingTop||options.paddingBottom){var section=element;if(!section.hasClass(SECTION)){section=element.closest(SECTION_SEL);}var paddings=parseInt(section.css('padding-top'))+parseInt(section.css('padding-bottom'));sectionHeight=windowsHeight-paddings;}return sectionHeight;}/**\n        * Adds a css3 transform property to the container class with or without animation depending on the animated param.\n        */function transformContainer(translate3d,animated){if(animated){addAnimation(container);}else{removeAnimation(container);}container.css(getTransforms(translate3d));//syncronously removing the class after the animation has been applied.\nsetTimeout(function(){container.removeClass(NO_TRANSITION);},10);}/**\n        * Gets a section by its anchor / index\n        */function getSectionByAnchor(sectionAnchor){//section\nvar section=container.find(SECTION_SEL+'[data-anchor=\"'+sectionAnchor+'\"]');if(!section.length){section=$(SECTION_SEL).eq(sectionAnchor-1);}return section;}/**\n        * Gets a slide inside a given section by its anchor / index\n        */function getSlideByAnchor(slideAnchor,section){var slides=section.find(SLIDES_WRAPPER_SEL);var slide=slides.find(SLIDE_SEL+'[data-anchor=\"'+slideAnchor+'\"]');if(!slide.length){slide=slides.find(SLIDE_SEL).eq(slideAnchor);}return slide;}/**\n        * Scrolls to the given section and slide anchors\n        */function scrollPageAndSlide(destiny,slide){var section=getSectionByAnchor(destiny);//default slide\nif(typeof slide==='undefined'){slide=0;}//we need to scroll to the section and then to the slide\nif(destiny!==lastScrolledDestiny&&!section.hasClass(ACTIVE)){scrollPage(section,function(){scrollSlider(section,slide);});}//if we were already in the section\nelse{scrollSlider(section,slide);}}/**\n        * Scrolls the slider to the given slide destination for the given section\n        */function scrollSlider(section,slideAnchor){if(typeof slideAnchor!=='undefined'){var slides=section.find(SLIDES_WRAPPER_SEL);var destiny=getSlideByAnchor(slideAnchor,section);if(destiny.length){landscapeScroll(slides,destiny);}}}/**\n        * Creates a landscape navigation bar with dots for horizontal sliders.\n        */function addSlidesNavigation(section,numSlides){section.append('<div class=\"'+SLIDES_NAV+'\"><ul></ul></div>');var nav=section.find(SLIDES_NAV_SEL);//top or bottom\nnav.addClass(options.slidesNavPosition);for(var i=0;i<numSlides;i++){nav.find('ul').append('<li><a href=\"#\"><span></span></a></li>');}//centering it\nnav.css('margin-left','-'+nav.width()/2+'px');nav.find('li').first().find('a').addClass(ACTIVE);}/**\n        * Sets the state of the website depending on the active section/slide.\n        * It changes the URL hash when needed and updates the body class.\n        */function setState(slideIndex,slideAnchor,anchorLink,sectionIndex){var sectionHash='';if(options.anchors.length&&!options.lockAnchors){//isn't it the first slide?\nif(slideIndex){if(typeof anchorLink!=='undefined'){sectionHash=anchorLink;}//slide without anchor link? We take the index instead.\nif(typeof slideAnchor==='undefined'){slideAnchor=slideIndex;}lastScrolledSlide=slideAnchor;setUrlHash(sectionHash+'/'+slideAnchor);//first slide won't have slide anchor, just the section one\n}else if(typeof slideIndex!=='undefined'){lastScrolledSlide=slideAnchor;setUrlHash(anchorLink);}//section without slides\nelse{setUrlHash(anchorLink);}}setBodyClass();}/**\n        * Sets the URL hash.\n        */function setUrlHash(url){if(options.recordHistory){location.hash=url;}else{//Mobile Chrome doesn't work the normal way, so... lets use HTML5 for phones :)\nif(isTouchDevice||isTouch){window.history.replaceState(undefined,undefined,'#'+url);}else{var baseUrl=window.location.href.split('#')[0];window.location.replace(baseUrl+'#'+url);}}}/**\n        * Gets the anchor for the given slide / section. Its index will be used if there's none.\n        */function getAnchor(element){var anchor=element.data('anchor');var index=element.index();//Slide without anchor link? We take the index instead.\nif(typeof anchor==='undefined'){anchor=index;}return anchor;}/**\n        * Sets a class for the body of the page depending on the active section / slide\n        */function setBodyClass(){var section=$(SECTION_ACTIVE_SEL);var slide=section.find(SLIDE_ACTIVE_SEL);var sectionAnchor=getAnchor(section);var slideAnchor=getAnchor(slide);var sectionIndex=section.index(SECTION_SEL);var text=String(sectionAnchor);if(slide.length){text=text+'-'+slideAnchor;}//changing slash for dash to make it a valid CSS style\ntext=text.replace('/','-').replace('#','');//removing previous anchor classes\nvar classRe=new RegExp('\\\\b\\\\s?'+VIEWING_PREFIX+'-[^\\\\s]+\\\\b',\"g\");$body[0].className=$body[0].className.replace(classRe,'');//adding the current anchor\n$body.addClass(VIEWING_PREFIX+'-'+text);}/**\n        * Checks for translate3d support\n        * @return boolean\n        * http://stackoverflow.com/questions/5661671/detecting-transform-translate3d-support\n        */function support3d(){var el=document.createElement('p'),has3d,transforms={'webkitTransform':'-webkit-transform','OTransform':'-o-transform','msTransform':'-ms-transform','MozTransform':'-moz-transform','transform':'transform'};// Add it to the body to get the computed style.\ndocument.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]='translate3d(1px,1px,1px)';has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]);}}document.body.removeChild(el);return has3d!==undefined&&has3d.length>0&&has3d!=='none';}/**\n        * Removes the auto scrolling action fired by the mouse wheel and trackpad.\n        * After this function is called, the mousewheel and trackpad movements won't scroll through sections.\n        */function removeMouseWheelHandler(){if(document.addEventListener){document.removeEventListener('mousewheel',MouseWheelHandler,false);//IE9, Chrome, Safari, Oper\ndocument.removeEventListener('wheel',MouseWheelHandler,false);//Firefox\ndocument.removeEventListener('MozMousePixelScroll',MouseWheelHandler,false);//old Firefox\n}else{document.detachEvent('onmousewheel',MouseWheelHandler);//IE 6/7/8\n}}/**\n        * Adds the auto scrolling action for the mouse wheel and trackpad.\n        * After this function is called, the mousewheel and trackpad movements will scroll through sections\n        * https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n        */function addMouseWheelHandler(){var prefix='';var _addEventListener;if(window.addEventListener){_addEventListener=\"addEventListener\";}else{_addEventListener=\"attachEvent\";prefix='on';}// detect available wheel event\nvar support='onwheel'in document.createElement('div')?'wheel':// Modern browsers support \"wheel\"\ndocument.onmousewheel!==undefined?'mousewheel':// Webkit and IE support at least \"mousewheel\"\n'DOMMouseScroll';// let's assume that remaining browsers are older Firefox\nif(support=='DOMMouseScroll'){document[_addEventListener](prefix+'MozMousePixelScroll',MouseWheelHandler,false);}//handle MozMousePixelScroll in older Firefox\nelse{document[_addEventListener](prefix+support,MouseWheelHandler,false);}}/**\n        * Binding the mousemove when the mouse's middle button is pressed\n        */function addMiddleWheelHandler(){container.on('mousedown',mouseDownHandler).on('mouseup',mouseUpHandler);}/**\n        * Unbinding the mousemove when the mouse's middle button is released\n        */function removeMiddleWheelHandler(){container.off('mousedown',mouseDownHandler).off('mouseup',mouseUpHandler);}/**\n        * Adds the possibility to auto scroll through sections on touch devices.\n        */function addTouchHandler(){if(isTouchDevice||isTouch){//Microsoft pointers\nvar MSPointer=getMSPointer();$(WRAPPER_SEL).off('touchstart '+MSPointer.down).on('touchstart '+MSPointer.down,touchStartHandler);$(WRAPPER_SEL).off('touchmove '+MSPointer.move).on('touchmove '+MSPointer.move,touchMoveHandler);}}/**\n        * Removes the auto scrolling for touch devices.\n        */function removeTouchHandler(){if(isTouchDevice||isTouch){//Microsoft pointers\nvar MSPointer=getMSPointer();$(WRAPPER_SEL).off('touchstart '+MSPointer.down);$(WRAPPER_SEL).off('touchmove '+MSPointer.move);}}/*\n        * Returns and object with Microsoft pointers (for IE<11 and for IE >= 11)\n        * http://msdn.microsoft.com/en-us/library/ie/dn304886(v=vs.85).aspx\n        */function getMSPointer(){var pointer;//IE >= 11 & rest of browsers\nif(window.PointerEvent){pointer={down:'pointerdown',move:'pointermove'};}//IE < 11\nelse{pointer={down:'MSPointerDown',move:'MSPointerMove'};}return pointer;}/**\n        * Gets the pageX and pageY properties depending on the browser.\n        * https://github.com/alvarotrigo/fullPage.js/issues/194#issuecomment-34069854\n        */function getEventsPage(e){var events=[];events.y=typeof e.pageY!=='undefined'&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY;events.x=typeof e.pageX!=='undefined'&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX;//in touch devices with scrollBar:true, e.pageY is detected, but we have to deal with touch events. #1008\nif(isTouch&&isReallyTouch(e)&&options.scrollBar){events.y=e.touches[0].pageY;events.x=e.touches[0].pageX;}return events;}/**\n        * Slides silently (with no animation) the active slider to the given slide.\n        */function silentLandscapeScroll(activeSlide,noCallbacks){FP.setScrollingSpeed(0,'internal');if(typeof noCallbacks!=='undefined'){//preventing firing callbacks afterSlideLoad etc.\nisResizing=true;}landscapeScroll(activeSlide.closest(SLIDES_WRAPPER_SEL),activeSlide);if(typeof noCallbacks!=='undefined'){isResizing=false;}FP.setScrollingSpeed(originals.scrollingSpeed,'internal');}/**\n        * Scrolls silently (with no animation) the page to the given Y position.\n        */function silentScroll(top){if(options.scrollBar){container.scrollTop(top);}else if(options.css3){var translate3d='translate3d(0px, -'+top+'px, 0px)';transformContainer(translate3d,false);}else{container.css('top',-top);}}/**\n        * Returns the cross-browser transform string.\n        */function getTransforms(translate3d){return{'-webkit-transform':translate3d,'-moz-transform':translate3d,'-ms-transform':translate3d,'transform':translate3d};}/**\n        * Allowing or disallowing the mouse/swipe scroll in a given direction. (not for keyboard)\n        * @type  m (mouse) or k (keyboard)\n        */function setIsScrollAllowed(value,direction,type){switch(direction){case'up':isScrollAllowed[type].up=value;break;case'down':isScrollAllowed[type].down=value;break;case'left':isScrollAllowed[type].left=value;break;case'right':isScrollAllowed[type].right=value;break;case'all':if(type=='m'){FP.setAllowScrolling(value);}else{FP.setKeyboardScrolling(value);}}}/*\n        * Destroys fullpage.js plugin events and optinally its html markup and styles\n        */FP.destroy=function(all){FP.setAutoScrolling(false,'internal');FP.setAllowScrolling(false);FP.setKeyboardScrolling(false);container.addClass(DESTROYED);clearTimeout(afterSlideLoadsId);clearTimeout(afterSectionLoadsId);clearTimeout(resizeId);clearTimeout(scrollId);clearTimeout(scrollId2);$window.off('scroll',scrollHandler).off('hashchange',hashChangeHandler).off('resize',resizeHandler);$document.off('click',SECTION_NAV_SEL+' a').off('mouseenter',SECTION_NAV_SEL+' li').off('mouseleave',SECTION_NAV_SEL+' li').off('click',SLIDES_NAV_LINK_SEL).off('mouseover',options.normalScrollElements).off('mouseout',options.normalScrollElements);$(SECTION_SEL).off('click',SLIDES_ARROW_SEL);clearTimeout(afterSlideLoadsId);clearTimeout(afterSectionLoadsId);//lets make a mess!\nif(all){destroyStructure();}};/*\n        * Removes inline styles added by fullpage.js\n        */function destroyStructure(){//reseting the `top` or `translate` properties to 0\nsilentScroll(0);$(SECTION_NAV_SEL+', '+SLIDES_NAV_SEL+', '+SLIDES_ARROW_SEL).remove();//removing inline styles\n$(SECTION_SEL).css({'height':'','background-color':'','padding':''});$(SLIDE_SEL).css({'width':''});container.css({'height':'','position':'','-ms-touch-action':'','touch-action':''});$htmlBody.css({'overflow':'','height':''});// remove .fp-enabled class\n$('html').removeClass(ENABLED);// remove all of the .fp-viewing- classes\n$.each($body.get(0).className.split(/\\s+/),function(index,className){if(className.indexOf(VIEWING_PREFIX)===0){$body.removeClass(className);}});//removing added classes\n$(SECTION_SEL+', '+SLIDE_SEL).each(function(){options.scrollOverflowHandler.remove($(this));$(this).removeClass(TABLE+' '+ACTIVE);});removeAnimation(container);//Unwrapping content\ncontainer.find(TABLE_CELL_SEL+', '+SLIDES_CONTAINER_SEL+', '+SLIDES_WRAPPER_SEL).each(function(){//unwrap not being use in case there's no child element inside and its just text\n$(this).replaceWith(this.childNodes);});//scrolling the page to the top with no animation\n$htmlBody.scrollTop(0);//removing selectors\nvar usedSelectors=[SECTION,SLIDE,SLIDES_CONTAINER];$.each(usedSelectors,function(index,value){$('.'+value).removeClass(value);});}/*\n        * Sets the state for a variable with multiple states (original, and temporal)\n        * Some variables such as `autoScrolling` or `recordHistory` might change automatically its state when using `responsive` or `autoScrolling:false`.\n        * This function is used to keep track of both states, the original and the temporal one.\n        * If type is not 'internal', then we assume the user is globally changing the variable.\n        */function setVariableState(variable,value,type){options[variable]=value;if(type!=='internal'){originals[variable]=value;}}/**\n        * Displays warnings\n        */function displayWarnings(){if($('html').hasClass(ENABLED)){showError('error','Fullpage.js can only be initialized once and you are doing it multiple times!');return;}// Disable mutually exclusive settings\nif(options.continuousVertical&&(options.loopTop||options.loopBottom)){options.continuousVertical=false;showError('warn','Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled');}if(options.scrollBar&&options.scrollOverflow){showError('warn','Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox');}if(options.continuousVertical&&options.scrollBar){options.continuousVertical=false;showError('warn','Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled');}//anchors can not have the same value as any element ID or NAME\n$.each(options.anchors,function(index,name){//case insensitive selectors (http://stackoverflow.com/a/19465187/1081396)\nvar nameAttr=$document.find('[name]').filter(function(){return $(this).attr('name')&&$(this).attr('name').toLowerCase()==name.toLowerCase();});var idAttr=$document.find('[id]').filter(function(){return $(this).attr('id')&&$(this).attr('id').toLowerCase()==name.toLowerCase();});if(idAttr.length||nameAttr.length){showError('error','data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).');idAttr.length&&showError('error','\"'+name+'\" is is being used by another element `id` property');nameAttr.length&&showError('error','\"'+name+'\" is is being used by another element `name` property');}});}/**\n        * Shows a message in the console of the given type.\n        */function showError(type,text){console&&console[type]&&console[type]('fullPage: '+text);}};/**\n     * An object to handle overflow scrolling.\n     * This uses jquery.slimScroll to accomplish overflow scrolling.\n     * It is possible to pass in an alternate scrollOverflowHandler\n     * to the fullpage.js option that implements the same functions\n     * as this handler.\n     *\n     * @type {Object}\n     */var slimScrollHandler={/**\n         * Optional function called after each render.\n         *\n         * Solves a bug with slimScroll vendor library #1037, #553\n         *\n         * @param  {object} section jQuery object containing rendered section\n         */afterRender:function afterRender(section){var slides=section.find(SLIDES_WRAPPER);var scrollableWrap=section.find(SCROLLABLE_SEL);if(slides.length){scrollableWrap=slides.find(SLIDE_ACTIVE_SEL);}scrollableWrap.mouseover();},/**\n         * Called when overflow scrolling is needed for a section.\n         *\n         * @param  {Object} element      jQuery object containing current section\n         * @param  {Number} scrollHeight Current window height in pixels\n         */create:function create(element,scrollHeight){element.find(SCROLLABLE_SEL).slimScroll({allowPageScroll:true,height:scrollHeight+'px',size:'10px',alwaysVisible:true});},/**\n         * Return a boolean depending on whether the scrollable element is a\n         * the end or at the start of the scrolling depending on the given type.\n         *\n         * @param  {String}  type       Either 'top' or 'bottom'\n         * @param  {Object}  scrollable jQuery object for the scrollable element\n         * @return {Boolean}\n         */isScrolled:function isScrolled(type,scrollable){if(type==='top'){return!scrollable.scrollTop();}else if(type==='bottom'){return scrollable.scrollTop()+1+scrollable.innerHeight()>=scrollable[0].scrollHeight;}},/**\n         * Returns the scrollable element for the given section.\n         * If there are landscape slides, will only return a scrollable element\n         * if it is in the active slide.\n         *\n         * @param  {Object}  activeSection jQuery object containing current section\n         * @return {Boolean}\n         */scrollable:function scrollable(activeSection){// if there are landscape slides, we check if the scrolling bar is in the current one or not\nif(activeSection.find(SLIDES_WRAPPER_SEL).length){return activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL);}return activeSection.find(SCROLLABLE_SEL);},/**\n         * Returns the scroll height of the wrapped content.\n         * If this is larger than the window height minus section padding,\n         * overflow scrolling is needed.\n         *\n         * @param  {Object} element jQuery object containing current section\n         * @return {Number}\n         */scrollHeight:function scrollHeight(element){return element.find(SCROLLABLE_SEL).get(0).scrollHeight;},/**\n         * Called when overflow scrolling is no longer needed for a section.\n         *\n         * @param  {Object} element      jQuery object containing current section\n         */remove:function remove(element){element.find(SCROLLABLE_SEL).children().first().unwrap().unwrap();element.find(SLIMSCROLL_BAR_SEL).remove();element.find(SLIMSCROLL_RAIL_SEL).remove();},/**\n         * Called when overflow scrolling has already been setup but the\n         * window height has potentially changed.\n         *\n         * @param  {Object} element      jQuery object containing current section\n         * @param  {Number} scrollHeight Current window height in pixels\n         */update:function update(element,scrollHeight){element.find(SCROLLABLE_SEL).css('height',scrollHeight+'px').parent().css('height',scrollHeight+'px');},/**\n         * Called to get any additional elements needed to wrap the section\n         * content in order to facilitate overflow scrolling.\n         *\n         * @return {String|Object} Can be a string containing HTML,\n         *                         a DOM element, or jQuery object.\n         */wrapContent:function wrapContent(){return'<div class=\"'+SCROLLABLE+'\"></div>';}};defaultScrollHandler=slimScrollHandler;});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9saWIvanF1ZXJ5LmZ1bGxQYWdlLmpzP2M1YmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjZFQUFBOzs7Ozs7R0FPQSxDQUFDLFNBQVMsTUFBVCxDQUFpQixPQUFqQixDQUEwQixDQUN2QixhQUNBLEdBQUksSUFBSixDQUFnRCxDQUM1QyxpQ0FBTyxDQUFDLHNCQUFELENBQVAsa0NBQW1CLFNBQVMsQ0FBVCxDQUFZLENBQzdCLE1BQU8sU0FBUSxDQUFSLENBQVcsTUFBWCxDQUFtQixPQUFPLFFBQTFCLENBQW9DLE9BQU8sSUFBM0MsQ0FBUCxDQUNELENBRkQsZ0pBR0gsQ0FKRCxJQUlPLElBQUksTUFBTyxRQUFQLEdBQW1CLFdBQXZCLENBQW9DLENBQ3ZDLE9BQU8sT0FBUCxDQUFpQixRQUFRLFFBQVEsUUFBUixDQUFSLENBQTJCLE1BQTNCLENBQW1DLE9BQU8sUUFBMUMsQ0FBb0QsT0FBTyxJQUEzRCxDQUFqQixDQUNILENBRk0sSUFFQSxDQUNILFFBQVEsTUFBUixDQUFnQixNQUFoQixDQUF3QixPQUFPLFFBQS9CLENBQXlDLE9BQU8sSUFBaEQsRUFDSCxDQUNKLENBWEQsRUFXRyxNQUFPLE9BQVAsR0FBa0IsV0FBbEIsQ0FBZ0MsTUFBaEMsVUFYSCxDQVdrRCxTQUFTLENBQVQsQ0FBWSxNQUFaLENBQW9CLFFBQXBCLENBQThCLElBQTlCLENBQW9DLFNBQXBDLENBQStDLENBQzdGLGFBRUE7QUFDQSxHQUFJLFNBQXdCLGtCQUE1QixDQUNBLEdBQUksYUFBd0IsSUFBTSxPQUFsQyxDQUVBO0FBQ0EsR0FBSSxZQUF3QixlQUE1QixDQUNBLEdBQUksZ0JBQXdCLElBQU0sVUFBbEMsQ0FDQSxHQUFJLG9CQUF3QixnQkFBNUIsQ0FDQSxHQUFJLHFCQUF3QixpQkFBNUIsQ0FFQTtBQUNBLEdBQUksWUFBd0IsZUFBNUIsQ0FDQSxHQUFJLGVBQXdCLGlCQUE1QixDQUNBLEdBQUksV0FBd0IsY0FBNUIsQ0FDQSxHQUFJLFNBQXdCLFlB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QixDQUFpQyxDQUFqQyxFQUFvQyxZQUEzQyxDQUNILENBNUVtQixDQThFcEI7Ozs7V0FLQSxPQUFRLGdCQUFTLE9BQVQsQ0FBaUIsQ0FDckIsUUFBUSxJQUFSLENBQWEsY0FBYixFQUE2QixRQUE3QixHQUF3QyxLQUF4QyxHQUFnRCxNQUFoRCxHQUF5RCxNQUF6RCxHQUNBLFFBQVEsSUFBUixDQUFhLGtCQUFiLEVBQWlDLE1BQWpDLEdBQ0EsUUFBUSxJQUFSLENBQWEsbUJBQWIsRUFBa0MsTUFBbEMsR0FDSCxDQXZGbUIsQ0F5RnBCOzs7Ozs7V0FPQSxPQUFRLGdCQUFTLE9BQVQsQ0FBa0IsWUFBbEIsQ0FBK0IsQ0FDbkMsUUFBUSxJQUFSLENBQWEsY0FBYixFQUE2QixHQUE3QixDQUFpQyxRQUFqQyxDQUEyQyxhQUFlLElBQTFELEVBQWdFLE1BQWhFLEdBQXlFLEdBQXpFLENBQTZFLFFBQTdFLENBQXVGLGFBQWUsSUFBdEcsRUFDSCxDQWxHbUIsQ0FvR3BCOzs7Ozs7V0FPQSxZQUFhLHNCQUFVLENBQ25CLE1BQU8sZUFBaUIsVUFBakIsQ0FBOEIsVUFBckMsQ0FDSCxDQTdHbUIsQ0FBeEIsQ0FnSEEscUJBQXVCLGlCQUF2QixDQUVILENBenVGRCIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBmdWxsUGFnZSAyLjcuOVxuICogaHR0cHM6Ly9naXRodWIuY29tL2FsdmFyb3RyaWdvL2Z1bGxQYWdlLmpzXG4gKiBAbGljZW5zZSBNSVQgbGljZW5zZWRcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTUgYWx2YXJvdHJpZ28uY29tIC0gQSBwcm9qZWN0IGJ5IEFsdmFybyBUcmlnb1xuICovXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZ1bmN0aW9uKCQpIHtcbiAgICAgICAgICByZXR1cm4gZmFjdG9yeSgkLCBnbG9iYWwsIGdsb2JhbC5kb2N1bWVudCwgZ2xvYmFsLk1hdGgpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JyksIGdsb2JhbCwgZ2xvYmFsLmRvY3VtZW50LCBnbG9iYWwuTWF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeShqUXVlcnksIGdsb2JhbCwgZ2xvYmFsLmRvY3VtZW50LCBnbG9iYWwuTWF0aCk7XG4gICAgfVxufSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCBNYXRoLCB1bmRlZmluZWQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBrZWVwaW5nIGNlbnRyYWwgc2V0IG9mIGNsYXNzbmFtZXMgYW5kIHNlbGVjdG9yc1xuICAgIHZhciBXUkFQUEVSID0gICAgICAgICAgICAgICAnZnVsbHBhZ2Utd3JhcHBlcic7XG4gICAgdmFyIFdSQVBQRVJfU0VMID0gICAgICAgICAgICcuJyArIFdSQVBQRVI7XG5cbiAgICAvLyBzbGltc2Nyb2xsXG4gICAgdmFyIFNDUk9MTEFCTEUgPSAgICAgICAgICAgICdmcC1zY3JvbGxhYmxlJztcbiAgICB2YXIgU0NST0xMQUJMRV9TRUwgPSAgICAgICAgJy4nICsgU0NST0xMQUJMRTtcbiAgICB2YXIgU0xJTVNDUk9MTF9CQVJfU0VMID0gICAgJy5zbGltU2Nyb2xsQmFyJztcbiAgICB2YXIgU0xJTVNDUk9MTF9SQUlMX1NFTCA9ICAgJy5zbGltU2Nyb2xsUmFpbCc7XG5cbiAgICAvLyB1dGlsXG4gICAgdmFyIFJFU1BPTlNJVkUgPSAgICAgICAgICAgICdmcC1yZXNwb25zaXZlJztcbiAgICB2YXIgTk9fVFJBTlNJVElPTiA9ICAgICAgICAgJ2ZwLW5vdHJhbnNpdGlvbic7XG4gICAgdmFyIERFU1RST1lFRCA9ICAgICAgICAgICAgICdmcC1kZXN0cm95ZWQnO1xuICAgIHZhciBFTkFCTEVEID0gICAgICAgICAgICAgICAnZnAtZW5hYmxlZCc7XG4gICAgdmFyIFZJRVdJTkdfUFJFRklYID0gICAgICAgICdmcC12aWV3aW5nJztcbiAgICB2YXIgQUNUSVZFID0gICAgICAgICAgICAgICAgJ2FjdGl2ZSc7XG4gICAgdmFyIEFDVElWRV9TRUwgPSAgICAgICAgICAgICcuJyArIEFDVElWRTtcbiAgICB2YXIgQ09NUExFVEVMWSA9ICAgICAgICAgICAgJ2ZwLWNvbXBsZXRlbHknO1xuICAgIHZhciBDT01QTEVURUxZX1NFTCA9ICAgICAgICAnLicgKyBDT01QTEVURUxZO1xuXG4gICAgLy8gc2VjdGlvblxuICAgIHZhciBTRUNUSU9OX0RFRkFVTFRfU0VMID0gICAnLnNlY3Rpb24nO1xuICAgIHZhciBTRUNUSU9OID0gICAgICAgICAgICAgICAnZnAtc2VjdGlvbic7XG4gICAgdmFyIFNFQ1RJT05fU0VMID0gICAgICAgICAgICcuJyArIFNFQ1RJT047XG4gICAgdmFyIFNFQ1RJT05fQUNUSVZFX1NFTCA9ICAgIFNFQ1RJT05fU0VMICsgQUNUSVZFX1NFTDtcbiAgICB2YXIgU0VDVElPTl9GSVJTVF9TRUwgPSAgICAgU0VDVElPTl9TRUwgKyAnOmZpcnN0JztcbiAgICB2YXIgU0VDVElPTl9MQVNUX1NFTCA9ICAgICAgU0VDVElPTl9TRUwgKyAnOmxhc3QnO1xuICAgIHZhciBUQUJMRV9DRUxMID0gICAgICAgICAgICAnZnAtdGFibGVDZWxsJztcbiAgICB2YXIgVEFCTEVfQ0VMTF9TRUwgPSAgICAgICAgJy4nICsgVEFCTEVfQ0VMTDtcbiAgICB2YXIgQVVUT19IRUlHSFQgPSAgICAgICAgICAgJ2ZwLWF1dG8taGVpZ2h0JztcbiAgICB2YXIgQVVUT19IRUlHSFRfU0VMID0gICAgICAgJy5mcC1hdXRvLWhlaWdodCc7XG4gICAgdmFyIE5PUk1BTF9TQ1JPTEwgPSAgICAgICAgICdmcC1ub3JtYWwtc2Nyb2xsJztcbiAgICB2YXIgTk9STUFMX1NDUk9MTF9TRUwgPSAgICAgJy5mcC1ub3JtYWwtc2Nyb2xsJztcblxuICAgIC8vIHNlY3Rpb24gbmF2XG4gICAgdmFyIFNFQ1RJT05fTkFWID0gICAgICAgICAgICdmcC1uYXYnO1xuICAgIHZhciBTRUNUSU9OX05BVl9TRUwgPSAgICAgICAnIycgKyBTRUNUSU9OX05BVjtcbiAgICB2YXIgU0VDVElPTl9OQVZfVE9PTFRJUCA9ICAgJ2ZwLXRvb2x0aXAnO1xuICAgIHZhciBTRUNUSU9OX05BVl9UT09MVElQX1NFTD0nLicrU0VDVElPTl9OQVZfVE9PTFRJUDtcbiAgICB2YXIgU0hPV19BQ1RJVkVfVE9PTFRJUCA9ICAgJ2ZwLXNob3ctYWN0aXZlJztcblxuICAgIC8vIHNsaWRlXG4gICAgdmFyIFNMSURFX0RFRkFVTFRfU0VMID0gICAgICcuc2xpZGUnO1xuICAgIHZhciBTTElERSA9ICAgICAgICAgICAgICAgICAnZnAtc2xpZGUnO1xuICAgIHZhciBTTElERV9TRUwgPSAgICAgICAgICAgICAnLicgKyBTTElERTtcbiAgICB2YXIgU0xJREVfQUNUSVZFX1NFTCA9ICAgICAgU0xJREVfU0VMICsgQUNUSVZFX1NFTDtcbiAgICB2YXIgU0xJREVTX1dSQVBQRVIgPSAgICAgICAgJ2ZwLXNsaWRlcyc7XG4gICAgdmFyIFNMSURFU19XUkFQUEVSX1NFTCA9ICAgICcuJyArIFNMSURFU19XUkFQUEVSO1xuICAgIHZhciBTTElERVNfQ09OVEFJTkVSID0gICAgICAnZnAtc2xpZGVzQ29udGFpbmVyJztcbiAgICB2YXIgU0xJREVTX0NPTlRBSU5FUl9TRUwgPSAgJy4nICsgU0xJREVTX0NPTlRBSU5FUjtcbiAgICB2YXIgVEFCTEUgPSAgICAgICAgICAgICAgICAgJ2ZwLXRhYmxlJztcblxuICAgIC8vIHNsaWRlIG5hdlxuICAgIHZhciBTTElERVNfTkFWID0gICAgICAgICAgICAnZnAtc2xpZGVzTmF2JztcbiAgICB2YXIgU0xJREVTX05BVl9TRUwgPSAgICAgICAgJy4nICsgU0xJREVTX05BVjtcbiAgICB2YXIgU0xJREVTX05BVl9MSU5LX1NFTCA9ICAgU0xJREVTX05BVl9TRUwgKyAnIGEnO1xuICAgIHZhciBTTElERVNfQVJST1cgPSAgICAgICAgICAnZnAtY29udHJvbEFycm93JztcbiAgICB2YXIgU0xJREVTX0FSUk9XX1NFTCA9ICAgICAgJy4nICsgU0xJREVTX0FSUk9XO1xuICAgIHZhciBTTElERVNfUFJFViA9ICAgICAgICAgICAnZnAtcHJldic7XG4gICAgdmFyIFNMSURFU19QUkVWX1NFTCA9ICAgICAgICcuJyArIFNMSURFU19QUkVWO1xuICAgIHZhciBTTElERVNfQVJST1dfUFJFViA9ICAgICBTTElERVNfQVJST1cgKyAnICcgKyBTTElERVNfUFJFVjtcbiAgICB2YXIgU0xJREVTX0FSUk9XX1BSRVZfU0VMID0gU0xJREVTX0FSUk9XX1NFTCArIFNMSURFU19QUkVWX1NFTDtcbiAgICB2YXIgU0xJREVTX05FWFQgPSAgICAgICAgICAgJ2ZwLW5leHQnO1xuICAgIHZhciBTTElERVNfTkVYVF9TRUwgPSAgICAgICAnLicgKyBTTElERVNfTkVYVDtcbiAgICB2YXIgU0xJREVTX0FSUk9XX05FWFQgPSAgICAgU0xJREVTX0FSUk9XICsgJyAnICsgU0xJREVTX05FWFQ7XG4gICAgdmFyIFNMSURFU19BUlJPV19ORVhUX1NFTCA9IFNMSURFU19BUlJPV19TRUwgKyBTTElERVNfTkVYVF9TRUw7XG5cbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICB2YXIgJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XG5cbiAgICB2YXIgZGVmYXVsdFNjcm9sbEhhbmRsZXI7XG5cbiAgICAkLmZuLmZ1bGxwYWdlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAvL29ubHkgb25jZSBteSBmcmllbmQhXG4gICAgICAgIGlmKCQoJ2h0bWwnKS5oYXNDbGFzcyhFTkFCTEVEKSl7IGRpc3BsYXlXYXJuaW5ncygpOyByZXR1cm4gfTtcblxuICAgICAgICAvLyBjb21tb24galF1ZXJ5IG9iamVjdHNcbiAgICAgICAgdmFyICRodG1sQm9keSA9ICQoJ2h0bWwsIGJvZHknKTtcbiAgICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIHZhciBGUCA9ICQuZm4uZnVsbHBhZ2U7XG4gICAgICAgIC8vIENyZWF0ZSBzb21lIGRlZmF1bHRzLCBleHRlbmRpbmcgdGhlbSB3aXRoIGFueSBvcHRpb25zIHRoYXQgd2VyZSBwcm92aWRlZFxuICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICAgICAgLy9uYXZpZ2F0aW9uXG4gICAgICAgICAgICBtZW51OiBmYWxzZSxcbiAgICAgICAgICAgIGFuY2hvcnM6W10sXG4gICAgICAgICAgICBsb2NrQW5jaG9yczogZmFsc2UsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIG5hdmlnYXRpb25Qb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgIG5hdmlnYXRpb25Ub29sdGlwczogW10sXG4gICAgICAgICAgICBzaG93QWN0aXZlVG9vbHRpcDogZmFsc2UsXG4gICAgICAgICAgICBzbGlkZXNOYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIHNsaWRlc05hdlBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgICAgICAgIHNjcm9sbEJhcjogZmFsc2UsXG4gICAgICAgICAgICBoeWJyaWQ6IGZhbHNlLFxuXG4gICAgICAgICAgICAvL3Njcm9sbGluZ1xuICAgICAgICAgICAgY3NzMzogdHJ1ZSxcbiAgICAgICAgICAgIHNjcm9sbGluZ1NwZWVkOiA3MDAsXG4gICAgICAgICAgICBhdXRvU2Nyb2xsaW5nOiB0cnVlLFxuICAgICAgICAgICAgZml0VG9TZWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgZml0VG9TZWN0aW9uRGVsYXk6IDEwMDAsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICAgICAgICBlYXNpbmdjc3MzOiAnZWFzZScsXG4gICAgICAgICAgICBsb29wQm90dG9tOiBmYWxzZSxcbiAgICAgICAgICAgIGxvb3BUb3A6IGZhbHNlLFxuICAgICAgICAgICAgbG9vcEhvcml6b250YWw6IHRydWUsXG4gICAgICAgICAgICBjb250aW51b3VzVmVydGljYWw6IGZhbHNlLFxuICAgICAgICAgICAgbm9ybWFsU2Nyb2xsRWxlbWVudHM6IG51bGwsXG4gICAgICAgICAgICBzY3JvbGxPdmVyZmxvdzogZmFsc2UsXG4gICAgICAgICAgICBzY3JvbGxPdmVyZmxvd0hhbmRsZXI6IGRlZmF1bHRTY3JvbGxIYW5kbGVyLFxuICAgICAgICAgICAgdG91Y2hTZW5zaXRpdml0eTogNSxcbiAgICAgICAgICAgIG5vcm1hbFNjcm9sbEVsZW1lbnRUb3VjaFRocmVzaG9sZDogNSxcblxuICAgICAgICAgICAgLy9BY2Nlc3NpYmlsaXR5XG4gICAgICAgICAgICBrZXlib2FyZFNjcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGFuaW1hdGVBbmNob3I6IHRydWUsXG4gICAgICAgICAgICByZWNvcmRIaXN0b3J5OiB0cnVlLFxuXG4gICAgICAgICAgICAvL2Rlc2lnblxuICAgICAgICAgICAgY29udHJvbEFycm93czogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xBcnJvd0NvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICB2ZXJ0aWNhbENlbnRlcmVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzaXplOiBmYWxzZSxcbiAgICAgICAgICAgIHNlY3Rpb25zQ29sb3IgOiBbXSxcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgICAgICAgICAgZml4ZWRFbGVtZW50czogbnVsbCxcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IDAsIC8vYmFja3dhcmRzIGNvbXBhYml0aWxpdHkgd2l0aCByZXNwb25zaXZlV2lkZHRoXG4gICAgICAgICAgICByZXNwb25zaXZlV2lkdGg6IDAsXG4gICAgICAgICAgICByZXNwb25zaXZlSGVpZ2h0OiAwLFxuXG4gICAgICAgICAgICAvL0N1c3RvbSBzZWxlY3RvcnNcbiAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogU0VDVElPTl9ERUZBVUxUX1NFTCxcbiAgICAgICAgICAgIHNsaWRlU2VsZWN0b3I6IFNMSURFX0RFRkFVTFRfU0VMLFxuXG5cbiAgICAgICAgICAgIC8vZXZlbnRzXG4gICAgICAgICAgICBhZnRlckxvYWQ6IG51bGwsXG4gICAgICAgICAgICBvbkxlYXZlOiBudWxsLFxuICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IG51bGwsXG4gICAgICAgICAgICBhZnRlclJlc2l6ZTogbnVsbCxcbiAgICAgICAgICAgIGFmdGVyUmVCdWlsZDogbnVsbCxcbiAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkOiBudWxsLFxuICAgICAgICAgICAgb25TbGlkZUxlYXZlOiBudWxsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGRpc3BsYXlXYXJuaW5ncygpO1xuXG4gICAgICAgIC8vZWFzZUluT3V0Q3ViaWMgYW5pbWF0aW9uIGluY2x1ZGVkIGluIHRoZSBwbHVnaW5cbiAgICAgICAgJC5leHRlbmQoJC5lYXNpbmcseyBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24gKHgsIHQsIGIsIGMsIGQpIHtpZiAoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKnQqdCp0ICsgYjtyZXR1cm4gYy8yKigodC09MikqdCp0ICsgMikgKyBiO319KTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBTZXRzIHRoZSBhdXRvU2Nyb2xsIG9wdGlvbi5cbiAgICAgICAgKiBJdCBjaGFuZ2VzIHRoZSBzY3JvbGwgYmFyIHZpc2liaWxpdHkgYW5kIHRoZSBoaXN0b3J5IG9mIHRoZSBzaXRlIGFzIGEgcmVzdWx0LlxuICAgICAgICAqL1xuICAgICAgICBGUC5zZXRBdXRvU2Nyb2xsaW5nID0gZnVuY3Rpb24odmFsdWUsIHR5cGUpe1xuICAgICAgICAgICAgc2V0VmFyaWFibGVTdGF0ZSgnYXV0b1Njcm9sbGluZycsIHZhbHVlLCB0eXBlKTtcblxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XG5cbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpe1xuICAgICAgICAgICAgICAgICRodG1sQm9keS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnIDogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgICdoZWlnaHQnIDogJzEwMCUnXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBGUC5zZXRSZWNvcmRIaXN0b3J5KG9yaWdpbmFscy5yZWNvcmRIaXN0b3J5LCAnaW50ZXJuYWwnKTtcblxuICAgICAgICAgICAgICAgIC8vZm9yIElFIHRvdWNoIGRldmljZXNcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICd0b3VjaC1hY3Rpb24nOiAnbm9uZSdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgLy9tb3ZpbmcgdGhlIGNvbnRhaW5lciB1cFxuICAgICAgICAgICAgICAgICAgICBzaWxlbnRTY3JvbGwoZWxlbWVudC5wb3NpdGlvbigpLnRvcCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAkaHRtbEJvZHkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JyA6ICd2aXNpYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCcgOiAnaW5pdGlhbCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIEZQLnNldFJlY29yZEhpc3RvcnkoZmFsc2UsICdpbnRlcm5hbCcpO1xuXG4gICAgICAgICAgICAgICAgLy9mb3IgSUUgdG91Y2ggZGV2aWNlc1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnLW1zLXRvdWNoLWFjdGlvbic6ICcnLFxuICAgICAgICAgICAgICAgICAgICAndG91Y2gtYWN0aW9uJzogJydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNpbGVudFNjcm9sbCgwKTtcblxuICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHRoZSBwYWdlIHRvIHRoZSBzZWN0aW9uIHdpdGggbm8gYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICRodG1sQm9keS5zY3JvbGxUb3AoZWxlbWVudC5wb3NpdGlvbigpLnRvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIERlZmluZXMgd2hldGVyIHRvIHJlY29yZCB0aGUgaGlzdG9yeSBmb3IgZWFjaCBoYXNoIGNoYW5nZSBpbiB0aGUgVVJMLlxuICAgICAgICAqL1xuICAgICAgICBGUC5zZXRSZWNvcmRIaXN0b3J5ID0gZnVuY3Rpb24odmFsdWUsIHR5cGUpe1xuICAgICAgICAgICAgc2V0VmFyaWFibGVTdGF0ZSgncmVjb3JkSGlzdG9yeScsIHZhbHVlLCB0eXBlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBEZWZpbmVzIHRoZSBzY3JvbGxpbmcgc3BlZWRcbiAgICAgICAgKi9cbiAgICAgICAgRlAuc2V0U2Nyb2xsaW5nU3BlZWQgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSl7XG4gICAgICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdzY3JvbGxpbmdTcGVlZCcsIHZhbHVlLCB0eXBlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBTZXRzIGZpdFRvU2VjdGlvblxuICAgICAgICAqL1xuICAgICAgICBGUC5zZXRGaXRUb1NlY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSl7XG4gICAgICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdmaXRUb1NlY3Rpb24nLCB2YWx1ZSwgdHlwZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyBsb2NrQW5jaG9yc1xuICAgICAgICAqL1xuICAgICAgICBGUC5zZXRMb2NrQW5jaG9ycyA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgIG9wdGlvbnMubG9ja0FuY2hvcnMgPSB2YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBBZGRzIG9yIHJlbW92ZSB0aGUgcG9zc2libGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUgbW91c2Ugd2hlZWwgb3IgdGhlIHRyYWNrcGFkLlxuICAgICAgICAqL1xuICAgICAgICBGUC5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nID0gZnVuY3Rpb24gKHZhbHVlKXtcbiAgICAgICAgICAgIGlmKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBhZGRNb3VzZVdoZWVsSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIGFkZE1pZGRsZVdoZWVsSGFuZGxlcigpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTW91c2VXaGVlbEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICByZW1vdmVNaWRkbGVXaGVlbEhhbmRsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBBZGRzIG9yIHJlbW92ZSB0aGUgcG9zc2libGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUgbW91c2Ugd2hlZWwvdHJhY2twYWQgb3IgdG91Y2ggZ2VzdHVyZXMuXG4gICAgICAgICogT3B0aW9uYWxseSBhIHNlY29uZCBwYXJhbWV0ZXIgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB0aGUgZGlyZWN0aW9uIGZvciB3aGljaCB0aGUgYWN0aW9uIHdpbGwgYmUgYXBwbGllZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBwYXJhbSBkaXJlY3Rpb25zIHN0cmluZyBjb250YWluaW5nIHRoZSBkaXJlY3Rpb24gb3IgZGlyZWN0aW9ucyBzZXBhcmF0ZWQgYnkgY29tbWEuXG4gICAgICAgICovXG4gICAgICAgIEZQLnNldEFsbG93U2Nyb2xsaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBkaXJlY3Rpb25zKXtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBkaXJlY3Rpb25zICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnLCcpO1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKGRpcmVjdGlvbnMsIGZ1bmN0aW9uIChpbmRleCwgZGlyZWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCBkaXJlY3Rpb24sICdtJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBGUC5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIGFkZFRvdWNoSGFuZGxlcigpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgRlAuc2V0TW91c2VXaGVlbFNjcm9sbGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG91Y2hIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQWRkcyBvciByZW1vdmUgdGhlIHBvc3NpYmxpdHkgb2Ygc2Nyb2xsaW5nIHRocm91Z2ggc2VjdGlvbnMgYnkgdXNpbmcgdGhlIGtleWJvYXJkIGFycm93IGtleXNcbiAgICAgICAgKi9cbiAgICAgICAgRlAuc2V0S2V5Ym9hcmRTY3JvbGxpbmcgPSBmdW5jdGlvbiAodmFsdWUsIGRpcmVjdGlvbnMpe1xuICAgICAgICAgICAgaWYodHlwZW9mIGRpcmVjdGlvbnMgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zID0gZGlyZWN0aW9ucy5yZXBsYWNlKC8gL2csJycpLnNwbGl0KCcsJyk7XG5cbiAgICAgICAgICAgICAgICAkLmVhY2goZGlyZWN0aW9ucywgZnVuY3Rpb24gKGluZGV4LCBkaXJlY3Rpb24pe1xuICAgICAgICAgICAgICAgICAgICBzZXRJc1Njcm9sbEFsbG93ZWQodmFsdWUsIGRpcmVjdGlvbiwgJ2snKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIG9wdGlvbnMua2V5Ym9hcmRTY3JvbGxpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBNb3ZlcyB0aGUgcGFnZSB1cCBvbmUgc2VjdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgRlAubW92ZVNlY3Rpb25VcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgcHJldiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKS5wcmV2KFNFQ1RJT05fU0VMKTtcblxuICAgICAgICAgICAgLy9sb29waW5nIHRvIHRoZSBib3R0b20gaWYgdGhlcmUncyBubyBtb3JlIHNlY3Rpb25zIGFib3ZlXG4gICAgICAgICAgICBpZiAoIXByZXYubGVuZ3RoICYmIChvcHRpb25zLmxvb3BUb3AgfHwgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwpKSB7XG4gICAgICAgICAgICAgICAgcHJldiA9ICQoU0VDVElPTl9TRUwpLmxhc3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXYubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShwcmV2LCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBNb3ZlcyB0aGUgcGFnZSBkb3duIG9uZSBzZWN0aW9uLlxuICAgICAgICAqL1xuICAgICAgICBGUC5tb3ZlU2VjdGlvbkRvd24gPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gJChTRUNUSU9OX0FDVElWRV9TRUwpLm5leHQoU0VDVElPTl9TRUwpO1xuXG4gICAgICAgICAgICAvL2xvb3BpbmcgdG8gdGhlIHRvcCBpZiB0aGVyZSdzIG5vIG1vcmUgc2VjdGlvbnMgYmVsb3dcbiAgICAgICAgICAgIGlmKCFuZXh0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIChvcHRpb25zLmxvb3BCb3R0b20gfHwgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwpKXtcbiAgICAgICAgICAgICAgICBuZXh0ID0gJChTRUNUSU9OX1NFTCkuZmlyc3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYobmV4dC5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2UobmV4dCwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIE1vdmVzIHRoZSBwYWdlIHRvIHRoZSBnaXZlbiBzZWN0aW9uIGFuZCBzbGlkZSB3aXRoIG5vIGFuaW1hdGlvbi5cbiAgICAgICAgKiBBbmNob3JzIG9yIGluZGV4IHBvc2l0aW9ucyBjYW4gYmUgdXNlZCBhcyBwYXJhbXMuXG4gICAgICAgICovXG4gICAgICAgIEZQLnNpbGVudE1vdmVUbyA9IGZ1bmN0aW9uKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKXtcbiAgICAgICAgICAgIEZQLnNldFNjcm9sbGluZ1NwZWVkICgwLCAnaW50ZXJuYWwnKTtcbiAgICAgICAgICAgIEZQLm1vdmVUbyhzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcilcbiAgICAgICAgICAgIEZQLnNldFNjcm9sbGluZ1NwZWVkIChvcmlnaW5hbHMuc2Nyb2xsaW5nU3BlZWQsICdpbnRlcm5hbCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIE1vdmVzIHRoZSBwYWdlIHRvIHRoZSBnaXZlbiBzZWN0aW9uIGFuZCBzbGlkZS5cbiAgICAgICAgKiBBbmNob3JzIG9yIGluZGV4IHBvc2l0aW9ucyBjYW4gYmUgdXNlZCBhcyBwYXJhbXMuXG4gICAgICAgICovXG4gICAgICAgIEZQLm1vdmVUbyA9IGZ1bmN0aW9uIChzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcil7XG4gICAgICAgICAgICB2YXIgZGVzdGlueSA9IGdldFNlY3Rpb25CeUFuY2hvcihzZWN0aW9uQW5jaG9yKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzbGlkZUFuY2hvciAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2VBbmRTbGlkZShzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcik7XG4gICAgICAgICAgICB9ZWxzZSBpZihkZXN0aW55Lmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2UoZGVzdGlueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2xpZGVzIHJpZ2h0IHRoZSBzbGlkZXIgb2YgdGhlIGFjdGl2ZSBzZWN0aW9uLlxuICAgICAgICAqIE9wdGlvbmFsIGBzZWN0aW9uYCBwYXJhbS5cbiAgICAgICAgKi9cbiAgICAgICAgRlAubW92ZVNsaWRlUmlnaHQgPSBmdW5jdGlvbihzZWN0aW9uKXtcbiAgICAgICAgICAgIG1vdmVTbGlkZSgnbmV4dCcsIHNlY3Rpb24pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNsaWRlcyBsZWZ0IHRoZSBzbGlkZXIgb2YgdGhlIGFjdGl2ZSBzZWN0aW9uLlxuICAgICAgICAqIE9wdGlvbmFsIGBzZWN0aW9uYCBwYXJhbS5cbiAgICAgICAgKi9cbiAgICAgICAgRlAubW92ZVNsaWRlTGVmdCA9IGZ1bmN0aW9uKHNlY3Rpb24pe1xuICAgICAgICAgICAgbW92ZVNsaWRlKCdwcmV2Jywgc2VjdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcmVzaXppbmcgaXMgZmluaXNoZWQsIHdlIGFkanVzdCB0aGUgc2xpZGVzIHNpemVzIGFuZCBwb3NpdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIEZQLnJlQnVpbGQgPSBmdW5jdGlvbihyZXNpemluZyl7XG4gICAgICAgICAgICBpZihjb250YWluZXIuaGFzQ2xhc3MoREVTVFJPWUVEKSl7IHJldHVybjsgfSAgLy9ub3RoaW5nIHRvIGRvIGlmIHRoZSBwbHVnaW4gd2FzIGRlc3Ryb3llZFxuXG4gICAgICAgICAgICBpc1Jlc2l6aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIHdpbmRvd3NXaWR0aCA9ICR3aW5kb3cub3V0ZXJXaWR0aCgpO1xuICAgICAgICAgICAgd2luZG93c0hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCk7ICAvL3VwZGF0aW5nIGdsb2JhbCB2YXJcblxuICAgICAgICAgICAgLy90ZXh0IHJlc2l6aW5nXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXNpemUpIHtcbiAgICAgICAgICAgICAgICByZXNpemVNZSh3aW5kb3dzSGVpZ2h0LCB3aW5kb3dzV2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKFNFQ1RJT05fU0VMKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlc1dyYXAgPSAkKHRoaXMpLmZpbmQoU0xJREVTX1dSQVBQRVJfU0VMKTtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVzID0gJCh0aGlzKS5maW5kKFNMSURFX1NFTCk7XG5cbiAgICAgICAgICAgICAgICAvL2FkanVzdGluZyB0aGUgaGVpZ2h0IG9mIHRoZSB0YWJsZS1jZWxsIGZvciBJRSBhbmQgRmlyZWZveFxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMudmVydGljYWxDZW50ZXJlZCl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZChUQUJMRV9DRUxMX1NFTCkuY3NzKCdoZWlnaHQnLCBnZXRUYWJsZUhlaWdodCgkKHRoaXMpKSArICdweCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdoZWlnaHQnLCB3aW5kb3dzSGVpZ2h0ICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgICAgICAvL3Jlc2l6aW5nIHRoZSBzY3JvbGxpbmcgZGl2c1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xuICAgICAgICAgICAgICAgICAgICBpZihzbGlkZXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpbVNjcm9sbGluZygkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNsaW1TY3JvbGxpbmcoJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL2FkanVzdGluZyB0aGUgcG9zaXRpb24gZm8gdGhlIEZVTEwgV0lEVEggc2xpZGVzLi4uXG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXNXcmFwLCBzbGlkZXNXcmFwLmZpbmQoU0xJREVfQUNUSVZFX1NFTCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBhY3RpdmVTZWN0aW9uLmluZGV4KFNFQ1RJT05fU0VMKTtcblxuICAgICAgICAgICAgLy9pc24ndCBpdCB0aGUgZmlyc3Qgc2VjdGlvbj9cbiAgICAgICAgICAgIGlmKHNlY3Rpb25JbmRleCl7XG4gICAgICAgICAgICAgICAgLy9hZGp1c3RpbmcgdGhlIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBzZWN0aW9uXG4gICAgICAgICAgICAgICAgRlAuc2lsZW50TW92ZVRvKHNlY3Rpb25JbmRleCArIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAkLmlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZXNpemUgKSAmJiByZXNpemluZyAmJiBvcHRpb25zLmFmdGVyUmVzaXplLmNhbGwoY29udGFpbmVyKTtcbiAgICAgICAgICAgICQuaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlQnVpbGQgKSAmJiAhcmVzaXppbmcgJiYgb3B0aW9ucy5hZnRlclJlQnVpbGQuY2FsbChjb250YWluZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFR1cm5zIGZ1bGxQYWdlLmpzIHRvIG5vcm1hbCBzY3JvbGxpbmcgbW9kZSB3aGVuIHRoZSB2aWV3cG9ydCBgd2lkdGhgIG9yIGBoZWlnaHRgXG4gICAgICAgICogYXJlIHNtYWxsZXIgdGhhbiB0aGUgc2V0IGxpbWl0IHZhbHVlcy5cbiAgICAgICAgKi9cbiAgICAgICAgRlAuc2V0UmVzcG9uc2l2ZSA9IGZ1bmN0aW9uIChhY3RpdmUpe1xuICAgICAgICAgICAgdmFyIGlzUmVzcG9uc2l2ZSA9ICRib2R5Lmhhc0NsYXNzKFJFU1BPTlNJVkUpO1xuXG4gICAgICAgICAgICBpZihhY3RpdmUpe1xuICAgICAgICAgICAgICAgIGlmKCFpc1Jlc3BvbnNpdmUpe1xuICAgICAgICAgICAgICAgICAgICBGUC5zZXRBdXRvU2Nyb2xsaW5nKGZhbHNlLCAnaW50ZXJuYWwnKTtcbiAgICAgICAgICAgICAgICAgICAgRlAuc2V0Rml0VG9TZWN0aW9uKGZhbHNlLCAnaW50ZXJuYWwnKTtcbiAgICAgICAgICAgICAgICAgICAgJChTRUNUSU9OX05BVl9TRUwpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJGJvZHkuYWRkQ2xhc3MoUkVTUE9OU0lWRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihpc1Jlc3BvbnNpdmUpe1xuICAgICAgICAgICAgICAgIEZQLnNldEF1dG9TY3JvbGxpbmcob3JpZ2luYWxzLmF1dG9TY3JvbGxpbmcsICdpbnRlcm5hbCcpO1xuICAgICAgICAgICAgICAgIEZQLnNldEZpdFRvU2VjdGlvbihvcmlnaW5hbHMuYXV0b1Njcm9sbGluZywgJ2ludGVybmFsJyk7XG4gICAgICAgICAgICAgICAgJChTRUNUSU9OX05BVl9TRUwpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVDbGFzcyhSRVNQT05TSVZFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZmxhZyB0byBhdm9pZCB2ZXJ5IGZhc3Qgc2xpZGluZyBmb3IgbGFuZHNjYXBlIHNsaWRlcnNcbiAgICAgICAgdmFyIHNsaWRlTW92aW5nID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGlzVG91Y2hEZXZpY2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZHxBbmRyb2lkfHBsYXlib29rfHNpbGt8QmxhY2tCZXJyeXxCQjEwfFdpbmRvd3MgUGhvbmV8VGl6ZW58QmFkYXx3ZWJPU3xJRU1vYmlsZXxPcGVyYSBNaW5pKS8pO1xuICAgICAgICB2YXIgaXNUb3VjaCA9ICgoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCAobmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwKSB8fCAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzKSk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgd2luZG93c0hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBpc1dpbmRvd0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICB2YXIgbGFzdFNjcm9sbGVkRGVzdGlueTtcbiAgICAgICAgdmFyIGxhc3RTY3JvbGxlZFNsaWRlO1xuICAgICAgICB2YXIgY2FuU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNjcm9sbGluZ3MgPSBbXTtcbiAgICAgICAgdmFyIG5hdjtcbiAgICAgICAgdmFyIGNvbnRyb2xQcmVzc2VkO1xuICAgICAgICB2YXIgaXNTY3JvbGxBbGxvd2VkID0ge307XG4gICAgICAgIGlzU2Nyb2xsQWxsb3dlZC5tID0geyAgJ3VwJzp0cnVlLCAnZG93bic6dHJ1ZSwgJ2xlZnQnOnRydWUsICdyaWdodCc6dHJ1ZSB9O1xuICAgICAgICBpc1Njcm9sbEFsbG93ZWQuayA9ICQuZXh0ZW5kKHRydWUse30sIGlzU2Nyb2xsQWxsb3dlZC5tKTtcbiAgICAgICAgdmFyIG9yaWdpbmFscyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBvcHRpb25zKTsgLy9kZWVwIGNvcHlcblxuICAgICAgICAvL3RpbWVvdXRzXG4gICAgICAgIHZhciByZXNpemVJZDtcbiAgICAgICAgdmFyIGFmdGVyU2VjdGlvbkxvYWRzSWQ7XG4gICAgICAgIHZhciBhZnRlclNsaWRlTG9hZHNJZDtcbiAgICAgICAgdmFyIHNjcm9sbElkO1xuICAgICAgICB2YXIgc2Nyb2xsSWQyO1xuICAgICAgICB2YXIga2V5ZG93bklkO1xuXG4gICAgICAgIGlmKCQodGhpcykubGVuZ3RoKXtcbiAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgICAgIGJpbmRFdmVudHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKXtcbiAgICAgICAgICAgIC8vaWYgY3NzMyBpcyBub3Qgc3VwcG9ydGVkLCBpdCB3aWxsIHVzZSBqUXVlcnkgYW5pbWF0aW9uc1xuICAgICAgICAgICAgaWYob3B0aW9ucy5jc3MzKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNzczMgPSBzdXBwb3J0M2QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxCYXIgPSBvcHRpb25zLnNjcm9sbEJhciB8fCBvcHRpb25zLmh5YnJpZDtcblxuXG4gICAgICAgICAgICBzZXRPcHRpb25zRnJvbURPTSgpO1xuXG4gICAgICAgICAgICBwcmVwYXJlRG9tKCk7XG4gICAgICAgICAgICBGUC5zZXRBbGxvd1Njcm9sbGluZyh0cnVlKTtcblxuICAgICAgICAgICAgRlAuc2V0QXV0b1Njcm9sbGluZyhvcHRpb25zLmF1dG9TY3JvbGxpbmcsICdpbnRlcm5hbCcpO1xuXG4gICAgICAgICAgICAvL3RoZSBzdGFydGluZyBwb2ludCBpcyBhIHNsaWRlP1xuICAgICAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gJChTRUNUSU9OX0FDVElWRV9TRUwpLmZpbmQoU0xJREVfQUNUSVZFX1NFTCk7XG5cbiAgICAgICAgICAgIC8vdGhlIGFjdGl2ZSBzZWN0aW9uIGlzbid0IHRoZSBmaXJzdCBvbmU/IElzIG5vdCB0aGUgZmlyc3Qgc2xpZGUgb2YgdGhlIGZpcnN0IHNlY3Rpb24/IFRoZW4gd2UgbG9hZCB0aGF0IHNlY3Rpb24vc2xpZGUgYnkgZGVmYXVsdC5cbiAgICAgICAgICAgIGlmKCBhY3RpdmVTbGlkZS5sZW5ndGggJiYgICgkKFNFQ1RJT05fQUNUSVZFX1NFTCkuaW5kZXgoU0VDVElPTl9TRUwpICE9PSAwIHx8ICgkKFNFQ1RJT05fQUNUSVZFX1NFTCkuaW5kZXgoU0VDVElPTl9TRUwpID09PSAwICYmIGFjdGl2ZVNsaWRlLmluZGV4KCkgIT09IDApKSl7XG4gICAgICAgICAgICAgICAgc2lsZW50TGFuZHNjYXBlU2Nyb2xsKGFjdGl2ZVNsaWRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzcG9uc2l2ZSgpO1xuXG4gICAgICAgICAgICAvL3NldHRpbmcgdGhlIGNsYXNzIGZvciB0aGUgYm9keSBlbGVtZW50XG4gICAgICAgICAgICBzZXRCb2R5Q2xhc3MoKTtcblxuICAgICAgICAgICAgJHdpbmRvdy5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvQW5jaG9yKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudHMoKXtcbiAgICAgICAgICAgICR3aW5kb3dcbiAgICAgICAgICAgICAgICAvL3doZW4gc2Nyb2xsaW5nLi4uXG4gICAgICAgICAgICAgICAgLm9uKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKVxuXG4gICAgICAgICAgICAgICAgLy9kZXRlY3RpbmcgYW55IGNoYW5nZSBvbiB0aGUgVVJMIHRvIHNjcm9sbCB0byB0aGUgZ2l2ZW4gYW5jaG9yIGxpbmtcbiAgICAgICAgICAgICAgICAvLyhhIHdheSB0byBkZXRlY3QgYmFjayBoaXN0b3J5IGJ1dHRvbiBhcyB3ZSBwbGF5IHdpdGggdGhlIGhhc2hlcyBvbiB0aGUgVVJMKVxuICAgICAgICAgICAgICAgIC5vbignaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VIYW5kbGVyKVxuXG4gICAgICAgICAgICAgICAgLy93aGVuIG9wZW5pbmcgYSBuZXcgdGFiIChjdHJsICsgdCksIGBjb250cm9sYCB3b24ndCBiZSBwcmVzc2VkIHdoZW4gY29tbWluZyBiYWNrLlxuICAgICAgICAgICAgICAgIC5ibHVyKGJsdXJIYW5kbGVyKVxuXG4gICAgICAgICAgICAgICAgLy93aGVuIHJlc2l6aW5nIHRoZSBzaXRlLCB3ZSBhZGp1c3QgdGhlIGhlaWdodHMgb2YgdGhlIHNlY3Rpb25zLCBzbGltU2Nyb2xsLi4uXG4gICAgICAgICAgICAgICAgLnJlc2l6ZShyZXNpemVIYW5kbGVyKTtcblxuICAgICAgICAgICAgJGRvY3VtZW50XG4gICAgICAgICAgICAgICAgLy9TbGlkaW5nIHdpdGggYXJyb3cga2V5cywgYm90aCwgdmVydGljYWwgYW5kIGhvcml6b250YWxcbiAgICAgICAgICAgICAgICAua2V5ZG93bihrZXlkb3duSGFuZGxlcilcblxuICAgICAgICAgICAgICAgIC8vdG8gcHJldmVudCBzY3JvbGxpbmcgd2hpbGUgem9vbWluZ1xuICAgICAgICAgICAgICAgIC5rZXl1cChrZXlVcEhhbmRsZXIpXG5cbiAgICAgICAgICAgICAgICAvL1Njcm9sbHMgdG8gdGhlIHNlY3Rpb24gd2hlbiBjbGlja2luZyB0aGUgbmF2aWdhdGlvbiBidWxsZXRcbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBTRUNUSU9OX05BVl9TRUwgKyAnIGEnLCBzZWN0aW9uQnVsbGV0SGFuZGxlcilcblxuICAgICAgICAgICAgICAgIC8vU2Nyb2xscyB0aGUgc2xpZGVyIHRvIHRoZSBnaXZlbiBzbGlkZSBkZXN0aW5hdGlvbiBmb3IgdGhlIGdpdmVuIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBTTElERVNfTkFWX0xJTktfU0VMLCBzbGlkZUJ1bGxldEhhbmRsZXIpXG5cbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrJywgU0VDVElPTl9OQVZfVE9PTFRJUF9TRUwsIHRvb2x0aXBUZXh0SGFuZGxlcik7XG5cbiAgICAgICAgICAgIC8vU2Nyb2xsaW5nIGhvcml6b250YWxseSB3aGVuIGNsaWNraW5nIG9uIHRoZSBzbGlkZXIgY29udHJvbHMuXG4gICAgICAgICAgICAkKFNFQ1RJT05fU0VMKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIFNMSURFU19BUlJPV19TRUwsIHNsaWRlQXJyb3dIYW5kbGVyKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAqIEFwcGx5aW5nIG5vcm1hbFNjcm9sbCBlbGVtZW50cy5cbiAgICAgICAgICAgICogSWdub3JpbmcgdGhlIHNjcm9sbHMgb3ZlciB0aGUgc3BlY2lmaWVkIHNlbGVjdG9ycy5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZihvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKXtcbiAgICAgICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNlZW50ZXInLCBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIEZQLnNldE1vdXNlV2hlZWxTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdtb3VzZWxlYXZlJywgb3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50cywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgRlAuc2V0TW91c2VXaGVlbFNjcm9sbGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNldHRpbmcgb3B0aW9ucyBmcm9tIERPTSBlbGVtZW50cyBpZiB0aGV5IGFyZSBub3QgcHJvdmlkZWQuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNldE9wdGlvbnNGcm9tRE9NKCl7XG4gICAgICAgICAgICAvL25vIGFuY2hvcnMgb3B0aW9uPyBDaGVja2luZyBmb3IgdGhlbSBpbiB0aGUgRE9NIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmFuY2hvcnMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmFuY2hvcnMgPSAkKG9wdGlvbnMuc2VjdGlvblNlbGVjdG9yICsgJ1tkYXRhLWFuY2hvcl0nKS5tYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgnYW5jaG9yJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9KS5nZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9ubyB0b29sdGlwb3Mgb3B0aW9uPyBDaGVja2luZyBmb3IgdGhlbSBpbiB0aGUgRE9NIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLm5hdmlnYXRpb25Ub29sdGlwcy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubmF2aWdhdGlvblRvb2x0aXBzID0gJChvcHRpb25zLnNlY3Rpb25TZWxlY3RvciArICdbZGF0YS10b29sdGlwXScpLm1hcChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5kYXRhKCd0b29sdGlwJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9KS5nZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFdvcmtzIG92ZXIgdGhlIERPTSBzdHJ1Y3R1cmUgdG8gc2V0IGl0IHVwIGZvciB0aGUgY3VycmVudCBmdWxscGFnZSBvcHRpb25zcy5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcHJlcGFyZURvbSgpe1xuICAgICAgICAgICAgY29udGFpbmVyLmNzcyh7XG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9hZGRpbmcgYSBjbGFzcyB0byByZWNvZ25pemUgdGhlIGNvbnRhaW5lciBpbnRlcm5hbGx5IGluIHRoZSBjb2RlXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoV1JBUFBFUik7XG4gICAgICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoRU5BQkxFRCk7XG5cbiAgICAgICAgICAgIC8vZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm90cmlnby9mdWxsUGFnZS5qcy9pc3N1ZXMvMTUwMlxuICAgICAgICAgICAgd2luZG93c0hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhERVNUUk9ZRUQpOyAvL2luIGNhc2UgaXQgd2FzIGRlc3Ryb3llZCBiZWZvcmUgaW5pdGlsaXppbmcgaXQgYWdhaW5cblxuICAgICAgICAgICAgYWRkSW50ZXJuYWxTZWxlY3RvcnMoKTtcblxuICAgICAgICAgICAgIC8vc3R5bGluZyB0aGUgc2VjdGlvbnMgLyBzbGlkZXMgLyBtZW51XG4gICAgICAgICAgICAkKFNFQ1RJT05fU0VMKS5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcbiAgICAgICAgICAgICAgICB2YXIgc2VjdGlvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlcyA9IHNlY3Rpb24uZmluZChTTElERV9TRUwpO1xuICAgICAgICAgICAgICAgIHZhciBudW1TbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgc3R5bGVTZWN0aW9uKHNlY3Rpb24sIGluZGV4KTtcbiAgICAgICAgICAgICAgICBzdHlsZU1lbnUoc2VjdGlvbiwgaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhbnkgc2xpZGVcbiAgICAgICAgICAgICAgICBpZiAobnVtU2xpZGVzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVNsaWRlcyhzZWN0aW9uLCBzbGlkZXMsIG51bVNsaWRlcyk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMudmVydGljYWxDZW50ZXJlZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUYWJsZUNsYXNzKHNlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vZml4ZWQgZWxlbWVudHMgbmVlZCB0byBiZSBtb3ZlZCBvdXQgb2YgdGhlIHBsdWdpbiBjb250YWluZXIgZHVlIHRvIHByb2JsZW1zIHdpdGggQ1NTMy5cbiAgICAgICAgICAgIGlmKG9wdGlvbnMuZml4ZWRFbGVtZW50cyAmJiBvcHRpb25zLmNzczMpe1xuICAgICAgICAgICAgICAgICQob3B0aW9ucy5maXhlZEVsZW1lbnRzKS5hcHBlbmRUbygkYm9keSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vdmVydGljYWwgY2VudGVyZWQgb2YgdGhlIG5hdmlnYXRpb24gKyBhY3RpdmUgYnVsbGV0XG4gICAgICAgICAgICBpZihvcHRpb25zLm5hdmlnYXRpb24pe1xuICAgICAgICAgICAgICAgIGFkZFZlcnRpY2FsTmF2aWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93KXtcbiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKXtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpbVNjcm9sbGluZ0hhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9hZnRlciBET00gYW5kIGltYWdlcyBhcmUgbG9hZGVkXG4gICAgICAgICAgICAgICAgJHdpbmRvdy5vbignbG9hZCcsIGNyZWF0ZVNsaW1TY3JvbGxpbmdIYW5kbGVyKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGFmdGVyUmVuZGVyQWN0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU3R5bGVzIHRoZSBob3Jpem9udGFsIHNsaWRlcyBmb3IgYSBzZWN0aW9uLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdHlsZVNsaWRlcyhzZWN0aW9uLCBzbGlkZXMsIG51bVNsaWRlcyl7XG4gICAgICAgICAgICB2YXIgc2xpZGVyV2lkdGggPSBudW1TbGlkZXMgKiAxMDA7XG4gICAgICAgICAgICB2YXIgc2xpZGVXaWR0aCA9IDEwMCAvIG51bVNsaWRlcztcblxuICAgICAgICAgICAgc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9XCInICsgU0xJREVTX0NPTlRBSU5FUiArICdcIiAvPicpO1xuICAgICAgICAgICAgc2xpZGVzLnBhcmVudCgpLndyYXAoJzxkaXYgY2xhc3M9XCInICsgU0xJREVTX1dSQVBQRVIgKyAnXCIgLz4nKTtcblxuICAgICAgICAgICAgc2VjdGlvbi5maW5kKFNMSURFU19DT05UQUlORVJfU0VMKS5jc3MoJ3dpZHRoJywgc2xpZGVyV2lkdGggKyAnJScpO1xuXG4gICAgICAgICAgICBpZihudW1TbGlkZXMgPiAxKXtcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmNvbnRyb2xBcnJvd3Mpe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGlkZUFycm93cyhzZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnNsaWRlc05hdmlnYXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBhZGRTbGlkZXNOYXZpZ2F0aW9uKHNlY3Rpb24sIG51bVNsaWRlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCd3aWR0aCcsIHNsaWRlV2lkdGggKyAnJScpO1xuXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcbiAgICAgICAgICAgICAgICAgICAgYWRkVGFibGVDbGFzcygkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHN0YXJ0aW5nU2xpZGUgPSBzZWN0aW9uLmZpbmQoU0xJREVfQUNUSVZFX1NFTCk7XG5cbiAgICAgICAgICAgIC8vaWYgdGhlIHNsaWRlIHdvbid0IGJlIGFuIHN0YXJ0aW5nIHBvaW50LCB0aGUgZGVmYXVsdCB3aWxsIGJlIHRoZSBmaXJzdCBvbmVcbiAgICAgICAgICAgIC8vdGhlIGFjdGl2ZSBzZWN0aW9uIGlzbid0IHRoZSBmaXJzdCBvbmU/IElzIG5vdCB0aGUgZmlyc3Qgc2xpZGUgb2YgdGhlIGZpcnN0IHNlY3Rpb24/IFRoZW4gd2UgbG9hZCB0aGF0IHNlY3Rpb24vc2xpZGUgYnkgZGVmYXVsdC5cbiAgICAgICAgICAgIGlmKCBzdGFydGluZ1NsaWRlLmxlbmd0aCAmJiAgKCQoU0VDVElPTl9BQ1RJVkVfU0VMKS5pbmRleChTRUNUSU9OX1NFTCkgIT09IDAgfHwgKCQoU0VDVElPTl9BQ1RJVkVfU0VMKS5pbmRleChTRUNUSU9OX1NFTCkgPT09IDAgJiYgc3RhcnRpbmdTbGlkZS5pbmRleCgpICE9PSAwKSkpe1xuICAgICAgICAgICAgICAgIHNpbGVudExhbmRzY2FwZVNjcm9sbChzdGFydGluZ1NsaWRlKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHNsaWRlcy5lcSgwKS5hZGRDbGFzcyhBQ1RJVkUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU3R5bGluZyB2ZXJ0aWNhbCBzZWN0aW9uc1xuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdHlsZVNlY3Rpb24oc2VjdGlvbiwgaW5kZXgpe1xuICAgICAgICAgICAgLy9pZiBubyBhY3RpdmUgc2VjdGlvbiBpcyBkZWZpbmVkLCB0aGUgMXN0IG9uZSB3aWxsIGJlIHRoZSBkZWZhdWx0IG9uZVxuICAgICAgICAgICAgaWYoIWluZGV4ICYmICQoU0VDVElPTl9BQ1RJVkVfU0VMKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmFkZENsYXNzKEFDVElWRSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlY3Rpb24uY3NzKCdoZWlnaHQnLCB3aW5kb3dzSGVpZ2h0ICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgIGlmKG9wdGlvbnMucGFkZGluZ1RvcCl7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5jc3MoJ3BhZGRpbmctdG9wJywgb3B0aW9ucy5wYWRkaW5nVG9wKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYob3B0aW9ucy5wYWRkaW5nQm90dG9tKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmNzcygncGFkZGluZy1ib3R0b20nLCBvcHRpb25zLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VjdGlvbnNDb2xvcltpbmRleF0gIT09ICAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgb3B0aW9ucy5zZWN0aW9uc0NvbG9yW2luZGV4XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbmNob3JzW2luZGV4XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmF0dHIoJ2RhdGEtYW5jaG9yJywgb3B0aW9ucy5hbmNob3JzW2luZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTZXRzIHRoZSBkYXRhLWFuY2hvciBhdHRyaWJ1dGVzIHRvIHRoZSBtZW51IGVsZW1lbnRzIGFuZCBhY3RpdmF0ZXMgdGhlIGN1cnJlbnQgb25lLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdHlsZU1lbnUoc2VjdGlvbiwgaW5kZXgpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmFuY2hvcnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIC8vYWN0aXZhdGluZyB0aGUgbWVudSAvIG5hdiBlbGVtZW50IG9uIGxvYWRcbiAgICAgICAgICAgICAgICBpZihzZWN0aW9uLmhhc0NsYXNzKEFDVElWRSkpe1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZU1lbnVBbmROYXYob3B0aW9ucy5hbmNob3JzW2luZGV4XSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9tb3ZpbmcgdGhlIG1lbnUgb3V0c2lkZSB0aGUgbWFpbiBjb250YWluZXIgaWYgaXQgaXMgaW5zaWRlIChhdm9pZCBwcm9ibGVtcyB3aXRoIGZpeGVkIHBvc2l0aW9ucyB3aGVuIHVzaW5nIENTUzMgdHJhbmZvcm1zKVxuICAgICAgICAgICAgaWYob3B0aW9ucy5tZW51ICYmIG9wdGlvbnMuY3NzMyAmJiAkKG9wdGlvbnMubWVudSkuY2xvc2VzdChXUkFQUEVSX1NFTCkubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAkKG9wdGlvbnMubWVudSkuYXBwZW5kVG8oJGJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQWRkcyBpbnRlcm5hbCBjbGFzc2VzIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBjdXN0b21pemFibGUgc2VsZWN0b3JzXG4gICAgICAgICoga2VlcGluZyB0aGUgbGluayB3aXRoIHRoZSBzdHlsZSBzaGVldC5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWRkSW50ZXJuYWxTZWxlY3RvcnMoKXtcbiAgICAgICAgICAgIC8vYWRkaW5nIGludGVybmFsIGNsYXNzIG5hbWVzIHRvIHZvaWQgcHJvYmxlbSB3aXRoIGNvbW1vbiBvbmVzXG4gICAgICAgICAgICAkKG9wdGlvbnMuc2VjdGlvblNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhTRUNUSU9OKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJChvcHRpb25zLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFNMSURFKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQ3JlYXRlcyB0aGUgY29udHJvbCBhcnJvd3MgZm9yIHRoZSBnaXZlbiBzZWN0aW9uXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNsaWRlQXJyb3dzKHNlY3Rpb24pe1xuICAgICAgICAgICAgc2VjdGlvbi5maW5kKFNMSURFU19XUkFQUEVSX1NFTCkuYWZ0ZXIoJzxkaXYgY2xhc3M9XCInICsgU0xJREVTX0FSUk9XX1BSRVYgKyAnXCI+PC9kaXY+PGRpdiBjbGFzcz1cIicgKyBTTElERVNfQVJST1dfTkVYVCArICdcIj48L2Rpdj4nKTtcblxuICAgICAgICAgICAgaWYob3B0aW9ucy5jb250cm9sQXJyb3dDb2xvciE9JyNmZmYnKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmZpbmQoU0xJREVTX0FSUk9XX05FWFRfU0VMKS5jc3MoJ2JvcmRlci1jb2xvcicsICd0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAnK29wdGlvbnMuY29udHJvbEFycm93Q29sb3IpO1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uZmluZChTTElERVNfQVJST1dfUFJFVl9TRUwpLmNzcygnYm9yZGVyLWNvbG9yJywgJ3RyYW5zcGFyZW50ICcrIG9wdGlvbnMuY29udHJvbEFycm93Q29sb3IgKyAnIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmxvb3BIb3Jpem9udGFsKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmZpbmQoU0xJREVTX0FSUk9XX1BSRVZfU0VMKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBDcmVhdGVzIGEgdmVydGljYWwgbmF2aWdhdGlvbiBiYXIuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFkZFZlcnRpY2FsTmF2aWdhdGlvbigpe1xuICAgICAgICAgICAgJGJvZHkuYXBwZW5kKCc8ZGl2IGlkPVwiJyArIFNFQ1RJT05fTkFWICsgJ1wiPjx1bD48L3VsPjwvZGl2PicpO1xuICAgICAgICAgICAgdmFyIG5hdiA9ICQoU0VDVElPTl9OQVZfU0VMKTtcblxuICAgICAgICAgICAgbmF2LmFkZENsYXNzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnNob3dBY3RpdmVUb29sdGlwID8gU0hPV19BQ1RJVkVfVE9PTFRJUCArICcgJyArIG9wdGlvbnMubmF2aWdhdGlvblBvc2l0aW9uIDogb3B0aW9ucy5uYXZpZ2F0aW9uUG9zaXRpb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkKFNFQ1RJT05fU0VMKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IG9wdGlvbnMuYW5jaG9yc1tpXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbGkgPSAnPGxpPjxhIGhyZWY9XCIjJyArIGxpbmsgKyAnXCI+PHNwYW4+PC9zcGFuPjwvYT4nO1xuXG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgdG9vbHRpcCBpZiBuZWVkZWQgKGRlZmluZWQgYnkgdXNlcilcbiAgICAgICAgICAgICAgICB2YXIgdG9vbHRpcCA9IG9wdGlvbnMubmF2aWdhdGlvblRvb2x0aXBzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sdGlwICE9PSAndW5kZWZpbmVkJyAmJiB0b29sdGlwICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBsaSArPSAnPGRpdiBjbGFzcz1cIicgKyBTRUNUSU9OX05BVl9UT09MVElQICsgJyAnICsgb3B0aW9ucy5uYXZpZ2F0aW9uUG9zaXRpb24gKyAnXCI+JyArIHRvb2x0aXAgKyAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsaSArPSAnPC9saT4nO1xuXG4gICAgICAgICAgICAgICAgbmF2LmZpbmQoJ3VsJykuYXBwZW5kKGxpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jZW50ZXJpbmcgaXQgdmVydGljYWxseVxuICAgICAgICAgICAgJChTRUNUSU9OX05BVl9TRUwpLmNzcygnbWFyZ2luLXRvcCcsICctJyArICgkKFNFQ1RJT05fTkFWX1NFTCkuaGVpZ2h0KCkvMikgKyAncHgnKTtcblxuICAgICAgICAgICAgLy9hY3RpdmF0aW5nIHRoZSBjdXJyZW50IGFjdGl2ZSBzZWN0aW9uXG4gICAgICAgICAgICAkKFNFQ1RJT05fTkFWX1NFTCkuZmluZCgnbGknKS5lcSgkKFNFQ1RJT05fQUNUSVZFX1NFTCkuaW5kZXgoU0VDVElPTl9TRUwpKS5maW5kKCdhJykuYWRkQ2xhc3MoQUNUSVZFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIENyZWF0ZXMgdGhlIHNsaW0gc2Nyb2xsIHNjcm9sbGJhciBmb3IgdGhlIHNlY3Rpb25zIGFuZCBzbGlkZXMgaW5zaWRlIHRoZW0uXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNsaW1TY3JvbGxpbmdIYW5kbGVyKCl7XG4gICAgICAgICAgICAkKFNFQ1RJT05fU0VMKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQodGhpcykuZmluZChTTElERV9TRUwpO1xuXG4gICAgICAgICAgICAgICAgaWYoc2xpZGVzLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGltU2Nyb2xsaW5nKCQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpbVNjcm9sbGluZygkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWZ0ZXJSZW5kZXJBY3Rpb25zKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBBY3Rpb25zIGFuZCBjYWxsYmFja3MgdG8gZmlyZSBhZnRlclJlbmRlclxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZnRlclJlbmRlckFjdGlvbnMoKXtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xuXG4gICAgICAgICAgICBzZWN0aW9uLmFkZENsYXNzKENPTVBMRVRFTFkpO1xuXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5hZnRlclJlbmRlcil7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIuYWZ0ZXJSZW5kZXIoc2VjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXp5TG9hZChzZWN0aW9uKTtcbiAgICAgICAgICAgIHBsYXlNZWRpYShzZWN0aW9uKTtcblxuICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJMb2FkLmNhbGwoc2VjdGlvbiwgc2VjdGlvbi5kYXRhKCdhbmNob3InKSwgKHNlY3Rpb24uaW5kZXgoU0VDVElPTl9TRUwpICsgMSkpO1xuICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyUmVuZGVyICkgJiYgb3B0aW9ucy5hZnRlclJlbmRlci5jYWxsKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgbGFzdFNjcm9sbCA9IDA7XG5cbiAgICAgICAgLy93aGVuIHNjcm9sbGluZy4uLlxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCl7XG4gICAgICAgICAgICB2YXIgY3VycmVudFNlY3Rpb247XG5cbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmF1dG9TY3JvbGxpbmcgfHwgb3B0aW9ucy5zY3JvbGxCYXIpe1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U2Nyb2xsID0gJHdpbmRvdy5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRGlyZWN0aW9uID0gZ2V0U2Nyb2xsRGlyZWN0aW9uKGN1cnJlbnRTY3JvbGwpO1xuICAgICAgICAgICAgICAgIHZhciB2aXNpYmxlU2VjdGlvbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgc2NyZWVuX21pZCA9IGN1cnJlbnRTY3JvbGwgKyAoJHdpbmRvdy5oZWlnaHQoKSAvIDIuMCk7XG5cbiAgICAgICAgICAgICAgICAvL3Rha2luZyB0aGUgc2VjdGlvbiB3aGljaCBpcyBzaG93aW5nIG1vcmUgY29udGVudCBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUNUSU9OX1NFTCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VjdGlvbiA9IHNlY3Rpb25zW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBpY2sgdGhlIHRoZSBsYXN0IHNlY3Rpb24gd2hpY2ggcGFzc2VzIHRoZSBtaWRkbGUgbGluZSBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi5vZmZzZXRUb3AgPD0gc2NyZWVuX21pZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNlY3Rpb25JbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihpc0NvbXBsZXRlbHlJblZpZXdQb3J0KHNjcm9sbERpcmVjdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICBpZighJChTRUNUSU9OX0FDVElWRV9TRUwpLmhhc0NsYXNzKENPTVBMRVRFTFkpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoU0VDVElPTl9BQ1RJVkVfU0VMKS5hZGRDbGFzcyhDT01QTEVURUxZKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKENPTVBMRVRFTFkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9nZXRpbmcgdGhlIGxhc3Qgb25lLCB0aGUgY3VycmVudCBvbmUgb24gdGhlIHNjcmVlblxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWN0aW9uID0gJChzZWN0aW9ucykuZXEodmlzaWJsZVNlY3Rpb25JbmRleCk7XG5cbiAgICAgICAgICAgICAgICAvL3NldHRpbmcgdGhlIHZpc2libGUgc2VjdGlvbiBhcyBhY3RpdmUgd2hlbiBtYW51YWxseSBzY3JvbGxpbmdcbiAgICAgICAgICAgICAgICAvL2V4ZWN1dGluZyBvbmx5IG9uY2UgdGhlIGZpcnN0IHRpbWUgd2UgcmVhY2ggdGhlIHNlY3Rpb25cbiAgICAgICAgICAgICAgICBpZighY3VycmVudFNlY3Rpb24uaGFzQ2xhc3MoQUNUSVZFKSl7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlYXZpbmdTZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVhdmluZ1NlY3Rpb25JbmRleCA9IGxlYXZpbmdTZWN0aW9uLmluZGV4KFNFQ1RJT05fU0VMKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5TW92ZW1lbnQgPSBnZXRZbW92ZW1lbnQoY3VycmVudFNlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yTGluayAgPSBjdXJyZW50U2VjdGlvbi5kYXRhKCdhbmNob3InKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25JbmRleCA9IGN1cnJlbnRTZWN0aW9uLmluZGV4KFNFQ1RJT05fU0VMKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVTbGlkZSA9IGN1cnJlbnRTZWN0aW9uLmZpbmQoU0xJREVfQUNUSVZFX1NFTCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoYWN0aXZlU2xpZGUubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUFuY2hvckxpbmsgPSBhY3RpdmVTbGlkZS5kYXRhKCdhbmNob3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUluZGV4ID0gYWN0aXZlU2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhblNjcm9sbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2VjdGlvbi5hZGRDbGFzcyhBQ1RJVkUpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoQUNUSVZFKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKCBvcHRpb25zLm9uTGVhdmUgKSAmJiBvcHRpb25zLm9uTGVhdmUuY2FsbCggbGVhdmluZ1NlY3Rpb24sIGxlYXZpbmdTZWN0aW9uSW5kZXgsIHNlY3Rpb25JbmRleCwgeU1vdmVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJMb2FkLmNhbGwoIGN1cnJlbnRTZWN0aW9uLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF6eUxvYWQoY3VycmVudFNlY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZU1lbnVBbmROYXYoYW5jaG9yTGluaywgc2VjdGlvbkluZGV4IC0gMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZGVkIHRvIGVudGVyIGluIGhhc2hDaGFuZ2UgZXZlbnQgd2hlbiB1c2luZyB0aGUgbWVudSB3aXRoIGFuY2hvciBsaW5rc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxlZERlc3RpbnkgPSBhbmNob3JMaW5rO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3JMaW5rLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9zbWFsbCB0aW1lb3V0IGluIG9yZGVyIHRvIGF2b2lkIGVudGVyaW5nIGluIGhhc2hDaGFuZ2UgZXZlbnQgd2hlbiBzY3JvbGxpbmcgaXMgbm90IGZpbmlzaGVkIHlldFxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsSWQpO1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5maXRUb1NlY3Rpb24pe1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciB0aGUgYXV0byBhZGp1c3Qgb2YgdGhlIHZpZXdwb3J0IHRvIGZpdCBhIHdob2xlIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbElkMik7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSWQyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVja2luZyBmaXRUb1NlY3Rpb24gYWdhaW4gaW4gY2FzZSBpdCB3YXMgc2V0IHRvIGZhbHNlIGJlZm9yZSB0aGUgdGltZW91dCBkZWxheVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FuU2Nyb2xsICYmIG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsbG93cyB0byBzY3JvbGwgdG8gYW4gYWN0aXZlIHNlY3Rpb24gYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGUgc2VjdGlvbiBpcyBhbHJlYWR5IGFjdGl2ZSwgd2UgcHJldmVudCBmaXJpbmcgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJChTRUNUSU9OX0FDVElWRV9TRUwpLmlzKGN1cnJlbnRTZWN0aW9uKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxQYWdlKCQoU0VDVElPTl9BQ1RJVkVfU0VMKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuZml0VG9TZWN0aW9uRGVsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgYWN0aXZlIHNlY3Rpb24gaGFzIHNlZW4gaW4gaXRzIHdob2xlIG9yIG5vdC5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaXNDb21wbGV0ZWx5SW5WaWV3UG9ydChtb3ZlbWVudCl7XG4gICAgICAgICAgICB2YXIgdG9wID0gJChTRUNUSU9OX0FDVElWRV9TRUwpLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArICR3aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIGlmKG1vdmVtZW50ID09ICd1cCcpe1xuICAgICAgICAgICAgICAgIHJldHVybiBib3R0b20gPj0gKCR3aW5kb3cuc2Nyb2xsVG9wKCkgKyAkd2luZG93LmhlaWdodCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b3AgPD0gJHdpbmRvdy5zY3JvbGxUb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEdldHMgdGhlIGRpcmVjdG9uIG9mIHRoZSB0aGUgc2Nyb2xsaW5nIGZpcmVkIGJ5IHRoZSBzY3JvbGwgZXZlbnQuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbERpcmVjdGlvbihjdXJyZW50U2Nyb2xsKXtcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBjdXJyZW50U2Nyb2xsID4gbGFzdFNjcm9sbCA/ICdkb3duJyA6ICd1cCc7XG5cbiAgICAgICAgICAgIGxhc3RTY3JvbGwgPSBjdXJyZW50U2Nyb2xsO1xuXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogRGV0ZXJtaW5lcyB0aGUgd2F5IG9mIHNjcm9sbGluZyB1cCBvciBkb3duOlxuICAgICAgICAqIGJ5ICdhdXRvbWF0aWNhbGx5JyBzY3JvbGxpbmcgYSBzZWN0aW9uIG9yIGJ5IHVzaW5nIHRoZSBkZWZhdWx0IGFuZCBub3JtYWwgc2Nyb2xsaW5nLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzY3JvbGxpbmcodHlwZSwgc2Nyb2xsYWJsZSl7XG4gICAgICAgICAgICBpZiAoIWlzU2Nyb2xsQWxsb3dlZC5tW3R5cGVdKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hlY2ssIHNjcm9sbFNlY3Rpb247XG5cbiAgICAgICAgICAgIGlmKHR5cGUgPT0gJ2Rvd24nKXtcbiAgICAgICAgICAgICAgICBjaGVjayA9ICdib3R0b20nO1xuICAgICAgICAgICAgICAgIHNjcm9sbFNlY3Rpb24gPSBGUC5tb3ZlU2VjdGlvbkRvd247XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjaGVjayA9ICd0b3AnO1xuICAgICAgICAgICAgICAgIHNjcm9sbFNlY3Rpb24gPSBGUC5tb3ZlU2VjdGlvblVwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihzY3JvbGxhYmxlLmxlbmd0aCA+IDAgKXtcbiAgICAgICAgICAgICAgICAvL2lzIHRoZSBzY3JvbGxiYXIgYXQgdGhlIHN0YXJ0L2VuZCBvZiB0aGUgc2Nyb2xsP1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLmlzU2Nyb2xsZWQoY2hlY2ssIHNjcm9sbGFibGUpKXtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlZCB1cC9kb3duXG4gICAgICAgICAgICAgICAgc2Nyb2xsU2VjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgdG91Y2hTdGFydFkgPSAwO1xuICAgICAgICB2YXIgdG91Y2hTdGFydFggPSAwO1xuICAgICAgICB2YXIgdG91Y2hFbmRZID0gMDtcbiAgICAgICAgdmFyIHRvdWNoRW5kWCA9IDA7XG5cbiAgICAgICAgLyogRGV0ZWN0aW5nIHRvdWNoIGV2ZW50c1xuXG4gICAgICAgICogQXMgd2UgYXJlIGNoYW5naW5nIHRoZSB0b3AgcHJvcGVydHkgb2YgdGhlIHBhZ2Ugb24gc2Nyb2xsaW5nLCB3ZSBjYW4gbm90IHVzZSB0aGUgdHJhZGl0aW9uYWwgd2F5IHRvIGRldGVjdCBpdC5cbiAgICAgICAgKiBUaGlzIHdheSwgdGhlIHRvdWNoc3RhcnQgYW5kIHRoZSB0b3VjaCBtb3ZlcyBzaG93cyBhbiBzbWFsbCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlbSB3aGljaCBpcyB0aGVcbiAgICAgICAgKiB1c2VkIG9uZSB0byBkZXRlcm1pbmUgdGhlIGRpcmVjdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdG91Y2hNb3ZlSGFuZGxlcihldmVudCl7XG4gICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIGFkZGl0aW9uYWw6IGlmIG9uZSBvZiB0aGUgbm9ybWFsU2Nyb2xsRWxlbWVudHMgaXNuJ3Qgd2l0aGluIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudFRvdWNoVGhyZXNob2xkIGhvcHMgdXAgdGhlIERPTSBjaGFpblxuICAgICAgICAgICAgaWYgKCFjaGVja1BhcmVudEZvck5vcm1hbFNjcm9sbEVsZW1lbnQoZXZlbnQudGFyZ2V0KSAmJiBpc1JlYWxseVRvdWNoKGUpICkge1xuXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgLy9wcmV2ZW50aW5nIHRoZSBlYXNpbmcgb24gaU9TIGRldmljZXNcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsYWJsZSA9IG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnNjcm9sbGFibGUoYWN0aXZlU2VjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuU2Nyb2xsICYmICFzbGlkZU1vdmluZykgeyAvL2lmIHRoZXJlcyBhbnkgI1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG91Y2hFdmVudHMgPSBnZXRFdmVudHNQYWdlKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoRW5kWSA9IHRvdWNoRXZlbnRzLnk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoRW5kWCA9IHRvdWNoRXZlbnRzLng7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9pZiBtb3ZlbWVudCBpbiB0aGUgWCBheHlzIGlzIGdyZWF0ZXIgdGhhbiBpbiB0aGUgWSBhbmQgdGhlIGN1cnJlY3Qgc2VjdGlvbiBoYXMgc2xpZGVzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTZWN0aW9uLmZpbmQoU0xJREVTX1dSQVBQRVJfU0VMKS5sZW5ndGggJiYgTWF0aC5hYnModG91Y2hTdGFydFggLSB0b3VjaEVuZFgpID4gKE1hdGguYWJzKHRvdWNoU3RhcnRZIC0gdG91Y2hFbmRZKSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGUgbW92ZW1lbnQgZ3JlYXRlciB0aGFuIHRoZSBtaW5pbXVtIHJlc2lzdGFuY2UgdG8gc2Nyb2xsP1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYKSA+ICgkd2luZG93Lm91dGVyV2lkdGgoKSAvIDEwMCAqIG9wdGlvbnMudG91Y2hTZW5zaXRpdml0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2hTdGFydFggPiB0b3VjaEVuZFgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLm0ucmlnaHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRlAubW92ZVNsaWRlUmlnaHQoKTsgLy9uZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQubS5sZWZ0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQLm1vdmVTbGlkZUxlZnQoKTsgLy9wcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL3ZlcnRpY2FsIHNjcm9sbGluZyAob25seSB3aGVuIGF1dG9TY3JvbGxpbmcgaXMgZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModG91Y2hTdGFydFkgLSB0b3VjaEVuZFkpID4gKCR3aW5kb3cuaGVpZ2h0KCkgLyAxMDAgKiBvcHRpb25zLnRvdWNoU2Vuc2l0aXZpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoU3RhcnRZID4gdG91Y2hFbmRZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygnZG93bicsIHNjcm9sbGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG91Y2hFbmRZID4gdG91Y2hTdGFydFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5nKCd1cCcsIHNjcm9sbGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlY3Vyc2l2ZSBmdW5jdGlvbiB0byBsb29wIHVwIHRoZSBwYXJlbnQgbm9kZXMgdG8gY2hlY2sgaWYgb25lIG9mIHRoZW0gZXhpc3RzIGluIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudHNcbiAgICAgICAgICogQ3VycmVudGx5IHdvcmtzIHdlbGwgZm9yIGlPUyAtIEFuZHJvaWQgbWlnaHQgbmVlZCBzb21lIHRlc3RpbmdcbiAgICAgICAgICogQHBhcmFtICB7RWxlbWVudH0gZWwgIHRhcmdldCBlbGVtZW50IC8ganF1ZXJ5IHNlbGVjdG9yIChpbiBzdWJzZXF1ZW50IG5vZGVzKVxuICAgICAgICAgKiBAcGFyYW0gIHtpbnR9ICAgICBob3AgY3VycmVudCBob3AgY29tcGFyZWQgdG8gb3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50VG91Y2hUaHJlc2hvbGRcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBpcyBhIG1hdGNoIHRvIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudHNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrUGFyZW50Rm9yTm9ybWFsU2Nyb2xsRWxlbWVudCAoZWwsIGhvcCkge1xuICAgICAgICAgICAgaG9wID0gaG9wIHx8IDA7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gJChlbCkucGFyZW50KCk7XG5cbiAgICAgICAgICAgIGlmIChob3AgPCBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRUb3VjaFRocmVzaG9sZCAmJlxuICAgICAgICAgICAgICAgIHBhcmVudC5pcyhvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG9wID09IG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudFRvdWNoVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tQYXJlbnRGb3JOb3JtYWxTY3JvbGxFbGVtZW50KHBhcmVudCwgKytob3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQXMgSUUgPj0gMTAgZmlyZXMgYm90aCB0b3VjaCBhbmQgbW91c2UgZXZlbnRzIHdoZW4gdXNpbmcgYSBtb3VzZSBpbiBhIHRvdWNoc2NyZWVuXG4gICAgICAgICogdGhpcyB3YXkgd2UgbWFrZSBzdXJlIHRoYXQgaXMgcmVhbGx5IGEgdG91Y2ggZXZlbnQgd2hhdCBJRSBpcyBkZXRlY3RpbmcuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlzUmVhbGx5VG91Y2goZSl7XG4gICAgICAgICAgICAvL2lmIGlzIG5vdCBJRSAgIHx8ICBJRSBpcyBkZXRlY3RpbmcgYHRvdWNoYCBvciBgcGVuYFxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJyB8fCBlLnBvaW50ZXJUeXBlICE9ICdtb3VzZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBIYW5kbGVyIGZvciB0aGUgdG91Y2ggc3RhcnQgZXZlbnQuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHRvdWNoU3RhcnRIYW5kbGVyKGV2ZW50KXtcbiAgICAgICAgICAgIHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgLy9zdG9wcGluZyB0aGUgYXV0byBzY3JvbGwgdG8gYWRqdXN0IHRvIGEgc2VjdGlvblxuICAgICAgICAgICAgaWYob3B0aW9ucy5maXRUb1NlY3Rpb24pe1xuICAgICAgICAgICAgICAgICRodG1sQm9keS5zdG9wKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGlzUmVhbGx5VG91Y2goZSkpe1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaEV2ZW50cyA9IGdldEV2ZW50c1BhZ2UoZSk7XG4gICAgICAgICAgICAgICAgdG91Y2hTdGFydFkgPSB0b3VjaEV2ZW50cy55O1xuICAgICAgICAgICAgICAgIHRvdWNoU3RhcnRYID0gdG91Y2hFdmVudHMueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEdldHMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIGxhc3QgYG51bWJlcmAgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5LlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRBdmVyYWdlKGVsZW1lbnRzLCBudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG5cbiAgICAgICAgICAgIC8vdGFraW5nIGBudW1iZXJgIGVsZW1lbnRzIGZyb20gdGhlIGVuZCB0byBtYWtlIHRoZSBhdmVyYWdlLCBpZiB0aGVyZSBhcmUgbm90IGVub3VnaHQsIDFcbiAgICAgICAgICAgIHZhciBsYXN0RWxlbWVudHMgPSBlbGVtZW50cy5zbGljZShNYXRoLm1heChlbGVtZW50cy5sZW5ndGggLSBudW1iZXIsIDEpKTtcblxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxhc3RFbGVtZW50cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgbGFzdEVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHN1bS9udW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVjdGluZyBtb3VzZXdoZWVsIHNjcm9sbGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBodHRwOi8vYmxvZ3Muc2l0ZXBvaW50c3RhdGljLmNvbS9leGFtcGxlcy90ZWNoL21vdXNlLXdoZWVsL2luZGV4Lmh0bWxcbiAgICAgICAgICogaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2h0bWw1LWphdmFzY3JpcHQtbW91c2Utd2hlZWwvXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcHJldlRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICBmdW5jdGlvbiBNb3VzZVdoZWVsSGFuZGxlcihlKSB7XG4gICAgICAgICAgICB2YXIgY3VyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIGlzTm9ybWFsU2Nyb2xsID0gJChDT01QTEVURUxZX1NFTCkuaGFzQ2xhc3MoTk9STUFMX1NDUk9MTCk7XG5cbiAgICAgICAgICAgIC8vYXV0b3Njcm9sbGluZyBhbmQgbm90IHpvb21pbmc/XG4gICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIWNvbnRyb2xQcmVzc2VkICYmICFpc05vcm1hbFNjcm9sbCl7XG4gICAgICAgICAgICAgICAgLy8gY3Jvc3MtYnJvd3NlciB3aGVlbCBkZWx0YVxuICAgICAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZIHx8IC1lLmRldGFpbDtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgdmFsdWUpKTtcblxuICAgICAgICAgICAgICAgIHZhciBob3Jpem9udGFsRGV0ZWN0aW9uID0gdHlwZW9mIGUud2hlZWxEZWx0YVggIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBlLmRlbHRhWCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgdmFyIGlzU2Nyb2xsaW5nVmVydGljYWxseSA9IChNYXRoLmFicyhlLndoZWVsRGVsdGFYKSA8IE1hdGguYWJzKGUud2hlZWxEZWx0YSkpIHx8IChNYXRoLmFicyhlLmRlbHRhWCApIDwgTWF0aC5hYnMoZS5kZWx0YVkpIHx8ICFob3Jpem9udGFsRGV0ZWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIC8vTGltaXRpbmcgdGhlIGFycmF5IHRvIDE1MCAobGV0cyBub3Qgd2FzdGUgbWVtb3J5ISlcbiAgICAgICAgICAgICAgICBpZihzY3JvbGxpbmdzLmxlbmd0aCA+IDE0OSl7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL2tlZXBpbmcgcmVjb3JkIG9mIHRoZSBwcmV2aW91cyBzY3JvbGxpbmdzXG4gICAgICAgICAgICAgICAgc2Nyb2xsaW5ncy5wdXNoKE1hdGguYWJzKHZhbHVlKSk7XG5cbiAgICAgICAgICAgICAgICAvL3ByZXZlbnRpbmcgdG8gc2Nyb2xsIHRoZSBzaXRlIG9uIG1vdXNlIHdoZWVsIHdoZW4gc2Nyb2xsYmFyIGlzIHByZXNlbnRcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbEJhcil7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbGFibGUgPSBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5zY3JvbGxhYmxlKGFjdGl2ZVNlY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgLy90aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbGFzdCBzY3JvbGwgYW5kIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGN1clRpbWUtcHJldlRpbWU7XG4gICAgICAgICAgICAgICAgcHJldlRpbWUgPSBjdXJUaW1lO1xuXG4gICAgICAgICAgICAgICAgLy9oYXZlbid0IHRoZXkgc2Nyb2xsZWQgaW4gYSB3aGlsZT9cbiAgICAgICAgICAgICAgICAvLyhlbm91Z2ggdG8gYmUgY29uc2lkZXIgYSBkaWZmZXJlbnQgc2Nyb2xsaW5nIGFjdGlvbiB0byBzY3JvbGwgYW5vdGhlciBzZWN0aW9uKVxuICAgICAgICAgICAgICAgIGlmKHRpbWVEaWZmID4gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgLy9lbXB0eWluZyB0aGUgYXJyYXksIHdlIGRvbnQgY2FyZSBhYm91dCBvbGQgc2Nyb2xsaW5ncyBmb3Igb3VyIGF2ZXJhZ2VzXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihjYW5TY3JvbGwpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXZlcmFnZUVuZCA9IGdldEF2ZXJhZ2Uoc2Nyb2xsaW5ncywgMTApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXZlcmFnZU1pZGRsZSA9IGdldEF2ZXJhZ2Uoc2Nyb2xsaW5ncywgNzApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNBY2NlbGVyYXRpbmcgPSBhdmVyYWdlRW5kID49IGF2ZXJhZ2VNaWRkbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy90byBhdm9pZCBkb3VibGUgc3dpcGVzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWNjZWxlcmF0aW5nICYmIGlzU2Nyb2xsaW5nVmVydGljYWxseSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyBkb3duP1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygnZG93bicsIHNjcm9sbGFibGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB1cD9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxpbmcoJ3VwJywgc2Nyb2xsYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcbiAgICAgICAgICAgICAgICAvL3N0b3BwaW5nIHRoZSBhdXRvIHNjcm9sbCB0byBhZGp1c3QgdG8gYSBzZWN0aW9uXG4gICAgICAgICAgICAgICAgJGh0bWxCb2R5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNsaWRlcyBhIHNsaWRlciB0byB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxuICAgICAgICAqIE9wdGlvbmFsIGBzZWN0aW9uYCBwYXJhbS5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbW92ZVNsaWRlKGRpcmVjdGlvbiwgc2VjdGlvbil7XG4gICAgICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9IHR5cGVvZiBzZWN0aW9uID09PSAndW5kZWZpbmVkJyA/ICQoU0VDVElPTl9BQ1RJVkVfU0VMKSA6IHNlY3Rpb247XG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gYWN0aXZlU2VjdGlvbi5maW5kKFNMSURFU19XUkFQUEVSX1NFTCk7XG4gICAgICAgICAgICB2YXIgbnVtU2xpZGVzID0gc2xpZGVzLmZpbmQoU0xJREVfU0VMKS5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIG1vcmUgdGhhbiBvbmUgc2xpZGUgbmVlZGVkIGFuZCBub3RoaW5nIHNob3VsZCBiZSBzbGlkaW5nXG4gICAgICAgICAgICBpZiAoIXNsaWRlcy5sZW5ndGggfHwgc2xpZGVNb3ZpbmcgfHwgbnVtU2xpZGVzIDwgMikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTbGlkZSA9IHNsaWRlcy5maW5kKFNMSURFX0FDVElWRV9TRUwpO1xuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihkaXJlY3Rpb24gPT09ICdwcmV2Jyl7XG4gICAgICAgICAgICAgICAgZGVzdGlueSA9IGN1cnJlbnRTbGlkZS5wcmV2KFNMSURFX1NFTCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBkZXN0aW55ID0gY3VycmVudFNsaWRlLm5leHQoU0xJREVfU0VMKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pc24ndCB0aGVyZSBhIG5leHQgc2xpZGUgaW4gdGhlIHNlY3VlbmNlP1xuICAgICAgICAgICAgaWYoIWRlc3RpbnkubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAvL3Jlc3BlY3QgbG9vcEhvcml6b250YWwgc2V0dGluXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmxvb3BIb3Jpem9udGFsKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBpZihkaXJlY3Rpb24gPT09ICdwcmV2Jyl7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBjdXJyZW50U2xpZGUuc2libGluZ3MoJzpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBjdXJyZW50U2xpZGUuc2libGluZ3MoJzpmaXJzdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2xpZGVNb3ZpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIE1haW50YWlucyB0aGUgYWN0aXZlIHNsaWRlcyBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgKiAoQmVjYXVzZSBoZSBgc2Nyb2xsYCBhbmltYXRpb24gbWlnaHQgZ2V0IGxvc3Qgd2l0aCBzb21lIGFjdGlvbnMsIHN1Y2ggYXMgd2hlbiB1c2luZyBjb250aW51b3VzVmVydGljYWwpXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGtlZXBTbGlkZXNQb3NpdGlvbigpe1xuICAgICAgICAgICAgJChTTElERV9BQ1RJVkVfU0VMKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc2lsZW50TGFuZHNjYXBlU2Nyb2xsKCQodGhpcyksICdpbnRlcm5hbCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJldmlvdXNEZXN0VG9wID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICogUmV0dXJucyB0aGUgZGVzdGluYXRpb24gWSBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgc2Nyb2xsaW5nIGRpcmVjdGlvbiBhbmRcbiAgICAgICAgKiB0aGUgaGVpZ2h0IG9mIHRoZSBzZWN0aW9uLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXREZXN0aW5hdGlvblBvc2l0aW9uKGVsZW1lbnQpe1xuICAgICAgICAgICAgdmFyIGVsZW1Qb3NpdGlvbiA9IGVsZW1lbnQucG9zaXRpb24oKTtcblxuICAgICAgICAgICAgLy90b3Agb2YgdGhlIGRlc2luYXRpb24gd2lsbCBiZSBhdCB0aGUgdG9wIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbVBvc2l0aW9uLnRvcDtcbiAgICAgICAgICAgIHZhciBpc1Njcm9sbGluZ0Rvd24gPSAgZWxlbVBvc2l0aW9uLnRvcCA+IHByZXZpb3VzRGVzdFRvcDtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uQm90dG9tID0gcG9zaXRpb24gLSB3aW5kb3dzSGVpZ2h0ICsgZWxlbWVudC5vdXRlckhlaWdodCgpO1xuXG4gICAgICAgICAgICAvL2lzIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50IGJpZ2dlciB0aGFuIHRoZSB2aWV3cG9ydD9cbiAgICAgICAgICAgIGlmKGVsZW1lbnQub3V0ZXJIZWlnaHQoKSA+IHdpbmRvd3NIZWlnaHQpe1xuICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHVwP1xuICAgICAgICAgICAgICAgIGlmKCFpc1Njcm9sbGluZ0Rvd24pe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHNlY3Rpb25Cb3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3NlY3Rpb25zIGVxdWFsIG9yIHNtYWxsZXIgdGhhbiB0aGUgdmlld3BvcnQgaGVpZ2h0ICYmIHNjcm9sbGluZyBkb3duPyB8fCAgaXMgcmVzaXppbmcgYW5kIGl0cyBpbiB0aGUgbGFzdCBzZWN0aW9uXG4gICAgICAgICAgICBlbHNlIGlmKGlzU2Nyb2xsaW5nRG93biB8fCAoaXNSZXNpemluZyAmJiBlbGVtZW50LmlzKCc6bGFzdC1jaGlsZCcpKSApe1xuICAgICAgICAgICAgICAgIC8vVGhlIGJvdHRvbSBvZiB0aGUgZGVzdGluYXRpb24gd2lsbCBiZSBhdCB0aGUgYm90dG9tIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gc2VjdGlvbkJvdHRvbTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIEtlZXBpbmcgcmVjb3JkIG9mIHRoZSBsYXN0IHNjcm9sbGVkIHBvc2l0aW9uIHRvIGRldGVybWluZSB0aGUgc2Nyb2xsaW5nIGRpcmVjdGlvbi5cbiAgICAgICAgICAgIE5vIGNvbnZlbnRpb25hbCBtZXRob2RzIGNhbiBiZSB1c2VkIGFzIHRoZSBzY3JvbGwgYmFyIG1pZ2h0IG5vdCBiZSBwcmVzZW50XG4gICAgICAgICAgICBBTkQgdGhlIHNlY3Rpb24gbWlnaHQgbm90IGJlIGFjdGl2ZSBpZiBpdCBpcyBhdXRvLWhlaWdodCBhbmQgZGlkbnQgcmVhY2ggdGhlIG1pZGRsZVxuICAgICAgICAgICAgb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHByZXZpb3VzRGVzdFRvcCA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2Nyb2xscyB0aGUgc2l0ZSB0byB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgc2Nyb2xscyB0byB0aGUgc2xpZGUgaWYgYSBjYWxsYmFjayBpcyBnaXZlbi5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsUGFnZShlbGVtZW50LCBjYWxsYmFjaywgaXNNb3ZlbWVudFVwKXtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBlbGVtZW50ID09PSAndW5kZWZpbmVkJyl7IHJldHVybjsgfSAvL3RoZXJlJ3Mgbm8gZWxlbWVudCB0byBzY3JvbGwsIGxlYXZpbmcgdGhlIGZ1bmN0aW9uXG5cbiAgICAgICAgICAgIHZhciBkdG9wID0gZ2V0RGVzdGluYXRpb25Qb3NpdGlvbihlbGVtZW50KTtcblxuICAgICAgICAgICAgLy9sb2NhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgIHZhciB2ID0ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGlzTW92ZW1lbnRVcDogaXNNb3ZlbWVudFVwLFxuICAgICAgICAgICAgICAgIGR0b3A6IGR0b3AsXG4gICAgICAgICAgICAgICAgeU1vdmVtZW50OiBnZXRZbW92ZW1lbnQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgYW5jaG9yTGluazogZWxlbWVudC5kYXRhKCdhbmNob3InKSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IGVsZW1lbnQuaW5kZXgoU0VDVElPTl9TRUwpLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlOiBlbGVtZW50LmZpbmQoU0xJREVfQUNUSVZFX1NFTCksXG4gICAgICAgICAgICAgICAgYWN0aXZlU2VjdGlvbjogJChTRUNUSU9OX0FDVElWRV9TRUwpLFxuICAgICAgICAgICAgICAgIGxlYXZpbmdTZWN0aW9uOiAkKFNFQ1RJT05fQUNUSVZFX1NFTCkuaW5kZXgoU0VDVElPTl9TRUwpICsgMSxcblxuICAgICAgICAgICAgICAgIC8vY2FjaGluZyB0aGUgdmFsdWUgb2YgaXNSZXNpemluZyBhdCB0aGUgbW9tbWVudCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy9iZWNhdXNlIGl0IHdpbGwgYmUgY2hlY2tlZCBsYXRlciBpbnNpZGUgYSBzZXRUaW1lb3V0IGFuZCB0aGUgdmFsdWUgbWlnaHQgY2hhbmdlXG4gICAgICAgICAgICAgICAgbG9jYWxJc1Jlc2l6aW5nOiBpc1Jlc2l6aW5nXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL3F1aXRpbmcgd2hlbiBkZXN0aW5hdGlvbiBzY3JvbGwgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgb25lXG4gICAgICAgICAgICBpZigodi5hY3RpdmVTZWN0aW9uLmlzKGVsZW1lbnQpICYmICFpc1Jlc2l6aW5nKSB8fCAob3B0aW9ucy5zY3JvbGxCYXIgJiYgJHdpbmRvdy5zY3JvbGxUb3AoKSA9PT0gdi5kdG9wICYmICFlbGVtZW50Lmhhc0NsYXNzKEFVVE9fSEVJR0hUKSApKXsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIGlmKHYuYWN0aXZlU2xpZGUubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVBbmNob3JMaW5rID0gdi5hY3RpdmVTbGlkZS5kYXRhKCdhbmNob3InKTtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVJbmRleCA9IHYuYWN0aXZlU2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgY29udGludW91c1ZlcnRpY2FsICYmIHdlIG5lZWQgdG8gd3JhcCBhcm91bmRcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiYgdHlwZW9mICh2LmlzTW92ZW1lbnRVcCkgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAoKCF2LmlzTW92ZW1lbnRVcCAmJiB2LnlNb3ZlbWVudCA9PSAndXAnKSB8fCAvLyBJbnRlbmRpbmcgdG8gc2Nyb2xsIGRvd24gYnV0IGFib3V0IHRvIGdvIHVwIG9yXG4gICAgICAgICAgICAgICAgKHYuaXNNb3ZlbWVudFVwICYmIHYueU1vdmVtZW50ID09ICdkb3duJykpKSB7IC8vIGludGVuZGluZyB0byBzY3JvbGwgdXAgYnV0IGFib3V0IHRvIGdvIGRvd25cblxuICAgICAgICAgICAgICAgIHYgPSBjcmVhdGVJbmZpbml0ZVNlY3Rpb25zKHYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2NhbGxiYWNrIChvbkxlYXZlKSBpZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xuICAgICAgICAgICAgaWYoJC5pc0Z1bmN0aW9uKG9wdGlvbnMub25MZWF2ZSkgJiYgIXYubG9jYWxJc1Jlc2l6aW5nKXtcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLm9uTGVhdmUuY2FsbCh2LmFjdGl2ZVNlY3Rpb24sIHYubGVhdmluZ1NlY3Rpb24sICh2LnNlY3Rpb25JbmRleCArIDEpLCB2LnlNb3ZlbWVudCkgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3BNZWRpYSh2LmFjdGl2ZVNlY3Rpb24pO1xuXG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKEFDVElWRSkuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhBQ1RJVkUpO1xuICAgICAgICAgICAgbGF6eUxvYWQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vcHJldmVudGluZyBmcm9tIGFjdGl2YXRpbmcgdGhlIE1vdXNlV2hlZWxIYW5kbGVyIGV2ZW50XG4gICAgICAgICAgICAvL21vcmUgdGhhbiBvbmNlIGlmIHRoZSBwYWdlIGlzIHNjcm9sbGluZ1xuICAgICAgICAgICAgY2FuU2Nyb2xsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yTGluaywgdi5hbmNob3JMaW5rLCB2LnNlY3Rpb25JbmRleCk7XG5cbiAgICAgICAgICAgIHBlcmZvcm1Nb3ZlbWVudCh2KTtcblxuICAgICAgICAgICAgLy9mbGFnIHRvIGF2b2lkIGNhbGxpbmduIGBzY3JvbGxQYWdlKClgIHR3aWNlIGluIGNhc2Ugb2YgdXNpbmcgYW5jaG9yIGxpbmtzXG4gICAgICAgICAgICBsYXN0U2Nyb2xsZWREZXN0aW55ID0gdi5hbmNob3JMaW5rO1xuXG4gICAgICAgICAgICAvL2F2b2lkIGZpcmluZyBpdCB0d2ljZSAoYXMgaXQgZG9lcyBhbHNvIG9uIHNjcm9sbClcbiAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdih2LmFuY2hvckxpbmssIHYuc2VjdGlvbkluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFBlcmZvcm1zIHRoZSBtb3ZlbWVudCAoYnkgQ1NTMyBvciBieSBqUXVlcnkpXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHBlcmZvcm1Nb3ZlbWVudCh2KXtcbiAgICAgICAgICAgIC8vIHVzaW5nIENTUzMgdHJhbnNsYXRlIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNzczMgJiYgb3B0aW9ucy5hdXRvU2Nyb2xsaW5nICYmICFvcHRpb25zLnNjcm9sbEJhcikge1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUzZCA9ICd0cmFuc2xhdGUzZCgwcHgsIC0nICsgdi5kdG9wICsgJ3B4LCAwcHgpJztcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Db250YWluZXIodHJhbnNsYXRlM2QsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy9ldmVuIHdoZW4gdGhlIHNjcm9sbGluZ1NwZWVkIGlzIDAgdGhlcmUncyBhIGxpdHRsZSBkZWxheSwgd2hpY2ggbWlnaHQgY2F1c2UgdGhlXG4gICAgICAgICAgICAgICAgLy9zY3JvbGxpbmdTcGVlZCB0byBjaGFuZ2UgaW4gY2FzZSBvZiB1c2luZyBzaWxlbnRNb3ZlVG8oKTtcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbGluZ1NwZWVkKXtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHNJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkcyh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVzaW5nIGpRdWVyeSBhbmltYXRlXG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKHYpO1xuXG4gICAgICAgICAgICAgICAgJChzY3JvbGxTZXR0aW5ncy5lbGVtZW50KS5hbmltYXRlKFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxTZXR0aW5ncy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQsIG9wdGlvbnMuZWFzaW5nKS5wcm9taXNlKCkuZG9uZShmdW5jdGlvbiAoKSB7IC8vb25seSBvbmUgc2luZ2xlIGNhbGxiYWNrIGluIGNhc2Ugb2YgYW5pbWF0aW5nICBgaHRtbCwgYm9keWBcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxCYXIpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBIYWNrIVxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHRpbWVvdXQgcHJldmVudHMgc2V0dGluZyB0aGUgbW9zdCBkb21pbmFudCBzZWN0aW9uIGluIHRoZSB2aWV3cG9ydCBhcyBcImFjdGl2ZVwiIHdoZW4gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkIHRvIGEgc21hbGxlciBzZWN0aW9uIGJ5IHVzaW5nIHRoZSBtb3VzZXdoZWVsIChhdXRvIHNjcm9sbGluZykgcmF0aGVyIHRoYW4gZHJhZ2luZyB0aGUgc2Nyb2xsIGJhci5cblxuICAgICAgICAgICAgICAgICAgICAgICAgV2hlbiB1c2luZyBzY3JvbGxCYXI6dHJ1ZSBJdCBzZWVtcyBsaWtlIHRoZSBzY3JvbGwgZXZlbnRzIHN0aWxsIGdldHRpbmcgcHJvcGFnYXRlZCBldmVuIGFmdGVyIHRoZSBzY3JvbGxpbmcgYW5pbWF0aW9uIGhhcyBmaW5pc2hlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LDMwKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkcyh2KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogR2V0cyB0aGUgc2Nyb2xsaW5nIHNldHRpbmdzIGRlcGVuZGluZyBvbiB0aGUgcGx1Z2luIGF1dG9TY3JvbGxpbmcgb3B0aW9uXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbFNldHRpbmdzKHYpe1xuICAgICAgICAgICAgdmFyIHNjcm9sbCA9IHt9O1xuXG4gICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcbiAgICAgICAgICAgICAgICBzY3JvbGwub3B0aW9ucyA9IHsgJ3RvcCc6IC12LmR0b3B9O1xuICAgICAgICAgICAgICAgIHNjcm9sbC5lbGVtZW50ID0gV1JBUFBFUl9TRUw7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBzY3JvbGwub3B0aW9ucyA9IHsgJ3Njcm9sbFRvcCc6IHYuZHRvcH07XG4gICAgICAgICAgICAgICAgc2Nyb2xsLmVsZW1lbnQgPSAnaHRtbCwgYm9keSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzY3JvbGw7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBBZGRzIHNlY3Rpb25zIGJlZm9yZSBvciBhZnRlciB0aGUgY3VycmVudCBvbmUgdG8gY3JlYXRlIHRoZSBpbmZpbml0ZSBlZmZlY3QuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUluZmluaXRlU2VjdGlvbnModil7XG4gICAgICAgICAgICAvLyBTY3JvbGxpbmcgZG93blxuICAgICAgICAgICAgaWYgKCF2LmlzTW92ZW1lbnRVcCkge1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgYWxsIHByZXZpb3VzIHNlY3Rpb25zIHRvIGFmdGVyIHRoZSBhY3RpdmUgc2VjdGlvblxuICAgICAgICAgICAgICAgICQoU0VDVElPTl9BQ1RJVkVfU0VMKS5hZnRlcih2LmFjdGl2ZVNlY3Rpb24ucHJldkFsbChTRUNUSU9OX1NFTCkuZ2V0KCkucmV2ZXJzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyBTY3JvbGxpbmcgdXBcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGFsbCBuZXh0IHNlY3Rpb25zIHRvIGJlZm9yZSB0aGUgYWN0aXZlIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAkKFNFQ1RJT05fQUNUSVZFX1NFTCkuYmVmb3JlKHYuYWN0aXZlU2VjdGlvbi5uZXh0QWxsKFNFQ1RJT05fU0VMKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1haW50YWluIHRoZSBkaXNwbGF5ZWQgcG9zaXRpb24gKG5vdyB0aGF0IHdlIGNoYW5nZWQgdGhlIGVsZW1lbnQgb3JkZXIpXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoJChTRUNUSU9OX0FDVElWRV9TRUwpLnBvc2l0aW9uKCkudG9wKTtcblxuICAgICAgICAgICAgLy8gTWFpbnRhaW4gdGhlIGFjdGl2ZSBzbGlkZXMgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGtlZXBTbGlkZXNQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAvLyBzYXZlIGZvciBsYXRlciB0aGUgZWxlbWVudHMgdGhhdCBzdGlsbCBuZWVkIHRvIGJlIHJlb3JkZXJlZFxuICAgICAgICAgICAgdi53cmFwQXJvdW5kRWxlbWVudHMgPSB2LmFjdGl2ZVNlY3Rpb247XG5cbiAgICAgICAgICAgIC8vIFJlY2FsY3VsYXRlIGFuaW1hdGlvbiB2YXJpYWJsZXNcbiAgICAgICAgICAgIHYuZHRvcCA9IHYuZWxlbWVudC5wb3NpdGlvbigpLnRvcDtcbiAgICAgICAgICAgIHYueU1vdmVtZW50ID0gZ2V0WW1vdmVtZW50KHYuZWxlbWVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogRml4IHNlY3Rpb24gb3JkZXIgYWZ0ZXIgY29udGludW91c1ZlcnRpY2FsIGNoYW5nZXMgaGF2ZSBiZWVuIGFuaW1hdGVkXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRpbnVvdXNWZXJ0aWNhbEZpeFNlY3Rpb25PcmRlciAodikge1xuICAgICAgICAgICAgLy8gSWYgY29udGludW91c1ZlcnRpY2FsIGlzIGluIGVmZmVjdCAoYW5kIGF1dG9TY3JvbGxpbmcgd291bGQgYWxzbyBiZSBpbiBlZmZlY3QgdGhlbiksXG4gICAgICAgICAgICAvLyBmaW5pc2ggbW92aW5nIHRoZSBlbGVtZW50cyBhcm91bmQgc28gdGhlIGRpcmVjdCBuYXZpZ2F0aW9uIHdpbGwgZnVuY3Rpb24gbW9yZSBzaW1wbHlcbiAgICAgICAgICAgIGlmICghdi53cmFwQXJvdW5kRWxlbWVudHMgfHwgIXYud3JhcEFyb3VuZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYuaXNNb3ZlbWVudFVwKSB7XG4gICAgICAgICAgICAgICAgJChTRUNUSU9OX0ZJUlNUX1NFTCkuYmVmb3JlKHYud3JhcEFyb3VuZEVsZW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICQoU0VDVElPTl9MQVNUX1NFTCkuYWZ0ZXIodi53cmFwQXJvdW5kRWxlbWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoJChTRUNUSU9OX0FDVElWRV9TRUwpLnBvc2l0aW9uKCkudG9wKTtcblxuICAgICAgICAgICAgLy8gTWFpbnRhaW4gdGhlIGFjdGl2ZSBzbGlkZXMgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGtlZXBTbGlkZXNQb3NpdGlvbigpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgKiBBY3Rpb25zIHRvIGRvIG9uY2UgdGhlIHNlY3Rpb24gaXMgbG9hZGVkLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZnRlclNlY3Rpb25Mb2FkcyAodil7XG4gICAgICAgICAgICBjb250aW51b3VzVmVydGljYWxGaXhTZWN0aW9uT3JkZXIodik7XG5cbiAgICAgICAgICAgIHYuZWxlbWVudC5maW5kKCcuZnAtc2Nyb2xsYWJsZScpLm1vdXNlb3ZlcigpO1xuXG4gICAgICAgICAgICAvL2NhbGxiYWNrIChhZnRlckxvYWQpIGlmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXG4gICAgICAgICAgICAkLmlzRnVuY3Rpb24ob3B0aW9ucy5hZnRlckxvYWQpICYmICF2LmxvY2FsSXNSZXNpemluZyAmJiBvcHRpb25zLmFmdGVyTG9hZC5jYWxsKHYuZWxlbWVudCwgdi5hbmNob3JMaW5rLCAodi5zZWN0aW9uSW5kZXggKyAxKSk7XG5cbiAgICAgICAgICAgIHBsYXlNZWRpYSh2LmVsZW1lbnQpO1xuICAgICAgICAgICAgdi5lbGVtZW50LmFkZENsYXNzKENPTVBMRVRFTFkpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoQ09NUExFVEVMWSk7XG5cbiAgICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XG5cbiAgICAgICAgICAgICQuaXNGdW5jdGlvbih2LmNhbGxiYWNrKSAmJiB2LmNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBMYXp5IGxvYWRzIGltYWdlLCB2aWRlbyBhbmQgYXVkaW8gZWxlbWVudHMuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhenlMb2FkKGRlc3Rpbnkpe1xuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSBnZXRTbGlkZU9yU2VjdGlvbihkZXN0aW55KTtcblxuICAgICAgICAgICAgZGVzdGlueS5maW5kKCdpbWdbZGF0YS1zcmNdLCBzb3VyY2VbZGF0YS1zcmNdLCBhdWRpb1tkYXRhLXNyY10nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCAkKHRoaXMpLmRhdGEoJ3NyYycpKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUF0dHIoJ2RhdGEtc3JjJyk7XG5cbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmlzKCdzb3VyY2UnKSl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgndmlkZW8nKS5nZXQoMCkubG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogUGxheXMgdmlkZW8gYW5kIGF1ZGlvIGVsZW1lbnRzLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBwbGF5TWVkaWEoZGVzdGlueSl7XG4gICAgICAgICAgICB2YXIgZGVzdGlueSA9IGdldFNsaWRlT3JTZWN0aW9uKGRlc3RpbnkpO1xuXG4gICAgICAgICAgICAvL3BsYXlpbmcgSFRNTDUgbWVkaWEgZWxlbWVudHNcbiAgICAgICAgICAgIGRlc3RpbnkuZmluZCgndmlkZW8sIGF1ZGlvJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKS5nZXQoMCk7XG5cbiAgICAgICAgICAgICAgICBpZiggZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2F1dG9wbGF5JykgJiYgdHlwZW9mIGVsZW1lbnQucGxheSA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTdG9wcyB2aWRlbyBhbmQgYXVkaW8gZWxlbWVudHMuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN0b3BNZWRpYShkZXN0aW55KXtcbiAgICAgICAgICAgIHZhciBkZXN0aW55ID0gZ2V0U2xpZGVPclNlY3Rpb24oZGVzdGlueSk7XG5cbiAgICAgICAgICAgIC8vc3RvcHBpbmcgSFRNTDUgbWVkaWEgZWxlbWVudHNcbiAgICAgICAgICAgIGRlc3RpbnkuZmluZCgndmlkZW8sIGF1ZGlvJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKS5nZXQoMCk7XG5cbiAgICAgICAgICAgICAgICBpZiggIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWlnbm9yZScpICYmIHR5cGVvZiBlbGVtZW50LnBhdXNlID09PSAnZnVuY3Rpb24nICkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBHZXRzIHRoZSBhY3RpdmUgc2xpZGUgKG9yIHNlY3Rpb24pIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRTbGlkZU9yU2VjdGlvbihkZXN0aW55KXtcbiAgICAgICAgICAgIHZhciBzbGlkZSA9IGRlc3RpbnkuZmluZChTTElERV9BQ1RJVkVfU0VMKTtcbiAgICAgICAgICAgIGlmKCBzbGlkZS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgZGVzdGlueSA9ICQoc2xpZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVzdGlueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNjcm9sbHMgdG8gdGhlIGFuY2hvciBpbiB0aGUgVVJMIHdoZW4gbG9hZGluZyB0aGUgc2l0ZVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzY3JvbGxUb0FuY2hvcigpe1xuICAgICAgICAgICAgLy9nZXR0aW5nIHRoZSBhbmNob3IgbGluayBpbiB0aGUgVVJMIGFuZCBkZWxldGluZyB0aGUgYCNgXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAgd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSB2YWx1ZVswXTtcbiAgICAgICAgICAgIHZhciBzbGlkZSA9IHZhbHVlWzFdO1xuXG4gICAgICAgICAgICBpZihzZWN0aW9uKXsgIC8vaWYgdGhlcmVzIGFueSAjXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hbmltYXRlQW5jaG9yKXtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb24sIHNsaWRlKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgRlAuc2lsZW50TW92ZVRvKHNlY3Rpb24sIHNsaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBEZXRlY3RpbmcgYW55IGNoYW5nZSBvbiB0aGUgVVJMIHRvIHNjcm9sbCB0byB0aGUgZ2l2ZW4gYW5jaG9yIGxpbmtcbiAgICAgICAgKiAoYSB3YXkgdG8gZGV0ZWN0IGJhY2sgaGlzdG9yeSBidXR0b24gYXMgd2UgcGxheSB3aXRoIHRoZSBoYXNoZXMgb24gdGhlIFVSTClcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzaENoYW5nZUhhbmRsZXIoKXtcbiAgICAgICAgICAgIGlmKCFpc1Njcm9sbGluZyAmJiAhb3B0aW9ucy5sb2NrQW5jaG9ycyl7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VjdGlvbiA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgICAgIHZhciBzbGlkZSA9IHZhbHVlWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vd2hlbiBtb3ZpbmcgdG8gYSBzbGlkZSBpbiB0aGUgZmlyc3Qgc2VjdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUgKGZpcnN0IHRpbWUgdG8gYWRkIGFuIGFuY2hvciB0byB0aGUgVVJMKVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNGaXJzdFNsaWRlTW92ZSA9ICAodHlwZW9mIGxhc3RTY3JvbGxlZERlc3RpbnkgPT09ICd1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzRmlyc3RTY3JvbGxNb3ZlID0gKHR5cGVvZiBsYXN0U2Nyb2xsZWREZXN0aW55ID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2xpZGUgPT09ICd1bmRlZmluZWQnICYmICFzbGlkZU1vdmluZyk7XG5cblxuICAgICAgICAgICAgICAgIGlmKHNlY3Rpb24ubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgLyppbiBvcmRlciB0byBjYWxsIHNjcm9sbHBhZ2UoKSBvbmx5IG9uY2UgZm9yIGVhY2ggZGVzdGluYXRpb24gYXQgYSB0aW1lXG4gICAgICAgICAgICAgICAgICAgIEl0IGlzIGNhbGxlZCB0d2ljZSBmb3IgZWFjaCBzY3JvbGwgb3RoZXJ3aXNlLCBhcyBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvcmxpbmtzIGBoYXNoQ2hhbmdlYFxuICAgICAgICAgICAgICAgICAgICBldmVudCBpcyBmaXJlZCBvbiBldmVyeSBzY3JvbGwgdG9vLiovXG4gICAgICAgICAgICAgICAgICAgIGlmICgoc2VjdGlvbiAmJiBzZWN0aW9uICE9PSBsYXN0U2Nyb2xsZWREZXN0aW55KSAmJiAhaXNGaXJzdFNsaWRlTW92ZSB8fCBpc0ZpcnN0U2Nyb2xsTW92ZSB8fCAoIXNsaWRlTW92aW5nICYmIGxhc3RTY3JvbGxlZFNsaWRlICE9IHNsaWRlICkpICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbiwgc2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9TbGlkaW5nIHdpdGggYXJyb3cga2V5cywgYm90aCwgdmVydGljYWwgYW5kIGhvcml6b250YWxcbiAgICAgICAgZnVuY3Rpb24ga2V5ZG93bkhhbmRsZXIoZSkge1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoa2V5ZG93bklkKTtcblxuICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSAkKCc6Zm9jdXMnKTtcblxuICAgICAgICAgICAgaWYoIWFjdGl2ZUVsZW1lbnQuaXMoJ3RleHRhcmVhJykgJiYgIWFjdGl2ZUVsZW1lbnQuaXMoJ2lucHV0JykgJiYgIWFjdGl2ZUVsZW1lbnQuaXMoJ3NlbGVjdCcpICYmXG4gICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5hdHRyKCdjb250ZW50RWRpdGFibGUnKSAhPT0gXCJ0cnVlXCIgJiYgYWN0aXZlRWxlbWVudC5hdHRyKCdjb250ZW50RWRpdGFibGUnKSAhPT0gJycgJiZcbiAgICAgICAgICAgICAgICBvcHRpb25zLmtleWJvYXJkU2Nyb2xsaW5nICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XG4gICAgICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBlLndoaWNoO1xuXG4gICAgICAgICAgICAgICAgLy9wcmV2ZW50aW5nIHRoZSBzY3JvbGwgd2l0aCBhcnJvdyBrZXlzICYgc3BhY2ViYXIgJiBQYWdlIFVwICYgRG93biBrZXlzXG4gICAgICAgICAgICAgICAgdmFyIGtleUNvbnRyb2xzID0gWzQwLCAzOCwgMzIsIDMzLCAzNF07XG4gICAgICAgICAgICAgICAgaWYoJC5pbkFycmF5KGtleUNvZGUsIGtleUNvbnRyb2xzKSA+IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRyb2xQcmVzc2VkID0gZS5jdHJsS2V5O1xuXG4gICAgICAgICAgICAgICAga2V5ZG93bklkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBvbmtleWRvd24oZSk7XG4gICAgICAgICAgICAgICAgfSwxNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9vbHRpcFRleHRIYW5kbGVyKCl7XG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90byBwcmV2ZW50IHNjcm9sbGluZyB3aGlsZSB6b29taW5nXG4gICAgICAgIGZ1bmN0aW9uIGtleVVwSGFuZGxlcihlKXtcbiAgICAgICAgICAgIGlmKGlzV2luZG93Rm9jdXNlZCl7IC8vdGhlIGtleXVwIGdldHMgZmlyZWQgb24gbmV3IHRhYiBjdHJsICsgdCBpbiBGaXJlZm94XG4gICAgICAgICAgICAgICAgY29udHJvbFByZXNzZWQgPSBlLmN0cmxLZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL2JpbmRpbmcgdGhlIG1vdXNlbW92ZSB3aGVuIHRoZSBtb3VzZSdzIG1pZGRsZSBidXR0b24gaXMgcmVsZWFzZWRcbiAgICAgICAgZnVuY3Rpb24gbW91c2VEb3duSGFuZGxlcihlKXtcbiAgICAgICAgICAgIC8vbWlkZGxlIGJ1dHRvblxuICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMil7XG4gICAgICAgICAgICAgICAgb2xkUGFnZVkgPSBlLnBhZ2VZO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5vbignbW91c2Vtb3ZlJywgbW91c2VNb3ZlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL3VuYmluZGluZyB0aGUgbW91c2Vtb3ZlIHdoZW4gdGhlIG1vdXNlJ3MgbWlkZGxlIGJ1dHRvbiBpcyByZWxlYXNlZFxuICAgICAgICBmdW5jdGlvbiBtb3VzZVVwSGFuZGxlcihlKXtcbiAgICAgICAgICAgIC8vbWlkZGxlIGJ1dHRvblxuICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMil7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLm9mZignbW91c2Vtb3ZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL1Njcm9sbGluZyBob3Jpem9udGFsbHkgd2hlbiBjbGlja2luZyBvbiB0aGUgc2xpZGVyIGNvbnRyb2xzLlxuICAgICAgICBmdW5jdGlvbiBzbGlkZUFycm93SGFuZGxlcigpe1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSAkKHRoaXMpLmNsb3Nlc3QoU0VDVElPTl9TRUwpO1xuXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhTTElERVNfUFJFVikpIHtcbiAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQubS5sZWZ0KXtcbiAgICAgICAgICAgICAgICAgICAgRlAubW92ZVNsaWRlTGVmdChzZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKGlzU2Nyb2xsQWxsb3dlZC5tLnJpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgRlAubW92ZVNsaWRlUmlnaHQoc2VjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy93aGVuIG9wZW5pbmcgYSBuZXcgdGFiIChjdHJsICsgdCksIGBjb250cm9sYCB3b24ndCBiZSBwcmVzc2VkIHdoZW4gY29tbWluZyBiYWNrLlxuICAgICAgICBmdW5jdGlvbiBibHVySGFuZGxlcigpe1xuICAgICAgICAgICAgaXNXaW5kb3dGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjb250cm9sUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9TY3JvbGxzIHRvIHRoZSBzZWN0aW9uIHdoZW4gY2xpY2tpbmcgdGhlIG5hdmlnYXRpb24gYnVsbGV0XG4gICAgICAgIGZ1bmN0aW9uIHNlY3Rpb25CdWxsZXRIYW5kbGVyKGUpe1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5wYXJlbnQoKS5pbmRleCgpO1xuICAgICAgICAgICAgc2Nyb2xsUGFnZSgkKFNFQ1RJT05fU0VMKS5lcShpbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9TY3JvbGxzIHRoZSBzbGlkZXIgdG8gdGhlIGdpdmVuIHNsaWRlIGRlc3RpbmF0aW9uIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxuICAgICAgICBmdW5jdGlvbiBzbGlkZUJ1bGxldEhhbmRsZXIoZSl7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gJCh0aGlzKS5jbG9zZXN0KFNFQ1RJT05fU0VMKS5maW5kKFNMSURFU19XUkFQUEVSX1NFTCk7XG4gICAgICAgICAgICB2YXIgZGVzdGlueSA9IHNsaWRlcy5maW5kKFNMSURFX1NFTCkuZXEoJCh0aGlzKS5jbG9zZXN0KCdsaScpLmluZGV4KCkpO1xuXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEtleWRvd24gZXZlbnRcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gb25rZXlkb3duKGUpe1xuICAgICAgICAgICAgdmFyIHNoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICAgICAgICAgIC8vdXBcbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIGNhc2UgMzM6XG4gICAgICAgICAgICAgICAgICAgIGlmKGlzU2Nyb2xsQWxsb3dlZC5rLnVwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZQLm1vdmVTZWN0aW9uVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIC8vZG93blxuICAgICAgICAgICAgICAgIGNhc2UgMzI6IC8vc3BhY2ViYXJcbiAgICAgICAgICAgICAgICAgICAgaWYoc2hpZnRQcmVzc2VkICYmIGlzU2Nyb2xsQWxsb3dlZC5rLnVwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZQLm1vdmVTZWN0aW9uVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQuay5kb3duKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZQLm1vdmVTZWN0aW9uRG93bigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLy9Ib21lXG4gICAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsudXApe1xuICAgICAgICAgICAgICAgICAgICAgICAgRlAubW92ZVRvKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLy9FbmRcbiAgICAgICAgICAgICAgICBjYXNlIDM1OlxuICAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsuZG93bil7XG4gICAgICAgICAgICAgICAgICAgICAgICBGUC5tb3ZlVG8oICQoU0VDVElPTl9TRUwpLmxlbmd0aCApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLy9sZWZ0XG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsubGVmdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBGUC5tb3ZlU2xpZGVMZWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAvL3JpZ2h0XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsucmlnaHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRlAubW92ZVNsaWRlUmlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZXhpdCB0aGlzIGhhbmRsZXIgZm9yIG90aGVyIGtleXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIERldGVjdGluZyB0aGUgZGlyZWN0aW9uIG9mIHRoZSBtb3VzZSBtb3ZlbWVudC5cbiAgICAgICAgKiBVc2VkIG9ubHkgZm9yIHRoZSBtaWRkbGUgYnV0dG9uIG9mIHRoZSBtb3VzZS5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIG9sZFBhZ2VZID0gMDtcbiAgICAgICAgZnVuY3Rpb24gbW91c2VNb3ZlSGFuZGxlcihlKXtcbiAgICAgICAgICAgIGlmKGNhblNjcm9sbCl7XG4gICAgICAgICAgICAgICAgLy8gbW92aW5nIHVwXG4gICAgICAgICAgICAgICAgaWYgKGUucGFnZVkgPCBvbGRQYWdlWSAmJiBpc1Njcm9sbEFsbG93ZWQubS51cCl7XG4gICAgICAgICAgICAgICAgICAgIEZQLm1vdmVTZWN0aW9uVXAoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBtb3ZpbmcgZG93blxuICAgICAgICAgICAgICAgIGVsc2UgaWYoZS5wYWdlWSA+IG9sZFBhZ2VZICYmIGlzU2Nyb2xsQWxsb3dlZC5tLmRvd24pe1xuICAgICAgICAgICAgICAgICAgICBGUC5tb3ZlU2VjdGlvbkRvd24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbGRQYWdlWSA9IGUucGFnZVk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTY3JvbGxzIGhvcml6b250YWwgc2xpZGVycy5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbGFuZHNjYXBlU2Nyb2xsKHNsaWRlcywgZGVzdGlueSl7XG4gICAgICAgICAgICB2YXIgZGVzdGlueVBvcyA9IGRlc3RpbnkucG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBzbGlkZUluZGV4ID0gZGVzdGlueS5pbmRleCgpO1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzbGlkZXMuY2xvc2VzdChTRUNUSU9OX1NFTCk7XG4gICAgICAgICAgICB2YXIgc2VjdGlvbkluZGV4ID0gc2VjdGlvbi5pbmRleChTRUNUSU9OX1NFTCk7XG4gICAgICAgICAgICB2YXIgYW5jaG9yTGluayA9IHNlY3Rpb24uZGF0YSgnYW5jaG9yJyk7XG4gICAgICAgICAgICB2YXIgc2xpZGVzTmF2ID0gc2VjdGlvbi5maW5kKFNMSURFU19OQVZfU0VMKTtcbiAgICAgICAgICAgIHZhciBzbGlkZUFuY2hvciA9IGdldEFuY2hvcihkZXN0aW55KTtcbiAgICAgICAgICAgIHZhciBwcmV2U2xpZGUgPSBzZWN0aW9uLmZpbmQoU0xJREVfQUNUSVZFX1NFTCk7XG5cbiAgICAgICAgICAgIC8vY2FjaGluZyB0aGUgdmFsdWUgb2YgaXNSZXNpemluZyBhdCB0aGUgbW9tbWVudCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXG4gICAgICAgICAgICAvL2JlY2F1c2UgaXQgd2lsbCBiZSBjaGVja2VkIGxhdGVyIGluc2lkZSBhIHNldFRpbWVvdXQgYW5kIHRoZSB2YWx1ZSBtaWdodCBjaGFuZ2VcbiAgICAgICAgICAgIHZhciBsb2NhbElzUmVzaXppbmcgPSBpc1Jlc2l6aW5nO1xuXG4gICAgICAgICAgICBpZihvcHRpb25zLm9uU2xpZGVMZWF2ZSl7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gcHJldlNsaWRlLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgdmFyIHhNb3ZlbWVudCA9IGdldFhtb3ZlbWVudChwcmV2U2xpZGVJbmRleCwgc2xpZGVJbmRleCk7XG5cbiAgICAgICAgICAgICAgICAvL2lmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXG4gICAgICAgICAgICAgICAgaWYoIWxvY2FsSXNSZXNpemluZyAmJiB4TW92ZW1lbnQhPT0nbm9uZScpe1xuICAgICAgICAgICAgICAgICAgICBpZigkLmlzRnVuY3Rpb24oIG9wdGlvbnMub25TbGlkZUxlYXZlICkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5vblNsaWRlTGVhdmUuY2FsbCggcHJldlNsaWRlLCBhbmNob3JMaW5rLCAoc2VjdGlvbkluZGV4ICsgMSksIHByZXZTbGlkZUluZGV4LCB4TW92ZW1lbnQsIHNsaWRlSW5kZXggKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcE1lZGlhKHByZXZTbGlkZSk7XG5cbiAgICAgICAgICAgIGRlc3RpbnkuYWRkQ2xhc3MoQUNUSVZFKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKEFDVElWRSk7XG4gICAgICAgICAgICBpZighbG9jYWxJc1Jlc2l6aW5nKXtcbiAgICAgICAgICAgICAgICBsYXp5TG9hZChkZXN0aW55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwgJiYgb3B0aW9ucy5jb250cm9sQXJyb3dzKXtcbiAgICAgICAgICAgICAgICAvL2hpZGRpbmcgaXQgZm9yIHRoZSBmaXN0IHNsaWRlLCBzaG93aW5nIGZvciB0aGUgcmVzdFxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZmluZChTTElERVNfQVJST1dfUFJFVl9TRUwpLnRvZ2dsZShzbGlkZUluZGV4IT09MCk7XG5cbiAgICAgICAgICAgICAgICAvL2hpZGRpbmcgaXQgZm9yIHRoZSBsYXN0IHNsaWRlLCBzaG93aW5nIGZvciB0aGUgcmVzdFxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZmluZChTTElERVNfQVJST1dfTkVYVF9TRUwpLnRvZ2dsZSghZGVzdGlueS5pcygnOmxhc3QtY2hpbGQnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vb25seSBjaGFuZ2luZyB0aGUgVVJMIGlmIHRoZSBzbGlkZXMgYXJlIGluIHRoZSBjdXJyZW50IHNlY3Rpb24gKG5vdCBmb3IgcmVzaXplIHJlLWFkanVzdGluZylcbiAgICAgICAgICAgIGlmKHNlY3Rpb24uaGFzQ2xhc3MoQUNUSVZFKSl7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3IsIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBhZnRlclNsaWRlTG9hZHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIC8vaWYgdGhlIHNpdGUgaXMgbm90IGp1c3QgcmVzaXppbmcgYW5kIHJlYWRqdXN0aW5nIHRoZSBzbGlkZXNcbiAgICAgICAgICAgICAgICBpZighbG9jYWxJc1Jlc2l6aW5nKXtcbiAgICAgICAgICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyU2xpZGVMb2FkICkgJiYgb3B0aW9ucy5hZnRlclNsaWRlTG9hZC5jYWxsKCBkZXN0aW55LCBhbmNob3JMaW5rLCAoc2VjdGlvbkluZGV4ICsgMSksIHNsaWRlQW5jaG9yLCBzbGlkZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxheU1lZGlhKGRlc3RpbnkpO1xuXG4gICAgICAgICAgICAgICAgLy9sZXR0aW5nIHRoZW0gc2xpZGUgYWdhaW5cbiAgICAgICAgICAgICAgICBzbGlkZU1vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYob3B0aW9ucy5jc3MzKXtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoLScgKyBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCkgKyAncHgsIDBweCwgMHB4KSc7XG5cbiAgICAgICAgICAgICAgICBhZGRBbmltYXRpb24oc2xpZGVzLmZpbmQoU0xJREVTX0NPTlRBSU5FUl9TRUwpLCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkPjApLmNzcyhnZXRUcmFuc2Zvcm1zKHRyYW5zbGF0ZTNkKSk7XG5cbiAgICAgICAgICAgICAgICBhZnRlclNsaWRlTG9hZHNJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzKCk7XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgb3B0aW9ucy5lYXNpbmcpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgc2xpZGVzLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0IDogTWF0aC5yb3VuZChkZXN0aW55UG9zLmxlZnQpXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgb3B0aW9ucy5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkcygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzbGlkZXNOYXYuZmluZChBQ1RJVkVfU0VMKS5yZW1vdmVDbGFzcyhBQ1RJVkUpO1xuICAgICAgICAgICAgc2xpZGVzTmF2LmZpbmQoJ2xpJykuZXEoc2xpZGVJbmRleCkuZmluZCgnYScpLmFkZENsYXNzKEFDVElWRSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJldmlvdXNIZWlnaHQgPSB3aW5kb3dzSGVpZ2h0O1xuXG4gICAgICAgIC8vd2hlbiByZXNpemluZyB0aGUgc2l0ZSwgd2UgYWRqdXN0IHRoZSBoZWlnaHRzIG9mIHRoZSBzZWN0aW9ucywgc2xpbVNjcm9sbC4uLlxuICAgICAgICBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCl7XG4gICAgICAgICAgICAvL2NoZWNraW5nIGlmIGl0IG5lZWRzIHRvIGdldCByZXNwb25zaXZlXG4gICAgICAgICAgICByZXNwb25zaXZlKCk7XG5cbiAgICAgICAgICAgIC8vIHJlYnVpbGQgaW1tZWRpYXRlbHkgb24gdG91Y2ggZGV2aWNlc1xuICAgICAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9ICQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAvL2lmIHRoZSBrZXlib2FyZCBpcyBOT1QgdmlzaWJsZVxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlRWxlbWVudC5pcygndGV4dGFyZWEnKSAmJiAhYWN0aXZlRWxlbWVudC5pcygnaW5wdXQnKSAmJiAhYWN0aXZlRWxlbWVudC5pcygnc2VsZWN0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRIZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vbWFraW5nIHN1cmUgdGhlIGNoYW5nZSBpbiB0aGUgdmlld3BvcnQgc2l6ZSBpcyBlbm91Z2ggdG8gZm9yY2UgYSByZWJ1aWxkLiAoMjAgJSBvZiB0aGUgd2luZG93IHRvIGF2b2lkIHByb2JsZW1zIHdoZW4gaGlkZGluZyBzY3JvbGwgYmFycylcbiAgICAgICAgICAgICAgICAgICAgaWYoIE1hdGguYWJzKGN1cnJlbnRIZWlnaHQgLSBwcmV2aW91c0hlaWdodCkgPiAoMjAgKiBNYXRoLm1heChwcmV2aW91c0hlaWdodCwgY3VycmVudEhlaWdodCkgLyAxMDApICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBGUC5yZUJ1aWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNIZWlnaHQgPSBjdXJyZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgLy9pbiBvcmRlciB0byBjYWxsIHRoZSBmdW5jdGlvbnMgb25seSB3aGVuIHRoZSByZXNpemUgaXMgZmluaXNoZWRcbiAgICAgICAgICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDI5ODYxMi9qcXVlcnktaG93LXRvLWNhbGwtcmVzaXplLWV2ZW50LW9ubHktb25jZS1pdHMtZmluaXNoZWQtcmVzaXppbmdcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzaXplSWQpO1xuXG4gICAgICAgICAgICAgICAgcmVzaXplSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIEZQLnJlQnVpbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSwgMzUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIENoZWNrcyBpZiB0aGUgc2l0ZSBuZWVkcyB0byBnZXQgcmVzcG9uc2l2ZSBhbmQgZGlzYWJsZXMgYXV0b1Njcm9sbGluZyBpZiBzby5cbiAgICAgICAgKiBBIGNsYXNzIGBmcC1yZXNwb25zaXZlYCBpcyBhZGRlZCB0byB0aGUgcGx1Z2luJ3MgY29udGFpbmVyIGluIGNhc2UgdGhlIHVzZXIgd2FudHMgdG8gdXNlIGl0IGZvciBoaXMgb3duIHJlc3BvbnNpdmUgQ1NTLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXNwb25zaXZlKCl7XG4gICAgICAgICAgICB2YXIgd2lkdGhMaW1pdCA9IG9wdGlvbnMucmVzcG9uc2l2ZSB8fCBvcHRpb25zLnJlc3BvbnNpdmVXaWR0aDsgLy9iYWNrd2FyZHMgY29tcGF0aWJsaXR5XG4gICAgICAgICAgICB2YXIgaGVpZ2h0TGltaXQgPSBvcHRpb25zLnJlc3BvbnNpdmVIZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vb25seSBjYWxjdWxhdGluZyB3aGF0IHdlIG5lZWQuIFJlbWVtYmVyIGl0cyBjYWxsZWQgb24gdGhlIHJlc2l6ZSBldmVudC5cbiAgICAgICAgICAgIHZhciBpc0JyZWFraW5nUG9pbnRXaWR0aCA9IHdpZHRoTGltaXQgJiYgJHdpbmRvdy5vdXRlcldpZHRoKCkgPCB3aWR0aExpbWl0O1xuICAgICAgICAgICAgdmFyIGlzQnJlYWtpbmdQb2ludEhlaWdodCA9IGhlaWdodExpbWl0ICYmICR3aW5kb3cuaGVpZ2h0KCkgPCBoZWlnaHRMaW1pdDtcblxuICAgICAgICAgICAgaWYod2lkdGhMaW1pdCAmJiBoZWlnaHRMaW1pdCl7XG4gICAgICAgICAgICAgICAgRlAuc2V0UmVzcG9uc2l2ZShpc0JyZWFraW5nUG9pbnRXaWR0aCB8fCBpc0JyZWFraW5nUG9pbnRIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih3aWR0aExpbWl0KXtcbiAgICAgICAgICAgICAgICBGUC5zZXRSZXNwb25zaXZlKGlzQnJlYWtpbmdQb2ludFdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoaGVpZ2h0TGltaXQpe1xuICAgICAgICAgICAgICAgIEZQLnNldFJlc3BvbnNpdmUoaXNCcmVha2luZ1BvaW50SGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEFkZHMgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZGRBbmltYXRpb24oZWxlbWVudCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbiA9ICdhbGwgJyArIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQgKyAnbXMgJyArIG9wdGlvbnMuZWFzaW5nY3NzMztcblxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhOT19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbic6IHRyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiB0cmFuc2l0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFJlbW92ZSB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50XG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUFuaW1hdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFkZENsYXNzKE5PX1RSQU5TSVRJT04pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc2l6aW5nIG9mIHRoZSBmb250IHNpemUgZGVwZW5kaW5nIG9uIHRoZSB3aW5kb3cgc2l6ZSBhcyB3ZWxsIGFzIHNvbWUgb2YgdGhlIGltYWdlcyBvbiB0aGUgc2l0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZU1lKGRpc3BsYXlIZWlnaHQsIGRpc3BsYXlXaWR0aCkge1xuICAgICAgICAgICAgLy9TdGFuZGFyZCBkaW1lbnNpb25zLCBmb3Igd2hpY2ggdGhlIGJvZHkgZm9udCBzaXplIGlzIGNvcnJlY3RcbiAgICAgICAgICAgIHZhciBwcmVmZXJyZWRIZWlnaHQgPSA4MjU7XG4gICAgICAgICAgICB2YXIgcHJlZmVycmVkV2lkdGggPSA5MDA7XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5SGVpZ2h0IDwgcHJlZmVycmVkSGVpZ2h0IHx8IGRpc3BsYXlXaWR0aCA8IHByZWZlcnJlZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodFBlcmNlbnRhZ2UgPSAoZGlzcGxheUhlaWdodCAqIDEwMCkgLyBwcmVmZXJyZWRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoUGVyY2VudGFnZSA9IChkaXNwbGF5V2lkdGggKiAxMDApIC8gcHJlZmVycmVkV2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBNYXRoLm1pbihoZWlnaHRQZXJjZW50YWdlLCB3aWR0aFBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdGb250U2l6ZSA9IHBlcmNlbnRhZ2UudG9GaXhlZCgyKTtcblxuICAgICAgICAgICAgICAgICRib2R5LmNzcygnZm9udC1zaXplJywgbmV3Rm9udFNpemUgKyAnJScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkYm9keS5jc3MoJ2ZvbnQtc2l6ZScsICcxMDAlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGluZyB0aGUgd2Vic2l0ZSBuYXZpZ2F0aW9uIGRvdHMgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBzbGlkZSBuYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVOYXZEb3RzKG5hbWUsIHNlY3Rpb25JbmRleCl7XG4gICAgICAgICAgICBpZihvcHRpb25zLm5hdmlnYXRpb24pe1xuICAgICAgICAgICAgICAgICQoU0VDVElPTl9OQVZfU0VMKS5maW5kKEFDVElWRV9TRUwpLnJlbW92ZUNsYXNzKEFDVElWRSk7XG4gICAgICAgICAgICAgICAgaWYobmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICQoU0VDVElPTl9OQVZfU0VMKS5maW5kKCdhW2hyZWY9XCIjJyArIG5hbWUgKyAnXCJdJykuYWRkQ2xhc3MoQUNUSVZFKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJChTRUNUSU9OX05BVl9TRUwpLmZpbmQoJ2xpJykuZXEoc2VjdGlvbkluZGV4KS5maW5kKCdhJykuYWRkQ2xhc3MoQUNUSVZFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGluZyB0aGUgd2Vic2l0ZSBtYWluIG1lbnUgZWxlbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBzbGlkZSBuYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVNZW51RWxlbWVudChuYW1lKXtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMubWVudSl7XG4gICAgICAgICAgICAgICAgJChvcHRpb25zLm1lbnUpLmZpbmQoQUNUSVZFX1NFTCkucmVtb3ZlQ2xhc3MoQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAkKG9wdGlvbnMubWVudSkuZmluZCgnW2RhdGEtbWVudWFuY2hvcj1cIicrbmFtZSsnXCJdJykuYWRkQ2xhc3MoQUNUSVZFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNldHMgdG8gYWN0aXZlIHRoZSBjdXJyZW50IG1lbnUgYW5kIHZlcnRpY2FsIG5hdiBpdGVtcy5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVNZW51QW5kTmF2KGFuY2hvciwgaW5kZXgpe1xuICAgICAgICAgICAgYWN0aXZhdGVNZW51RWxlbWVudChhbmNob3IpO1xuICAgICAgICAgICAgYWN0aXZhdGVOYXZEb3RzKGFuY2hvciwgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogUmV0dW5zIGB1cGAgb3IgYGRvd25gIGRlcGVuZGluZyBvbiB0aGUgc2Nyb2xsaW5nIG1vdmVtZW50IHRvIHJlYWNoIGl0cyBkZXN0aW5hdGlvblxuICAgICAgICAqIGZyb20gdGhlIGN1cnJlbnQgc2VjdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0WW1vdmVtZW50KGRlc3Rpbnkpe1xuICAgICAgICAgICAgdmFyIGZyb21JbmRleCA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKS5pbmRleChTRUNUSU9OX1NFTCk7XG4gICAgICAgICAgICB2YXIgdG9JbmRleCA9IGRlc3RpbnkuaW5kZXgoU0VDVElPTl9TRUwpO1xuICAgICAgICAgICAgaWYoIGZyb21JbmRleCA9PSB0b0luZGV4KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZnJvbUluZGV4ID4gdG9JbmRleCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogUmV0dW5zIGByaWdodGAgb3IgYGxlZnRgIGRlcGVuZGluZyBvbiB0aGUgc2Nyb2xsaW5nIG1vdmVtZW50IHRvIHJlYWNoIGl0cyBkZXN0aW5hdGlvblxuICAgICAgICAqIGZyb20gdGhlIGN1cnJlbnQgc2xpZGUuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFhtb3ZlbWVudChmcm9tSW5kZXgsIHRvSW5kZXgpe1xuICAgICAgICAgICAgaWYoIGZyb21JbmRleCA9PSB0b0luZGV4KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZnJvbUluZGV4ID4gdG9JbmRleCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgICAgICB9XG5cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTbGltU2Nyb2xsaW5nKGVsZW1lbnQpe1xuICAgICAgICAgICAgLy9uZWVkZWQgdG8gbWFrZSBgc2Nyb2xsSGVpZ2h0YCB3b3JrIHVuZGVyIE9wZXJhIDEyXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgIHZhciBzY3JvbGxPdmVyZmxvd0hhbmRsZXIgPSBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlcjtcbiAgICAgICAgICAgIHZhciB3cmFwID0gc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLndyYXBDb250ZW50KCk7XG4gICAgICAgICAgICAvL2luIGNhc2UgZWxlbWVudCBpcyBhIHNsaWRlXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGVsZW1lbnQuY2xvc2VzdChTRUNUSU9OX1NFTCk7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsYWJsZSA9IHNjcm9sbE92ZXJmbG93SGFuZGxlci5zY3JvbGxhYmxlKGVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vaWYgdGhlcmUgd2FzIHNjcm9sbCwgdGhlIGNvbnRlbnRIZWlnaHQgd2lsbCBiZSB0aGUgb25lIGluIHRoZSBzY3JvbGxhYmxlIHNlY3Rpb25cbiAgICAgICAgICAgIGlmKHNjcm9sbGFibGUubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBjb250ZW50SGVpZ2h0ID0gc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnNjcm9sbEhlaWdodChlbGVtZW50KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnRlbnRIZWlnaHQgPSBlbGVtZW50LmdldCgwKS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEhlaWdodCA9IGVsZW1lbnQuZmluZChUQUJMRV9DRUxMX1NFTCkuZ2V0KDApLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSB3aW5kb3dzSGVpZ2h0IC0gcGFyc2VJbnQoc2VjdGlvbi5jc3MoJ3BhZGRpbmctYm90dG9tJykpIC0gcGFyc2VJbnQoc2VjdGlvbi5jc3MoJ3BhZGRpbmctdG9wJykpO1xuXG4gICAgICAgICAgICAvL25lZWRzIHNjcm9sbD9cbiAgICAgICAgICAgIGlmICggY29udGVudEhlaWdodCA+IHNjcm9sbEhlaWdodCkge1xuICAgICAgICAgICAgICAgIC8vd2FzIHRoZXJlIGFscmVhZHkgYW4gc2Nyb2xsID8gVXBkYXRpbmcgaXRcbiAgICAgICAgICAgICAgICBpZihzY3JvbGxhYmxlLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93SGFuZGxlci51cGRhdGUoZWxlbWVudCwgc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9jcmVhdGluZyB0aGUgc2Nyb2xsaW5nXG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmluZChUQUJMRV9DRUxMX1NFTCkud3JhcElubmVyKHdyYXApO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQud3JhcElubmVyKHdyYXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93SGFuZGxlci5jcmVhdGUoZWxlbWVudCwgc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3JlbW92aW5nIHRoZSBzY3JvbGxpbmcgd2hlbiBpdCBpcyBub3QgbmVjZXNzYXJ5IGFueW1vcmVcbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnJlbW92ZShlbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy91bmRvXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnb3ZlcmZsb3cnLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRUYWJsZUNsYXNzKGVsZW1lbnQpe1xuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhUQUJMRSkud3JhcElubmVyKCc8ZGl2IGNsYXNzPVwiJyArIFRBQkxFX0NFTEwgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6JyArIGdldFRhYmxlSGVpZ2h0KGVsZW1lbnQpICsgJ3B4O1wiIC8+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUYWJsZUhlaWdodChlbGVtZW50KXtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uSGVpZ2h0ID0gd2luZG93c0hlaWdodDtcblxuICAgICAgICAgICAgaWYob3B0aW9ucy5wYWRkaW5nVG9wIHx8IG9wdGlvbnMucGFkZGluZ0JvdHRvbSl7XG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmKCFzZWN0aW9uLmhhc0NsYXNzKFNFQ1RJT04pKXtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiA9IGVsZW1lbnQuY2xvc2VzdChTRUNUSU9OX1NFTCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdzID0gcGFyc2VJbnQoc2VjdGlvbi5jc3MoJ3BhZGRpbmctdG9wJykpICsgcGFyc2VJbnQoc2VjdGlvbi5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xuICAgICAgICAgICAgICAgIHNlY3Rpb25IZWlnaHQgPSAod2luZG93c0hlaWdodCAtIHBhZGRpbmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25IZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBBZGRzIGEgY3NzMyB0cmFuc2Zvcm0gcHJvcGVydHkgdG8gdGhlIGNvbnRhaW5lciBjbGFzcyB3aXRoIG9yIHdpdGhvdXQgYW5pbWF0aW9uIGRlcGVuZGluZyBvbiB0aGUgYW5pbWF0ZWQgcGFyYW0uXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvbnRhaW5lcih0cmFuc2xhdGUzZCwgYW5pbWF0ZWQpe1xuICAgICAgICAgICAgaWYoYW5pbWF0ZWQpe1xuICAgICAgICAgICAgICAgIGFkZEFuaW1hdGlvbihjb250YWluZXIpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQW5pbWF0aW9uKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoZ2V0VHJhbnNmb3Jtcyh0cmFuc2xhdGUzZCkpO1xuXG4gICAgICAgICAgICAvL3N5bmNyb25vdXNseSByZW1vdmluZyB0aGUgY2xhc3MgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBoYXMgYmVlbiBhcHBsaWVkLlxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhOT19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgIH0sMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogR2V0cyBhIHNlY3Rpb24gYnkgaXRzIGFuY2hvciAvIGluZGV4XG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFNlY3Rpb25CeUFuY2hvcihzZWN0aW9uQW5jaG9yKXtcbiAgICAgICAgICAgIC8vc2VjdGlvblxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBjb250YWluZXIuZmluZChTRUNUSU9OX1NFTCArICdbZGF0YS1hbmNob3I9XCInK3NlY3Rpb25BbmNob3IrJ1wiXScpO1xuICAgICAgICAgICAgaWYoIXNlY3Rpb24ubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9uID0gJChTRUNUSU9OX1NFTCkuZXEoIChzZWN0aW9uQW5jaG9yIC0xKSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEdldHMgYSBzbGlkZSBpbnNpZGUgYSBnaXZlbiBzZWN0aW9uIGJ5IGl0cyBhbmNob3IgLyBpbmRleFxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRTbGlkZUJ5QW5jaG9yKHNsaWRlQW5jaG9yLCBzZWN0aW9uKXtcbiAgICAgICAgICAgIHZhciBzbGlkZXMgPSBzZWN0aW9uLmZpbmQoU0xJREVTX1dSQVBQRVJfU0VMKTtcbiAgICAgICAgICAgIHZhciBzbGlkZSA9ICBzbGlkZXMuZmluZChTTElERV9TRUwgKyAnW2RhdGEtYW5jaG9yPVwiJytzbGlkZUFuY2hvcisnXCJdJyk7XG5cbiAgICAgICAgICAgIGlmKCFzbGlkZS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIHNsaWRlID0gc2xpZGVzLmZpbmQoU0xJREVfU0VMKS5lcShzbGlkZUFuY2hvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzbGlkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNjcm9sbHMgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlIGFuY2hvcnNcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsUGFnZUFuZFNsaWRlKGRlc3RpbnksIHNsaWRlKXtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gZ2V0U2VjdGlvbkJ5QW5jaG9yKGRlc3RpbnkpO1xuXG4gICAgICAgICAgICAvL2RlZmF1bHQgc2xpZGVcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2xpZGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc2xpZGUgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3dlIG5lZWQgdG8gc2Nyb2xsIHRvIHRoZSBzZWN0aW9uIGFuZCB0aGVuIHRvIHRoZSBzbGlkZVxuICAgICAgICAgICAgaWYgKGRlc3RpbnkgIT09IGxhc3RTY3JvbGxlZERlc3RpbnkgJiYgIXNlY3Rpb24uaGFzQ2xhc3MoQUNUSVZFKSl7XG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShzZWN0aW9uLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxTbGlkZXIoc2VjdGlvbiwgc2xpZGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9pZiB3ZSB3ZXJlIGFscmVhZHkgaW4gdGhlIHNlY3Rpb25cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgc2Nyb2xsU2xpZGVyKHNlY3Rpb24sIHNsaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNjcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbFNsaWRlcihzZWN0aW9uLCBzbGlkZUFuY2hvcil7XG4gICAgICAgICAgICBpZih0eXBlb2Ygc2xpZGVBbmNob3IgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVzID0gc2VjdGlvbi5maW5kKFNMSURFU19XUkFQUEVSX1NFTCk7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSAgZ2V0U2xpZGVCeUFuY2hvcihzbGlkZUFuY2hvciwgc2VjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZihkZXN0aW55Lmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3RpbnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIENyZWF0ZXMgYSBsYW5kc2NhcGUgbmF2aWdhdGlvbiBiYXIgd2l0aCBkb3RzIGZvciBob3Jpem9udGFsIHNsaWRlcnMuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlc05hdmlnYXRpb24oc2VjdGlvbiwgbnVtU2xpZGVzKXtcbiAgICAgICAgICAgIHNlY3Rpb24uYXBwZW5kKCc8ZGl2IGNsYXNzPVwiJyArIFNMSURFU19OQVYgKyAnXCI+PHVsPjwvdWw+PC9kaXY+Jyk7XG4gICAgICAgICAgICB2YXIgbmF2ID0gc2VjdGlvbi5maW5kKFNMSURFU19OQVZfU0VMKTtcblxuICAgICAgICAgICAgLy90b3Agb3IgYm90dG9tXG4gICAgICAgICAgICBuYXYuYWRkQ2xhc3Mob3B0aW9ucy5zbGlkZXNOYXZQb3NpdGlvbik7XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPCBudW1TbGlkZXM7IGkrKyl7XG4gICAgICAgICAgICAgICAgbmF2LmZpbmQoJ3VsJykuYXBwZW5kKCc8bGk+PGEgaHJlZj1cIiNcIj48c3Bhbj48L3NwYW4+PC9hPjwvbGk+Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY2VudGVyaW5nIGl0XG4gICAgICAgICAgICBuYXYuY3NzKCdtYXJnaW4tbGVmdCcsICctJyArIChuYXYud2lkdGgoKS8yKSArICdweCcpO1xuXG4gICAgICAgICAgICBuYXYuZmluZCgnbGknKS5maXJzdCgpLmZpbmQoJ2EnKS5hZGRDbGFzcyhBQ1RJVkUpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGUgd2Vic2l0ZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uL3NsaWRlLlxuICAgICAgICAqIEl0IGNoYW5nZXMgdGhlIFVSTCBoYXNoIHdoZW4gbmVlZGVkIGFuZCB1cGRhdGVzIHRoZSBib2R5IGNsYXNzLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRTdGF0ZShzbGlkZUluZGV4LCBzbGlkZUFuY2hvciwgYW5jaG9yTGluaywgc2VjdGlvbkluZGV4KXtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uSGFzaCA9ICcnO1xuXG4gICAgICAgICAgICBpZihvcHRpb25zLmFuY2hvcnMubGVuZ3RoICYmICFvcHRpb25zLmxvY2tBbmNob3JzKXtcblxuICAgICAgICAgICAgICAgIC8vaXNuJ3QgaXQgdGhlIGZpcnN0IHNsaWRlP1xuICAgICAgICAgICAgICAgIGlmKHNsaWRlSW5kZXgpe1xuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgYW5jaG9yTGluayAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkhhc2ggPSBhbmNob3JMaW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9zbGlkZSB3aXRob3V0IGFuY2hvciBsaW5rPyBXZSB0YWtlIHRoZSBpbmRleCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Ygc2xpZGVBbmNob3IgPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlQW5jaG9yID0gc2xpZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxlZFNsaWRlID0gc2xpZGVBbmNob3I7XG4gICAgICAgICAgICAgICAgICAgIHNldFVybEhhc2goc2VjdGlvbkhhc2ggKyAnLycgKyBzbGlkZUFuY2hvcik7XG5cbiAgICAgICAgICAgICAgICAvL2ZpcnN0IHNsaWRlIHdvbid0IGhhdmUgc2xpZGUgYW5jaG9yLCBqdXN0IHRoZSBzZWN0aW9uIG9uZVxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiBzbGlkZUluZGV4ICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxlZFNsaWRlID0gc2xpZGVBbmNob3I7XG4gICAgICAgICAgICAgICAgICAgIHNldFVybEhhc2goYW5jaG9yTGluayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9zZWN0aW9uIHdpdGhvdXQgc2xpZGVzXG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXJsSGFzaChhbmNob3JMaW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEJvZHlDbGFzcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyB0aGUgVVJMIGhhc2guXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNldFVybEhhc2godXJsKXtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMucmVjb3JkSGlzdG9yeSl7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IHVybDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vTW9iaWxlIENocm9tZSBkb2Vzbid0IHdvcmsgdGhlIG5vcm1hbCB3YXksIHNvLi4uIGxldHMgdXNlIEhUTUw1IGZvciBwaG9uZXMgOilcbiAgICAgICAgICAgICAgICBpZihpc1RvdWNoRGV2aWNlIHx8IGlzVG91Y2gpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUodW5kZWZpbmVkLCB1bmRlZmluZWQsICcjJyArIHVybCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlVXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoIGJhc2VVcmwgKyAnIycgKyB1cmwgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBHZXRzIHRoZSBhbmNob3IgZm9yIHRoZSBnaXZlbiBzbGlkZSAvIHNlY3Rpb24uIEl0cyBpbmRleCB3aWxsIGJlIHVzZWQgaWYgdGhlcmUncyBub25lLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRBbmNob3IoZWxlbWVudCl7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gZWxlbWVudC5kYXRhKCdhbmNob3InKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGVsZW1lbnQuaW5kZXgoKTtcblxuICAgICAgICAgICAgLy9TbGlkZSB3aXRob3V0IGFuY2hvciBsaW5rPyBXZSB0YWtlIHRoZSBpbmRleCBpbnN0ZWFkLlxuICAgICAgICAgICAgaWYodHlwZW9mIGFuY2hvciA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IGluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYW5jaG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyBhIGNsYXNzIGZvciB0aGUgYm9keSBvZiB0aGUgcGFnZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uIC8gc2xpZGVcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2V0Qm9keUNsYXNzKCl7XG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcbiAgICAgICAgICAgIHZhciBzbGlkZSA9IHNlY3Rpb24uZmluZChTTElERV9BQ1RJVkVfU0VMKTtcblxuICAgICAgICAgICAgdmFyIHNlY3Rpb25BbmNob3IgPSBnZXRBbmNob3Ioc2VjdGlvbik7XG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBnZXRBbmNob3Ioc2xpZGUpO1xuXG4gICAgICAgICAgICB2YXIgc2VjdGlvbkluZGV4ID0gc2VjdGlvbi5pbmRleChTRUNUSU9OX1NFTCk7XG5cbiAgICAgICAgICAgIHZhciB0ZXh0ID0gU3RyaW5nKHNlY3Rpb25BbmNob3IpO1xuXG4gICAgICAgICAgICBpZihzbGlkZS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgJy0nICsgc2xpZGVBbmNob3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY2hhbmdpbmcgc2xhc2ggZm9yIGRhc2ggdG8gbWFrZSBpdCBhIHZhbGlkIENTUyBzdHlsZVxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgnLycsICctJykucmVwbGFjZSgnIycsJycpO1xuXG4gICAgICAgICAgICAvL3JlbW92aW5nIHByZXZpb3VzIGFuY2hvciBjbGFzc2VzXG4gICAgICAgICAgICB2YXIgY2xhc3NSZSA9IG5ldyBSZWdFeHAoJ1xcXFxiXFxcXHM/JyArIFZJRVdJTkdfUFJFRklYICsgJy1bXlxcXFxzXStcXFxcYicsIFwiZ1wiKTtcbiAgICAgICAgICAgICRib2R5WzBdLmNsYXNzTmFtZSA9ICRib2R5WzBdLmNsYXNzTmFtZS5yZXBsYWNlKGNsYXNzUmUsICcnKTtcblxuICAgICAgICAgICAgLy9hZGRpbmcgdGhlIGN1cnJlbnQgYW5jaG9yXG4gICAgICAgICAgICAkYm9keS5hZGRDbGFzcyhWSUVXSU5HX1BSRUZJWCArICctJyArIHRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQ2hlY2tzIGZvciB0cmFuc2xhdGUzZCBzdXBwb3J0XG4gICAgICAgICogQHJldHVybiBib29sZWFuXG4gICAgICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjYxNjcxL2RldGVjdGluZy10cmFuc2Zvcm0tdHJhbnNsYXRlM2Qtc3VwcG9ydFxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdXBwb3J0M2QoKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICAgICAgICAgICAgaGFzM2QsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ3dlYmtpdFRyYW5zZm9ybSc6Jy13ZWJraXQtdHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgJ09UcmFuc2Zvcm0nOictby10cmFuc2Zvcm0nLFxuICAgICAgICAgICAgICAgICAgICAnbXNUcmFuc2Zvcm0nOictbXMtdHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgJ01velRyYW5zZm9ybSc6Jy1tb3otdHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6J3RyYW5zZm9ybSdcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGJvZHkgdG8gZ2V0IHRoZSBjb21wdXRlZCBzdHlsZS5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGVsLCBudWxsKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgdCBpbiB0cmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGVbdF0gPSAndHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpJztcbiAgICAgICAgICAgICAgICAgICAgaGFzM2QgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh0cmFuc2Zvcm1zW3RdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuXG4gICAgICAgICAgICByZXR1cm4gKGhhczNkICE9PSB1bmRlZmluZWQgJiYgaGFzM2QubGVuZ3RoID4gMCAmJiBoYXMzZCAhPT0gJ25vbmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFJlbW92ZXMgdGhlIGF1dG8gc2Nyb2xsaW5nIGFjdGlvbiBmaXJlZCBieSB0aGUgbW91c2Ugd2hlZWwgYW5kIHRyYWNrcGFkLlxuICAgICAgICAqIEFmdGVyIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgbW91c2V3aGVlbCBhbmQgdHJhY2twYWQgbW92ZW1lbnRzIHdvbid0IHNjcm9sbCB0aHJvdWdoIHNlY3Rpb25zLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZW1vdmVNb3VzZVdoZWVsSGFuZGxlcigpe1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9JRTksIENocm9tZSwgU2FmYXJpLCBPcGVyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBNb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpOyAvL0ZpcmVmb3hcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9vbGQgRmlyZWZveFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb25tb3VzZXdoZWVsJywgTW91c2VXaGVlbEhhbmRsZXIpOyAvL0lFIDYvNy84XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBBZGRzIHRoZSBhdXRvIHNjcm9sbGluZyBhY3Rpb24gZm9yIHRoZSBtb3VzZSB3aGVlbCBhbmQgdHJhY2twYWQuXG4gICAgICAgICogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBtb3VzZXdoZWVsIGFuZCB0cmFja3BhZCBtb3ZlbWVudHMgd2lsbCBzY3JvbGwgdGhyb3VnaCBzZWN0aW9uc1xuICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy93aGVlbFxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZGRNb3VzZVdoZWVsSGFuZGxlcigpe1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9ICcnO1xuICAgICAgICAgICAgdmFyIF9hZGRFdmVudExpc3RlbmVyO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyID0gXCJhZGRFdmVudExpc3RlbmVyXCI7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lciA9IFwiYXR0YWNoRXZlbnRcIjtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSAnb24nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgLy8gZGV0ZWN0IGF2YWlsYWJsZSB3aGVlbCBldmVudFxuICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAnb253aGVlbCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgPyAnd2hlZWwnIDogLy8gTW9kZXJuIGJyb3dzZXJzIHN1cHBvcnQgXCJ3aGVlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXdoZWVsICE9PSB1bmRlZmluZWQgPyAnbW91c2V3aGVlbCcgOiAvLyBXZWJraXQgYW5kIElFIHN1cHBvcnQgYXQgbGVhc3QgXCJtb3VzZXdoZWVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAnRE9NTW91c2VTY3JvbGwnOyAvLyBsZXQncyBhc3N1bWUgdGhhdCByZW1haW5pbmcgYnJvd3NlcnMgYXJlIG9sZGVyIEZpcmVmb3hcblxuXG4gICAgICAgICAgICBpZihzdXBwb3J0ID09ICdET01Nb3VzZVNjcm9sbCcpe1xuICAgICAgICAgICAgICAgIGRvY3VtZW50WyBfYWRkRXZlbnRMaXN0ZW5lciBdKHByZWZpeCArICdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9oYW5kbGUgTW96TW91c2VQaXhlbFNjcm9sbCBpbiBvbGRlciBGaXJlZm94XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGRvY3VtZW50WyBfYWRkRXZlbnRMaXN0ZW5lciBdKHByZWZpeCArIHN1cHBvcnQsIE1vdXNlV2hlZWxIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBCaW5kaW5nIHRoZSBtb3VzZW1vdmUgd2hlbiB0aGUgbW91c2UncyBtaWRkbGUgYnV0dG9uIGlzIHByZXNzZWRcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWRkTWlkZGxlV2hlZWxIYW5kbGVyKCl7XG4gICAgICAgICAgICBjb250YWluZXJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIG1vdXNlRG93bkhhbmRsZXIpXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZXVwJywgbW91c2VVcEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVW5iaW5kaW5nIHRoZSBtb3VzZW1vdmUgd2hlbiB0aGUgbW91c2UncyBtaWRkbGUgYnV0dG9uIGlzIHJlbGVhc2VkXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU1pZGRsZVdoZWVsSGFuZGxlcigpe1xuICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgLm9mZignbW91c2Vkb3duJywgbW91c2VEb3duSGFuZGxlcilcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZXVwJywgbW91c2VVcEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogQWRkcyB0aGUgcG9zc2liaWxpdHkgdG8gYXV0byBzY3JvbGwgdGhyb3VnaCBzZWN0aW9ucyBvbiB0b3VjaCBkZXZpY2VzLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZGRUb3VjaEhhbmRsZXIoKXtcbiAgICAgICAgICAgIGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XG4gICAgICAgICAgICAgICAgLy9NaWNyb3NvZnQgcG9pbnRlcnNcbiAgICAgICAgICAgICAgICB2YXIgTVNQb2ludGVyID0gZ2V0TVNQb2ludGVyKCk7XG5cbiAgICAgICAgICAgICAgICAkKFdSQVBQRVJfU0VMKS5vZmYoJ3RvdWNoc3RhcnQgJyArICBNU1BvaW50ZXIuZG93bikub24oJ3RvdWNoc3RhcnQgJyArIE1TUG9pbnRlci5kb3duLCB0b3VjaFN0YXJ0SGFuZGxlcik7XG4gICAgICAgICAgICAgICAgJChXUkFQUEVSX1NFTCkub2ZmKCd0b3VjaG1vdmUgJyArIE1TUG9pbnRlci5tb3ZlKS5vbigndG91Y2htb3ZlICcgKyBNU1BvaW50ZXIubW92ZSwgdG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBSZW1vdmVzIHRoZSBhdXRvIHNjcm9sbGluZyBmb3IgdG91Y2ggZGV2aWNlcy5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG91Y2hIYW5kbGVyKCl7XG4gICAgICAgICAgICBpZihpc1RvdWNoRGV2aWNlIHx8IGlzVG91Y2gpe1xuICAgICAgICAgICAgICAgIC8vTWljcm9zb2Z0IHBvaW50ZXJzXG4gICAgICAgICAgICAgICAgdmFyIE1TUG9pbnRlciA9IGdldE1TUG9pbnRlcigpO1xuXG4gICAgICAgICAgICAgICAgJChXUkFQUEVSX1NFTCkub2ZmKCd0b3VjaHN0YXJ0ICcgKyBNU1BvaW50ZXIuZG93bik7XG4gICAgICAgICAgICAgICAgJChXUkFQUEVSX1NFTCkub2ZmKCd0b3VjaG1vdmUgJyArIE1TUG9pbnRlci5tb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICogUmV0dXJucyBhbmQgb2JqZWN0IHdpdGggTWljcm9zb2Z0IHBvaW50ZXJzIChmb3IgSUU8MTEgYW5kIGZvciBJRSA+PSAxMSlcbiAgICAgICAgKiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZG4zMDQ4ODYodj12cy44NSkuYXNweFxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNU1BvaW50ZXIoKXtcbiAgICAgICAgICAgIHZhciBwb2ludGVyO1xuXG4gICAgICAgICAgICAvL0lFID49IDExICYgcmVzdCBvZiBicm93c2Vyc1xuICAgICAgICAgICAgaWYod2luZG93LlBvaW50ZXJFdmVudCl7XG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHsgZG93bjogJ3BvaW50ZXJkb3duJywgbW92ZTogJ3BvaW50ZXJtb3ZlJ307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vSUUgPCAxMVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBwb2ludGVyID0geyBkb3duOiAnTVNQb2ludGVyRG93bicsIG1vdmU6ICdNU1BvaW50ZXJNb3ZlJ307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwb2ludGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogR2V0cyB0aGUgcGFnZVggYW5kIHBhZ2VZIHByb3BlcnRpZXMgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxuICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm90cmlnby9mdWxsUGFnZS5qcy9pc3N1ZXMvMTk0I2lzc3VlY29tbWVudC0zNDA2OTg1NFxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRFdmVudHNQYWdlKGUpe1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuXG4gICAgICAgICAgICBldmVudHMueSA9ICh0eXBlb2YgZS5wYWdlWSAhPT0gJ3VuZGVmaW5lZCcgJiYgKGUucGFnZVkgfHwgZS5wYWdlWCkgPyBlLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcbiAgICAgICAgICAgIGV2ZW50cy54ID0gKHR5cGVvZiBlLnBhZ2VYICE9PSAndW5kZWZpbmVkJyAmJiAoZS5wYWdlWSB8fCBlLnBhZ2VYKSA/IGUucGFnZVggOiBlLnRvdWNoZXNbMF0ucGFnZVgpO1xuXG4gICAgICAgICAgICAvL2luIHRvdWNoIGRldmljZXMgd2l0aCBzY3JvbGxCYXI6dHJ1ZSwgZS5wYWdlWSBpcyBkZXRlY3RlZCwgYnV0IHdlIGhhdmUgdG8gZGVhbCB3aXRoIHRvdWNoIGV2ZW50cy4gIzEwMDhcbiAgICAgICAgICAgIGlmKGlzVG91Y2ggJiYgaXNSZWFsbHlUb3VjaChlKSAmJiBvcHRpb25zLnNjcm9sbEJhcil7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnkgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudHM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTbGlkZXMgc2lsZW50bHkgKHdpdGggbm8gYW5pbWF0aW9uKSB0aGUgYWN0aXZlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNpbGVudExhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZSwgbm9DYWxsYmFja3Mpe1xuICAgICAgICAgICAgRlAuc2V0U2Nyb2xsaW5nU3BlZWQgKDAsICdpbnRlcm5hbCcpO1xuXG4gICAgICAgICAgICBpZih0eXBlb2Ygbm9DYWxsYmFja3MgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICAvL3ByZXZlbnRpbmcgZmlyaW5nIGNhbGxiYWNrcyBhZnRlclNsaWRlTG9hZCBldGMuXG4gICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZS5jbG9zZXN0KFNMSURFU19XUkFQUEVSX1NFTCksIGFjdGl2ZVNsaWRlKTtcblxuICAgICAgICAgICAgaWYodHlwZW9mIG5vQ2FsbGJhY2tzICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBGUC5zZXRTY3JvbGxpbmdTcGVlZChvcmlnaW5hbHMuc2Nyb2xsaW5nU3BlZWQsICdpbnRlcm5hbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2Nyb2xscyBzaWxlbnRseSAod2l0aCBubyBhbmltYXRpb24pIHRoZSBwYWdlIHRvIHRoZSBnaXZlbiBZIHBvc2l0aW9uLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzaWxlbnRTY3JvbGwodG9wKXtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsQmFyKXtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wKHRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmNzczMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoMHB4LCAtJyArIHRvcCArICdweCwgMHB4KSc7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKCd0b3AnLCAtdG9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFJldHVybnMgdGhlIGNyb3NzLWJyb3dzZXIgdHJhbnNmb3JtIHN0cmluZy5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0VHJhbnNmb3Jtcyh0cmFuc2xhdGUzZCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6IHRyYW5zbGF0ZTNkLFxuICAgICAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6IHRyYW5zbGF0ZTNkLFxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzp0cmFuc2xhdGUzZCxcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogdHJhbnNsYXRlM2RcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBBbGxvd2luZyBvciBkaXNhbGxvd2luZyB0aGUgbW91c2Uvc3dpcGUgc2Nyb2xsIGluIGEgZ2l2ZW4gZGlyZWN0aW9uLiAobm90IGZvciBrZXlib2FyZClcbiAgICAgICAgKiBAdHlwZSAgbSAobW91c2UpIG9yIGsgKGtleWJvYXJkKVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRJc1Njcm9sbEFsbG93ZWQodmFsdWUsIGRpcmVjdGlvbiwgdHlwZSl7XG4gICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbil7XG4gICAgICAgICAgICAgICAgY2FzZSAndXAnOiBpc1Njcm9sbEFsbG93ZWRbdHlwZV0udXAgPSB2YWx1ZTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZG93bic6IGlzU2Nyb2xsQWxsb3dlZFt0eXBlXS5kb3duID0gdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOiBpc1Njcm9sbEFsbG93ZWRbdHlwZV0ubGVmdCA9IHZhbHVlOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6IGlzU2Nyb2xsQWxsb3dlZFt0eXBlXS5yaWdodCA9IHZhbHVlOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlID09ICdtJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBGUC5zZXRBbGxvd1Njcm9sbGluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgRlAuc2V0S2V5Ym9hcmRTY3JvbGxpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAqIERlc3Ryb3lzIGZ1bGxwYWdlLmpzIHBsdWdpbiBldmVudHMgYW5kIG9wdGluYWxseSBpdHMgaHRtbCBtYXJrdXAgYW5kIHN0eWxlc1xuICAgICAgICAqL1xuICAgICAgICBGUC5kZXN0cm95ID0gZnVuY3Rpb24oYWxsKXtcbiAgICAgICAgICAgIEZQLnNldEF1dG9TY3JvbGxpbmcoZmFsc2UsICdpbnRlcm5hbCcpO1xuICAgICAgICAgICAgRlAuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgRlAuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKERFU1RST1lFRCk7XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNsaWRlTG9hZHNJZCk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYWZ0ZXJTZWN0aW9uTG9hZHNJZCk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzaXplSWQpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbElkKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzY3JvbGxJZDIpO1xuXG4gICAgICAgICAgICAkd2luZG93XG4gICAgICAgICAgICAgICAgLm9mZignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcilcbiAgICAgICAgICAgICAgICAub2ZmKCdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUhhbmRsZXIpXG4gICAgICAgICAgICAgICAgLm9mZigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG5cbiAgICAgICAgICAgICRkb2N1bWVudFxuICAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgU0VDVElPTl9OQVZfU0VMICsgJyBhJylcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZWVudGVyJywgU0VDVElPTl9OQVZfU0VMICsgJyBsaScpXG4gICAgICAgICAgICAgICAgLm9mZignbW91c2VsZWF2ZScsIFNFQ1RJT05fTkFWX1NFTCArICcgbGknKVxuICAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgU0xJREVTX05BVl9MSU5LX1NFTClcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZW92ZXInLCBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKVxuICAgICAgICAgICAgICAgIC5vZmYoJ21vdXNlb3V0Jywgb3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50cyk7XG5cbiAgICAgICAgICAgICQoU0VDVElPTl9TRUwpXG4gICAgICAgICAgICAgICAgLm9mZignY2xpY2snLCBTTElERVNfQVJST1dfU0VMKTtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFmdGVyU2xpZGVMb2Fkc0lkKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNlY3Rpb25Mb2Fkc0lkKTtcblxuICAgICAgICAgICAgLy9sZXRzIG1ha2UgYSBtZXNzIVxuICAgICAgICAgICAgaWYoYWxsKXtcbiAgICAgICAgICAgICAgICBkZXN0cm95U3RydWN0dXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLypcbiAgICAgICAgKiBSZW1vdmVzIGlubGluZSBzdHlsZXMgYWRkZWQgYnkgZnVsbHBhZ2UuanNcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveVN0cnVjdHVyZSgpe1xuICAgICAgICAgICAgLy9yZXNldGluZyB0aGUgYHRvcGAgb3IgYHRyYW5zbGF0ZWAgcHJvcGVydGllcyB0byAwXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoMCk7XG5cbiAgICAgICAgICAgICQoU0VDVElPTl9OQVZfU0VMICsgJywgJyArIFNMSURFU19OQVZfU0VMICsgICcsICcgKyBTTElERVNfQVJST1dfU0VMKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgLy9yZW1vdmluZyBpbmxpbmUgc3R5bGVzXG4gICAgICAgICAgICAkKFNFQ1RJT05fU0VMKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJycsXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InIDogJycsXG4gICAgICAgICAgICAgICAgJ3BhZGRpbmcnOiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoU0xJREVfU0VMKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5jc3Moe1xuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJyxcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnJyxcbiAgICAgICAgICAgICAgICAnLW1zLXRvdWNoLWFjdGlvbic6ICcnLFxuICAgICAgICAgICAgICAgICd0b3VjaC1hY3Rpb24nOiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRodG1sQm9keS5jc3Moe1xuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICcnLFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSAuZnAtZW5hYmxlZCBjbGFzc1xuICAgICAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKEVOQUJMRUQpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIG9mIHRoZSAuZnAtdmlld2luZy0gY2xhc3Nlc1xuICAgICAgICAgICAgJC5lYWNoKCRib2R5LmdldCgwKS5jbGFzc05hbWUuc3BsaXQoL1xccysvKSwgZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoVklFV0lOR19QUkVGSVgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRib2R5LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vcmVtb3ZpbmcgYWRkZWQgY2xhc3Nlc1xuICAgICAgICAgICAgJChTRUNUSU9OX1NFTCArICcsICcgKyBTTElERV9TRUwpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5yZW1vdmUoJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhUQUJMRSArICcgJyArIEFDVElWRSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmVtb3ZlQW5pbWF0aW9uKGNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIC8vVW53cmFwcGluZyBjb250ZW50XG4gICAgICAgICAgICBjb250YWluZXIuZmluZChUQUJMRV9DRUxMX1NFTCArICcsICcgKyBTTElERVNfQ09OVEFJTkVSX1NFTCArICcsICcgKyBTTElERVNfV1JBUFBFUl9TRUwpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAvL3Vud3JhcCBub3QgYmVpbmcgdXNlIGluIGNhc2UgdGhlcmUncyBubyBjaGlsZCBlbGVtZW50IGluc2lkZSBhbmQgaXRzIGp1c3QgdGV4dFxuICAgICAgICAgICAgICAgICQodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3Njcm9sbGluZyB0aGUgcGFnZSB0byB0aGUgdG9wIHdpdGggbm8gYW5pbWF0aW9uXG4gICAgICAgICAgICAkaHRtbEJvZHkuc2Nyb2xsVG9wKDApO1xuXG4gICAgICAgICAgICAvL3JlbW92aW5nIHNlbGVjdG9yc1xuICAgICAgICAgICAgdmFyIHVzZWRTZWxlY3RvcnMgPSBbU0VDVElPTiwgU0xJREUsIFNMSURFU19DT05UQUlORVJdO1xuICAgICAgICAgICAgJC5lYWNoKHVzZWRTZWxlY3RvcnMsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgJCgnLicgKyB2YWx1ZSkucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAqIFNldHMgdGhlIHN0YXRlIGZvciBhIHZhcmlhYmxlIHdpdGggbXVsdGlwbGUgc3RhdGVzIChvcmlnaW5hbCwgYW5kIHRlbXBvcmFsKVxuICAgICAgICAqIFNvbWUgdmFyaWFibGVzIHN1Y2ggYXMgYGF1dG9TY3JvbGxpbmdgIG9yIGByZWNvcmRIaXN0b3J5YCBtaWdodCBjaGFuZ2UgYXV0b21hdGljYWxseSBpdHMgc3RhdGUgd2hlbiB1c2luZyBgcmVzcG9uc2l2ZWAgb3IgYGF1dG9TY3JvbGxpbmc6ZmFsc2VgLlxuICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGJvdGggc3RhdGVzLCB0aGUgb3JpZ2luYWwgYW5kIHRoZSB0ZW1wb3JhbCBvbmUuXG4gICAgICAgICogSWYgdHlwZSBpcyBub3QgJ2ludGVybmFsJywgdGhlbiB3ZSBhc3N1bWUgdGhlIHVzZXIgaXMgZ2xvYmFsbHkgY2hhbmdpbmcgdGhlIHZhcmlhYmxlLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRWYXJpYWJsZVN0YXRlKHZhcmlhYmxlLCB2YWx1ZSwgdHlwZSl7XG4gICAgICAgICAgICBvcHRpb25zW3ZhcmlhYmxlXSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYodHlwZSAhPT0gJ2ludGVybmFsJyl7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxzW3ZhcmlhYmxlXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogRGlzcGxheXMgd2FybmluZ3NcbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGlzcGxheVdhcm5pbmdzKCl7XG4gICAgICAgICAgICBpZigkKCdodG1sJykuaGFzQ2xhc3MoRU5BQkxFRCkpe1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcignZXJyb3InLCAnRnVsbHBhZ2UuanMgY2FuIG9ubHkgYmUgaW5pdGlhbGl6ZWQgb25jZSBhbmQgeW91IGFyZSBkb2luZyBpdCBtdWx0aXBsZSB0aW1lcyEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgbXV0dWFsbHkgZXhjbHVzaXZlIHNldHRpbmdzXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiZcbiAgICAgICAgICAgICAgICAob3B0aW9ucy5sb29wVG9wIHx8IG9wdGlvbnMubG9vcEJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcignd2FybicsICdPcHRpb24gYGxvb3BUb3AvbG9vcEJvdHRvbWAgaXMgbXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYGNvbnRpbnVvdXNWZXJ0aWNhbGA7IGBjb250aW51b3VzVmVydGljYWxgIGRpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsQmFyICYmIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcignd2FybicsICdPcHRpb24gYHNjcm9sbEJhcmAgaXMgbXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYHNjcm9sbE92ZXJmbG93YC4gU2VjdGlvbnMgd2l0aCBzY3JvbGxPdmVyZmxvdyBtaWdodCBub3Qgd29yayB3ZWxsIGluIEZpcmVmb3gnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYob3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiYgb3B0aW9ucy5zY3JvbGxCYXIpe1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuY29udGludW91c1ZlcnRpY2FsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCd3YXJuJywgJ09wdGlvbiBgc2Nyb2xsQmFyYCBpcyBtdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgY29udGludW91c1ZlcnRpY2FsYDsgYGNvbnRpbnVvdXNWZXJ0aWNhbGAgZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9hbmNob3JzIGNhbiBub3QgaGF2ZSB0aGUgc2FtZSB2YWx1ZSBhcyBhbnkgZWxlbWVudCBJRCBvciBOQU1FXG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucy5hbmNob3JzLCBmdW5jdGlvbihpbmRleCwgbmFtZSl7XG5cbiAgICAgICAgICAgICAgICAvL2Nhc2UgaW5zZW5zaXRpdmUgc2VsZWN0b3JzIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xOTQ2NTE4Ny8xMDgxMzk2KVxuICAgICAgICAgICAgICAgIHZhciBuYW1lQXR0ciA9ICRkb2N1bWVudC5maW5kKCdbbmFtZV0nKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmF0dHIoJ25hbWUnKSAmJiAkKHRoaXMpLmF0dHIoJ25hbWUnKS50b0xvd2VyQ2FzZSgpID09IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBpZEF0dHIgPSAkZG9jdW1lbnQuZmluZCgnW2lkXScpLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuYXR0cignaWQnKSAmJiAkKHRoaXMpLmF0dHIoJ2lkJykudG9Mb3dlckNhc2UoKSA9PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZihpZEF0dHIubGVuZ3RoIHx8IG5hbWVBdHRyLmxlbmd0aCApe1xuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ2Vycm9yJywgJ2RhdGEtYW5jaG9yIHRhZ3MgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGFueSBgaWRgIGVsZW1lbnQgb24gdGhlIHNpdGUgKG9yIGBuYW1lYCBlbGVtZW50IGZvciBJRSkuJyk7XG4gICAgICAgICAgICAgICAgICAgIGlkQXR0ci5sZW5ndGggJiYgc2hvd0Vycm9yKCdlcnJvcicsICdcIicgKyBuYW1lICsgJ1wiIGlzIGlzIGJlaW5nIHVzZWQgYnkgYW5vdGhlciBlbGVtZW50IGBpZGAgcHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZUF0dHIubGVuZ3RoICYmIHNob3dFcnJvcignZXJyb3InLCAnXCInICsgbmFtZSArICdcIiBpcyBpcyBiZWluZyB1c2VkIGJ5IGFub3RoZXIgZWxlbWVudCBgbmFtZWAgcHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNob3dzIGEgbWVzc2FnZSBpbiB0aGUgY29uc29sZSBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2hvd0Vycm9yKHR5cGUsIHRleHQpe1xuICAgICAgICAgICAgY29uc29sZSAmJiBjb25zb2xlW3R5cGVdICYmIGNvbnNvbGVbdHlwZV0oJ2Z1bGxQYWdlOiAnICsgdGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHRvIGhhbmRsZSBvdmVyZmxvdyBzY3JvbGxpbmcuXG4gICAgICogVGhpcyB1c2VzIGpxdWVyeS5zbGltU2Nyb2xsIHRvIGFjY29tcGxpc2ggb3ZlcmZsb3cgc2Nyb2xsaW5nLlxuICAgICAqIEl0IGlzIHBvc3NpYmxlIHRvIHBhc3MgaW4gYW4gYWx0ZXJuYXRlIHNjcm9sbE92ZXJmbG93SGFuZGxlclxuICAgICAqIHRvIHRoZSBmdWxscGFnZS5qcyBvcHRpb24gdGhhdCBpbXBsZW1lbnRzIHRoZSBzYW1lIGZ1bmN0aW9uc1xuICAgICAqIGFzIHRoaXMgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFyIHNsaW1TY3JvbGxIYW5kbGVyID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIGVhY2ggcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTb2x2ZXMgYSBidWcgd2l0aCBzbGltU2Nyb2xsIHZlbmRvciBsaWJyYXJ5ICMxMDM3LCAjNTUzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAge29iamVjdH0gc2VjdGlvbiBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgcmVuZGVyZWQgc2VjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uKHNlY3Rpb24pe1xuICAgICAgICAgICAgdmFyIHNsaWRlcyA9IHNlY3Rpb24uZmluZChTTElERVNfV1JBUFBFUik7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsYWJsZVdyYXAgPSBzZWN0aW9uLmZpbmQoU0NST0xMQUJMRV9TRUwpO1xuXG4gICAgICAgICAgICBpZihzbGlkZXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBzY3JvbGxhYmxlV3JhcCA9IHNsaWRlcy5maW5kKFNMSURFX0FDVElWRV9TRUwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY3JvbGxhYmxlV3JhcC5tb3VzZW92ZXIoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gb3ZlcmZsb3cgc2Nyb2xsaW5nIGlzIG5lZWRlZCBmb3IgYSBzZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgICAgICBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgY3VycmVudCBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSAge051bWJlcn0gc2Nyb2xsSGVpZ2h0IEN1cnJlbnQgd2luZG93IGhlaWdodCBpbiBwaXhlbHNcbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgc2Nyb2xsSGVpZ2h0KXtcbiAgICAgICAgICAgIGVsZW1lbnQuZmluZChTQ1JPTExBQkxFX1NFTCkuc2xpbVNjcm9sbCh7XG4gICAgICAgICAgICAgICAgYWxsb3dQYWdlU2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGhlaWdodDogc2Nyb2xsSGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBzaXplOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgYWx3YXlzVmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiBhIGJvb2xlYW4gZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHNjcm9sbGFibGUgZWxlbWVudCBpcyBhXG4gICAgICAgICAqIHRoZSBlbmQgb3IgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzY3JvbGxpbmcgZGVwZW5kaW5nIG9uIHRoZSBnaXZlbiB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICB0eXBlICAgICAgIEVpdGhlciAndG9wJyBvciAnYm90dG9tJ1xuICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBzY3JvbGxhYmxlIGpRdWVyeSBvYmplY3QgZm9yIHRoZSBzY3JvbGxhYmxlIGVsZW1lbnRcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGlzU2Nyb2xsZWQ6IGZ1bmN0aW9uKHR5cGUsIHNjcm9sbGFibGUpe1xuICAgICAgICAgICAgaWYodHlwZSA9PT0gJ3RvcCcpe1xuICAgICAgICAgICAgICAgIHJldHVybiAhc2Nyb2xsYWJsZS5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICdib3R0b20nKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsYWJsZS5zY3JvbGxUb3AoKSArIDEgKyBzY3JvbGxhYmxlLmlubmVySGVpZ2h0KCkgPj0gc2Nyb2xsYWJsZVswXS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHNjcm9sbGFibGUgZWxlbWVudCBmb3IgdGhlIGdpdmVuIHNlY3Rpb24uXG4gICAgICAgICAqIElmIHRoZXJlIGFyZSBsYW5kc2NhcGUgc2xpZGVzLCB3aWxsIG9ubHkgcmV0dXJuIGEgc2Nyb2xsYWJsZSBlbGVtZW50XG4gICAgICAgICAqIGlmIGl0IGlzIGluIHRoZSBhY3RpdmUgc2xpZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gIGFjdGl2ZVNlY3Rpb24galF1ZXJ5IG9iamVjdCBjb250YWluaW5nIGN1cnJlbnQgc2VjdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgc2Nyb2xsYWJsZTogZnVuY3Rpb24oYWN0aXZlU2VjdGlvbil7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgbGFuZHNjYXBlIHNsaWRlcywgd2UgY2hlY2sgaWYgdGhlIHNjcm9sbGluZyBiYXIgaXMgaW4gdGhlIGN1cnJlbnQgb25lIG9yIG5vdFxuICAgICAgICAgICAgaWYoYWN0aXZlU2VjdGlvbi5maW5kKFNMSURFU19XUkFQUEVSX1NFTCkubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2VjdGlvbi5maW5kKFNMSURFX0FDVElWRV9TRUwpLmZpbmQoU0NST0xMQUJMRV9TRUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNlY3Rpb24uZmluZChTQ1JPTExBQkxFX1NFTCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHNjcm9sbCBoZWlnaHQgb2YgdGhlIHdyYXBwZWQgY29udGVudC5cbiAgICAgICAgICogSWYgdGhpcyBpcyBsYXJnZXIgdGhhbiB0aGUgd2luZG93IGhlaWdodCBtaW51cyBzZWN0aW9uIHBhZGRpbmcsXG4gICAgICAgICAqIG92ZXJmbG93IHNjcm9sbGluZyBpcyBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudCBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgY3VycmVudCBzZWN0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHNjcm9sbEhlaWdodDogZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5maW5kKFNDUk9MTEFCTEVfU0VMKS5nZXQoMCkuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBvdmVyZmxvdyBzY3JvbGxpbmcgaXMgbm8gbG9uZ2VyIG5lZWRlZCBmb3IgYSBzZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgICAgICBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgY3VycmVudCBzZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICAgICAgZWxlbWVudC5maW5kKFNDUk9MTEFCTEVfU0VMKS5jaGlsZHJlbigpLmZpcnN0KCkudW53cmFwKCkudW53cmFwKCk7XG4gICAgICAgICAgICBlbGVtZW50LmZpbmQoU0xJTVNDUk9MTF9CQVJfU0VMKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZmluZChTTElNU0NST0xMX1JBSUxfU0VMKS5yZW1vdmUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gb3ZlcmZsb3cgc2Nyb2xsaW5nIGhhcyBhbHJlYWR5IGJlZW4gc2V0dXAgYnV0IHRoZVxuICAgICAgICAgKiB3aW5kb3cgaGVpZ2h0IGhhcyBwb3RlbnRpYWxseSBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgICAgICBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgY3VycmVudCBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSAge051bWJlcn0gc2Nyb2xsSGVpZ2h0IEN1cnJlbnQgd2luZG93IGhlaWdodCBpbiBwaXhlbHNcbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgc2Nyb2xsSGVpZ2h0KXtcbiAgICAgICAgICAgIGVsZW1lbnQuZmluZChTQ1JPTExBQkxFX1NFTCkuY3NzKCdoZWlnaHQnLCBzY3JvbGxIZWlnaHQgKyAncHgnKS5wYXJlbnQoKS5jc3MoJ2hlaWdodCcsIHNjcm9sbEhlaWdodCArICdweCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsZWQgdG8gZ2V0IGFueSBhZGRpdGlvbmFsIGVsZW1lbnRzIG5lZWRlZCB0byB3cmFwIHRoZSBzZWN0aW9uXG4gICAgICAgICAqIGNvbnRlbnQgaW4gb3JkZXIgdG8gZmFjaWxpdGF0ZSBvdmVyZmxvdyBzY3JvbGxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ3xPYmplY3R9IENhbiBiZSBhIHN0cmluZyBjb250YWluaW5nIEhUTUwsXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIGEgRE9NIGVsZW1lbnQsIG9yIGpRdWVyeSBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB3cmFwQ29udGVudDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicgKyBTQ1JPTExBQkxFICsgJ1wiPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVmYXVsdFNjcm9sbEhhbmRsZXIgPSBzbGltU2Nyb2xsSGFuZGxlcjtcblxufSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2pzL2xpYi9qcXVlcnkuZnVsbFBhZ2UuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
]);